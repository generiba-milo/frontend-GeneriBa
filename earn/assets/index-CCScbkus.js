function jF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ol(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var e1={exports:{}},Zf={},t1={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function BF(){if(cC)return zt;cC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function E($,b,R){this.props=$,this.context=b,this.refs=_,this.updater=R||x}E.prototype.isReactComponent={},E.prototype.setState=function($,b){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,b,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=E.prototype;function L($,b,R){this.props=$,this.context=b,this.refs=_,this.updater=R||x}var M=L.prototype=new N;M.constructor=L,T(M,E.prototype),M.isPureReactComponent=!0;var Z=Array.isArray,J=Object.prototype.hasOwnProperty,re={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function U($,b,R){var Q,ie={},ue=null,ce=null;if(b!=null)for(Q in b.ref!==void 0&&(ce=b.ref),b.key!==void 0&&(ue=""+b.key),b)J.call(b,Q)&&!q.hasOwnProperty(Q)&&(ie[Q]=b[Q]);var _e=arguments.length-2;if(_e===1)ie.children=R;else if(1<_e){for(var Me=Array(_e),Ve=0;Ve<_e;Ve++)Me[Ve]=arguments[Ve+2];ie.children=Me}if($&&$.defaultProps)for(Q in _e=$.defaultProps,_e)ie[Q]===void 0&&(ie[Q]=_e[Q]);return{$$typeof:t,type:$,key:ue,ref:ce,props:ie,_owner:re.current}}function P($,b){return{$$typeof:t,type:$.type,key:b,ref:$.ref,props:$.props,_owner:$._owner}}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function H($){var b={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(R){return b[R]})}var k=/\/+/g;function S($,b){return typeof $=="object"&&$!==null&&$.key!=null?H(""+$.key):b.toString(36)}function g($,b,R,Q,ie){var ue=typeof $;(ue==="undefined"||ue==="boolean")&&($=null);var ce=!1;if($===null)ce=!0;else switch(ue){case"string":case"number":ce=!0;break;case"object":switch($.$$typeof){case t:case e:ce=!0}}if(ce)return ce=$,ie=ie(ce),$=Q===""?"."+S(ce,0):Q,Z(ie)?(R="",$!=null&&(R=$.replace(k,"$&/")+"/"),g(ie,b,R,"",function(Ve){return Ve})):ie!=null&&(z(ie)&&(ie=P(ie,R+(!ie.key||ce&&ce.key===ie.key?"":(""+ie.key).replace(k,"$&/")+"/")+$)),b.push(ie)),1;if(ce=0,Q=Q===""?".":Q+":",Z($))for(var _e=0;_e<$.length;_e++){ue=$[_e];var Me=Q+S(ue,_e);ce+=g(ue,b,R,Me,ie)}else if(Me=v($),typeof Me=="function")for($=Me.call($),_e=0;!(ue=$.next()).done;)ue=ue.value,Me=Q+S(ue,_e++),ce+=g(ue,b,R,Me,ie);else if(ue==="object")throw b=String($),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return ce}function I($,b,R){if($==null)return $;var Q=[],ie=0;return g($,Q,"","",function(ue){return b.call(R,ue,ie++)}),Q}function W($){if($._status===-1){var b=$._result;b=b(),b.then(function(R){($._status===0||$._status===-1)&&($._status=1,$._result=R)},function(R){($._status===0||$._status===-1)&&($._status=2,$._result=R)}),$._status===-1&&($._status=0,$._result=b)}if($._status===1)return $._result.default;throw $._result}var Y={current:null},K={transition:null},X={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:K,ReactCurrentOwner:re};function se(){throw Error("act(...) is not supported in production builds of React.")}return zt.Children={map:I,forEach:function($,b,R){I($,function(){b.apply(this,arguments)},R)},count:function($){var b=0;return I($,function(){b++}),b},toArray:function($){return I($,function(b){return b})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}},zt.Component=E,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=L,zt.StrictMode=r,zt.Suspense=u,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,zt.act=se,zt.cloneElement=function($,b,R){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Q=T({},$.props),ie=$.key,ue=$.ref,ce=$._owner;if(b!=null){if(b.ref!==void 0&&(ue=b.ref,ce=re.current),b.key!==void 0&&(ie=""+b.key),$.type&&$.type.defaultProps)var _e=$.type.defaultProps;for(Me in b)J.call(b,Me)&&!q.hasOwnProperty(Me)&&(Q[Me]=b[Me]===void 0&&_e!==void 0?_e[Me]:b[Me])}var Me=arguments.length-2;if(Me===1)Q.children=R;else if(1<Me){_e=Array(Me);for(var Ve=0;Ve<Me;Ve++)_e[Ve]=arguments[Ve+2];Q.children=_e}return{$$typeof:t,type:$.type,key:ie,ref:ue,props:Q,_owner:ce}},zt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},zt.createElement=U,zt.createFactory=function($){var b=U.bind(null,$);return b.type=$,b},zt.createRef=function(){return{current:null}},zt.forwardRef=function($){return{$$typeof:l,render:$}},zt.isValidElement=z,zt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:W}},zt.memo=function($,b){return{$$typeof:d,type:$,compare:b===void 0?null:b}},zt.startTransition=function($){var b=K.transition;K.transition={};try{$()}finally{K.transition=b}},zt.unstable_act=se,zt.useCallback=function($,b){return Y.current.useCallback($,b)},zt.useContext=function($){return Y.current.useContext($)},zt.useDebugValue=function(){},zt.useDeferredValue=function($){return Y.current.useDeferredValue($)},zt.useEffect=function($,b){return Y.current.useEffect($,b)},zt.useId=function(){return Y.current.useId()},zt.useImperativeHandle=function($,b,R){return Y.current.useImperativeHandle($,b,R)},zt.useInsertionEffect=function($,b){return Y.current.useInsertionEffect($,b)},zt.useLayoutEffect=function($,b){return Y.current.useLayoutEffect($,b)},zt.useMemo=function($,b){return Y.current.useMemo($,b)},zt.useReducer=function($,b,R){return Y.current.useReducer($,b,R)},zt.useRef=function($){return Y.current.useRef($)},zt.useState=function($){return Y.current.useState($)},zt.useSyncExternalStore=function($,b,R){return Y.current.useSyncExternalStore($,b,R)},zt.useTransition=function(){return Y.current.useTransition()},zt.version="18.3.1",zt}var uC;function g0(){return uC||(uC=1,t1.exports=BF()),t1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function FF(){if(dC)return Zf;dC=1;var t=g0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,p={},v=null,x=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:l,key:v,ref:x,props:p,_owner:i.current}}return Zf.Fragment=n,Zf.jsx=o,Zf.jsxs=o,Zf}var fC;function VF(){return fC||(fC=1,e1.exports=FF()),e1.exports}var y=VF(),Qm={},n1={exports:{}},Ti={},r1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function UF(){return hC||(hC=1,(function(t){function e(K,X){var se=K.length;K.push(X);e:for(;0<se;){var $=se-1>>>1,b=K[$];if(0<i(b,X))K[$]=X,K[se]=b,se=$;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var X=K[0],se=K.pop();if(se!==X){K[0]=se;e:for(var $=0,b=K.length,R=b>>>1;$<R;){var Q=2*($+1)-1,ie=K[Q],ue=Q+1,ce=K[ue];if(0>i(ie,se))ue<b&&0>i(ce,ie)?(K[$]=ce,K[ue]=se,$=ue):(K[$]=ie,K[Q]=se,$=Q);else if(ue<b&&0>i(ce,se))K[$]=ce,K[ue]=se,$=ue;else break e}}return X}function i(K,X){var se=K.sortIndex-X.sortIndex;return se!==0?se:K.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,p=null,v=3,x=!1,T=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(K){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=K)r(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function Z(K){if(_=!1,M(K),!T)if(n(u)!==null)T=!0,W(J);else{var X=n(d);X!==null&&Y(Z,X.startTime-K)}}function J(K,X){T=!1,_&&(_=!1,N(U),U=-1),x=!0;var se=v;try{for(M(X),p=n(u);p!==null&&(!(p.expirationTime>X)||K&&!H());){var $=p.callback;if(typeof $=="function"){p.callback=null,v=p.priorityLevel;var b=$(p.expirationTime<=X);X=t.unstable_now(),typeof b=="function"?p.callback=b:p===n(u)&&r(u),M(X)}else r(u);p=n(u)}if(p!==null)var R=!0;else{var Q=n(d);Q!==null&&Y(Z,Q.startTime-X),R=!1}return R}finally{p=null,v=se,x=!1}}var re=!1,q=null,U=-1,P=5,z=-1;function H(){return!(t.unstable_now()-z<P)}function k(){if(q!==null){var K=t.unstable_now();z=K;var X=!0;try{X=q(!0,K)}finally{X?S():(re=!1,q=null)}}else re=!1}var S;if(typeof L=="function")S=function(){L(k)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,I=g.port2;g.port1.onmessage=k,S=function(){I.postMessage(null)}}else S=function(){E(k,0)};function W(K){q=K,re||(re=!0,S())}function Y(K,X){U=E(function(){K(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,W(J))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var se=v;v=X;try{return K()}finally{v=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=v;v=K;try{return X()}finally{v=se}},t.unstable_scheduleCallback=function(K,X,se){var $=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,K){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=se+b,K={id:f++,callback:X,priorityLevel:K,startTime:se,expirationTime:b,sortIndex:-1},se>$?(K.sortIndex=se,e(d,K),n(u)===null&&K===n(d)&&(_?(N(U),U=-1):_=!0,Y(Z,se-$))):(K.sortIndex=b,e(u,K),T||x||(T=!0,W(J))),K},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(K){var X=v;return function(){var se=v;v=X;try{return K.apply(this,arguments)}finally{v=se}}}})(i1)),i1}var pC;function zF(){return pC||(pC=1,r1.exports=UF()),r1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function WF(){if(mC)return Ti;mC=1;var t=g0(),e=zF();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function x(a,c,h,w){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return w?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,h,w){if(c===null||typeof c>"u"||x(a,c,h,w))return!0;if(w)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(a,c,h,w,A,O,te){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=O,this.removeEmptyString=te}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];E[c]=new _(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(N,L);E[c]=new _(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(N,L);E[c]=new _(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(N,L);E[c]=new _(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function M(a,c,h,w){var A=E.hasOwnProperty(c)?E[c]:null;(A!==null?A.type!==0:w||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,h,A,w)&&(h=null),w||A===null?v(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):A.mustUseProperty?a[A.propertyName]=h===null?A.type===3?!1:"":h:(c=A.attributeName,w=A.attributeNamespace,h===null?a.removeAttribute(c):(A=A.type,h=A===3||A===4&&h===!0?"":""+h,w?a.setAttributeNS(w,c,h):a.setAttribute(c,h))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),re=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),K=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var se=Object.assign,$;function b(a){if($===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+a}var R=!1;function Q(a,c){if(!a||R)return"";R=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ie){var w=Ie}Reflect.construct(a,[],c)}else{try{c.call()}catch(Ie){w=Ie}a.call(c.prototype)}else{try{throw Error()}catch(Ie){w=Ie}a()}}catch(Ie){if(Ie&&w&&typeof Ie.stack=="string"){for(var A=Ie.stack.split(`
`),O=w.stack.split(`
`),te=A.length-1,de=O.length-1;1<=te&&0<=de&&A[te]!==O[de];)de--;for(;1<=te&&0<=de;te--,de--)if(A[te]!==O[de]){if(te!==1||de!==1)do if(te--,de--,0>de||A[te]!==O[de]){var me=`
`+A[te].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=te&&0<=de);break}}}finally{R=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?b(a):""}function ie(a){switch(a.tag){case 5:return b(a.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return a=Q(a.type,!1),a;case 11:return a=Q(a.type.render,!1),a;case 1:return a=Q(a.type,!0),a;default:return""}}function ue(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case q:return"Fragment";case re:return"Portal";case P:return"Profiler";case U:return"StrictMode";case S:return"Suspense";case g:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case H:return(a.displayName||"Context")+".Consumer";case z:return(a._context.displayName||"Context")+".Provider";case k:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return c=a.displayName||null,c!==null?c:ue(a.type)||"Memo";case W:c=a._payload,a=a._init;try{return ue(a(c))}catch{}}return null}function ce(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(c);case 8:return c===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function _e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Me(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ve(a){var c=Me(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),w=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var A=h.get,O=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return A.call(this)},set:function(te){w=""+te,O.call(this,te)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return w},setValue:function(te){w=""+te},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function We(a){a._valueTracker||(a._valueTracker=Ve(a))}function tt(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),w="";return a&&(w=Me(a)?a.checked?"true":"false":a.value),a=w,a!==h?(c.setValue(a),!0):!1}function Yt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Dt(a,c){var h=c.checked;return se({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Wt(a,c){var h=c.defaultValue==null?"":c.defaultValue,w=c.checked!=null?c.checked:c.defaultChecked;h=_e(c.value!=null?c.value:h),a._wrapperState={initialChecked:w,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function xn(a,c){c=c.checked,c!=null&&M(a,"checked",c,!1)}function Pt(a,c){xn(a,c);var h=_e(c.value),w=c.type;if(h!=null)w==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?fn(a,c.type,h):c.hasOwnProperty("defaultValue")&&fn(a,c.type,_e(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function en(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var w=c.type;if(!(w!=="submit"&&w!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function fn(a,c,h){(c!=="number"||Yt(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var vt=Array.isArray;function Lt(a,c,h,w){if(a=a.options,c){c={};for(var A=0;A<h.length;A++)c["$"+h[A]]=!0;for(h=0;h<a.length;h++)A=c.hasOwnProperty("$"+a[h].value),a[h].selected!==A&&(a[h].selected=A),A&&w&&(a[h].defaultSelected=!0)}else{for(h=""+_e(h),c=null,A=0;A<a.length;A++){if(a[A].value===h){a[A].selected=!0,w&&(a[A].defaultSelected=!0);return}c!==null||a[A].disabled||(c=a[A])}c!==null&&(c.selected=!0)}}function rn(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ft(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(vt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:_e(h)}}function Qt(a,c){var h=_e(c.value),w=_e(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),w!=null&&(a.defaultValue=""+w)}function wn(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ct(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ct(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var In,qt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,w,A){MSApp.execUnsafeLocalFunction(function(){return a(c,h,w,A)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(In=In||document.createElement("div"),In.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=In.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function ne(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var j={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V=["Webkit","ms","Moz","O"];Object.keys(j).forEach(function(a){V.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),j[c]=j[a]})});function le(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||j.hasOwnProperty(a)&&j[a]?(""+c).trim():c+"px"}function he(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var w=h.indexOf("--")===0,A=le(h,c[h],w);h==="float"&&(h="cssFloat"),w?a.setProperty(h,A):a[h]=A}}var ye=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(a,c){if(c){if(ye[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function xt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=null;function at(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var jt=null,Je=null,ht=null;function yn(a){if(a=jf(a)){if(typeof jt!="function")throw Error(n(280));var c=a.stateNode;c&&(c=dm(c),jt(a.stateNode,a.type,c))}}function Xt(a){Je?ht?ht.push(a):ht=[a]:Je=a}function $e(){if(Je){var a=Je,c=ht;if(ht=Je=null,yn(a),c)for(a=0;a<c.length;a++)yn(c[a])}}function Rt(a,c){return a(c)}function pt(){}var ee=!1;function D(a,c,h){if(ee)return a(c,h);ee=!0;try{return Rt(a,c,h)}finally{ee=!1,(Je!==null||ht!==null)&&(pt(),$e())}}function F(a,c){var h=a.stateNode;if(h===null)return null;var w=dm(h);if(w===null)return null;h=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var ae=!1;if(l)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){ae=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{ae=!1}function we(a,c,h,w,A,O,te,de,me){var Ie=Array.prototype.slice.call(arguments,3);try{c.apply(h,Ie)}catch(Le){this.onError(Le)}}var Ce=!1,bt=null,Et=!1,st=null,un={onError:function(a){Ce=!0,bt=a}};function dt(a,c,h,w,A,O,te,de,me){Ce=!1,bt=null,we.apply(un,arguments)}function bn(a,c,h,w,A,O,te,de,me){if(dt.apply(this,arguments),Ce){if(Ce){var Ie=bt;Ce=!1,bt=null}else throw Error(n(198));Et||(Et=!0,st=Ie)}}function wi(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function En(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Cn(a){if(wi(a)!==a)throw Error(n(188))}function Ca(a){var c=a.alternate;if(!c){if(c=wi(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,w=c;;){var A=h.return;if(A===null)break;var O=A.alternate;if(O===null){if(w=A.return,w!==null){h=w;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===h)return Cn(A),a;if(O===w)return Cn(A),c;O=O.sibling}throw Error(n(188))}if(h.return!==w.return)h=A,w=O;else{for(var te=!1,de=A.child;de;){if(de===h){te=!0,h=A,w=O;break}if(de===w){te=!0,w=A,h=O;break}de=de.sibling}if(!te){for(de=O.child;de;){if(de===h){te=!0,h=O,w=A;break}if(de===w){te=!0,w=O,h=A;break}de=de.sibling}if(!te)throw Error(n(189))}}if(h.alternate!==w)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function Ra(a){return a=Ca(a),a!==null?fs(a):null}function fs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=fs(a);if(c!==null)return c;a=a.sibling}return null}var ko=e.unstable_scheduleCallback,zs=e.unstable_cancelCallback,hs=e.unstable_shouldYield,ki=e.unstable_requestPaint,hn=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,Ws=e.unstable_ImmediatePriority,Po=e.unstable_UserBlockingPriority,ps=e.unstable_NormalPriority,Lo=e.unstable_LowPriority,$s=e.unstable_IdlePriority,ms=null,kr=null;function Ma(a){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(ms,a,void 0,(a.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:zl,vi=Math.log,Ki=Math.LN2;function zl(a){return a>>>=0,a===0?32:31-(vi(a)/Ki|0)|0}var qs=64,Na=4194304;function ln(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Do(a,c){var h=a.pendingLanes;if(h===0)return 0;var w=0,A=a.suspendedLanes,O=a.pingedLanes,te=h&268435455;if(te!==0){var de=te&~A;de!==0?w=ln(de):(O&=te,O!==0&&(w=ln(O)))}else te=h&~A,te!==0?w=ln(te):O!==0&&(w=ln(O));if(w===0)return 0;if(c!==0&&c!==w&&(c&A)===0&&(A=w&-w,O=c&-c,A>=O||A===16&&(O&4194240)!==0))return c;if((w&4)!==0&&(w|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=w;0<c;)h=31-Pr(c),A=1<<h,w|=a[h],c&=~A;return w}function Wl(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(a,c){for(var h=a.suspendedLanes,w=a.pingedLanes,A=a.expirationTimes,O=a.pendingLanes;0<O;){var te=31-Pr(O),de=1<<te,me=A[te];me===-1?((de&h)===0||(de&w)!==0)&&(A[te]=Wl(de,c)):me<=c&&(a.expiredLanes|=de),O&=~de}}function gf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yf(){var a=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),a}function wf(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ql(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Pr(c),a[c]=h}function kw(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<h;){var A=31-Pr(h),O=1<<A;c[A]=0,w[A]=-1,a[A]=-1,h&=~O}}function vf(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var w=31-Pr(h),A=1<<w;A&c|a[w]&c&&(a[w]|=c),h&=~A}}var Zt=0;function Hs(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var xf,hu,bf,Ef,_f,Ks=!1,pu=[],Gs=null,Ys=null,Lr=null,Hl=new Map,Oo=new Map,Pi=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(a,c){switch(a){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Hl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(c.pointerId)}}function gs(a,c,h,w,A,O){return a===null||a.nativeEvent!==O?(a={blockedOn:c,domEventName:h,eventSystemFlags:w,nativeEvent:O,targetContainers:[A]},c!==null&&(c=jf(c),c!==null&&hu(c)),a):(a.eventSystemFlags|=w,c=a.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),a)}function Qp(a,c,h,w,A){switch(c){case"focusin":return Gs=gs(Gs,a,c,h,w,A),!0;case"dragenter":return Ys=gs(Ys,a,c,h,w,A),!0;case"mouseover":return Lr=gs(Lr,a,c,h,w,A),!0;case"pointerover":var O=A.pointerId;return Hl.set(O,gs(Hl.get(O)||null,a,c,h,w,A)),!0;case"gotpointercapture":return O=A.pointerId,Oo.set(O,gs(Oo.get(O)||null,a,c,h,w,A)),!0}return!1}function mu(a){var c=Ql(a.target);if(c!==null){var h=wi(c);if(h!==null){if(c=h.tag,c===13){if(c=En(h),c!==null){a.blockedOn=c,_f(a.priority,function(){bf(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vn(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=gu(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var w=new h.constructor(h.type,h);it=w,h.target.dispatchEvent(w),it=null}else return c=jf(h),c!==null&&hu(c),a.blockedOn=h,!1;c.shift()}return!0}function Xp(a,c,h){vn(a)&&h.delete(c)}function Pw(){Ks=!1,Gs!==null&&vn(Gs)&&(Gs=null),Ys!==null&&vn(Ys)&&(Ys=null),Lr!==null&&vn(Lr)&&(Lr=null),Hl.forEach(Xp),Oo.forEach(Xp)}function Pa(a,c){a.blockedOn===c&&(a.blockedOn=null,Ks||(Ks=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pw)))}function La(a){function c(A){return Pa(A,a)}if(0<pu.length){Pa(pu[0],a);for(var h=1;h<pu.length;h++){var w=pu[h];w.blockedOn===a&&(w.blockedOn=null)}}for(Gs!==null&&Pa(Gs,a),Ys!==null&&Pa(Ys,a),Lr!==null&&Pa(Lr,a),Hl.forEach(c),Oo.forEach(c),h=0;h<Pi.length;h++)w=Pi[h],w.blockedOn===a&&(w.blockedOn=null);for(;0<Pi.length&&(h=Pi[0],h.blockedOn===null);)mu(h),h.blockedOn===null&&Pi.shift()}var jo=Z.ReactCurrentBatchConfig,Bo=!0;function Qs(a,c,h,w){var A=Zt,O=jo.transition;jo.transition=null;try{Zt=1,Sf(a,c,h,w)}finally{Zt=A,jo.transition=O}}function Zp(a,c,h,w){var A=Zt,O=jo.transition;jo.transition=null;try{Zt=4,Sf(a,c,h,w)}finally{Zt=A,jo.transition=O}}function Sf(a,c,h,w){if(Bo){var A=gu(a,c,h,w);if(A===null)$w(a,c,w,Xs,h),ka(a,w);else if(Qp(A,a,c,h,w))w.stopPropagation();else if(ka(a,w),c&4&&-1<Yp.indexOf(a)){for(;A!==null;){var O=jf(A);if(O!==null&&xf(O),O=gu(a,c,h,w),O===null&&$w(a,c,w,Xs,h),O===A)break;A=O}A!==null&&w.stopPropagation()}else $w(a,c,w,null,h)}}var Xs=null;function gu(a,c,h,w){if(Xs=null,a=at(w),a=Ql(a),a!==null)if(c=wi(a),c===null)a=null;else if(h=c.tag,h===13){if(a=En(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Xs=a,null}function yu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case Ws:return 1;case Po:return 4;case ps:case Lo:return 16;case $s:return 536870912;default:return 16}default:return 16}}var Li=null,wu=null,Fo=null;function Jp(){if(Fo)return Fo;var a,c=wu,h=c.length,w,A="value"in Li?Li.value:Li.textContent,O=A.length;for(a=0;a<h&&c[a]===A[a];a++);var te=h-a;for(w=1;w<=te&&c[h-w]===A[O-w];w++);return Fo=A.slice(a,1<w?1-w:void 0)}function Kl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Zs(){return!0}function Tf(){return!1}function Kr(a){function c(h,w,A,O,te){this._reactName=h,this._targetInst=A,this.type=w,this.nativeEvent=O,this.target=te,this.currentTarget=null;for(var de in a)a.hasOwnProperty(de)&&(h=a[de],this[de]=h?h(O):O[de]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Zs:Tf,this.isPropagationStopped=Tf,this}return se(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),c}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Kr(Js),Da=se({},Js,{view:0,detail:0}),vu=Kr(Da),xu,bu,Di,Yl=se({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Di&&(Di&&a.type==="mousemove"?(xu=a.screenX-Di.screenX,bu=a.screenY-Di.screenY):bu=xu=0,Di=a),xu)},movementY:function(a){return"movementY"in a?a.movementY:bu}}),Af=Kr(Yl),em=se({},Yl,{dataTransfer:0}),tm=Kr(em),Eu=se({},Da,{relatedTarget:0}),Dr=Kr(Eu),nm=se({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Kr(nm),Oa=se({},Js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),m=Kr(Oa),B=se({},Js,{data:0}),G=Kr(B),oe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},be={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Re={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ue(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Re[a])?!!c[a]:!1}function Nt(){return Ue}var Xn=se({},Da,{key:function(a){if(a.key){var c=oe[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Kl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?be[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nt,charCode:function(a){return a.type==="keypress"?Kl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),pn=Kr(Xn),sr=se({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Kr(sr),Vo=se({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nt}),eo=Kr(Vo),to=se({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Kr(to),If=se({},Yl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),N8=Kr(If),k8=[9,13,27,32],Lw=l&&"CompositionEvent"in window,Cf=null;l&&"documentMode"in document&&(Cf=document.documentMode);var P8=l&&"TextEvent"in window&&!Cf,tA=l&&(!Lw||Cf&&8<Cf&&11>=Cf),nA=" ",rA=!1;function iA(a,c){switch(a){case"keyup":return k8.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sA(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Su=!1;function L8(a,c){switch(a){case"compositionend":return sA(c);case"keypress":return c.which!==32?null:(rA=!0,nA);case"textInput":return a=c.data,a===nA&&rA?null:a;default:return null}}function D8(a,c){if(Su)return a==="compositionend"||!Lw&&iA(a,c)?(a=Jp(),Fo=wu=Li=null,Su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return tA&&c.locale!=="ko"?null:c.data;default:return null}}var O8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!O8[a.type]:c==="textarea"}function aA(a,c,h,w){Xt(w),c=lm(c,"onChange"),0<c.length&&(h=new Gl("onChange","change",null,h,w),a.push({event:h,listeners:c}))}var Rf=null,Mf=null;function j8(a){TA(a,0)}function im(a){var c=Ru(a);if(tt(c))return a}function B8(a,c){if(a==="change")return c}var lA=!1;if(l){var Dw;if(l){var Ow="oninput"in document;if(!Ow){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),Ow=typeof cA.oninput=="function"}Dw=Ow}else Dw=!1;lA=Dw&&(!document.documentMode||9<document.documentMode)}function uA(){Rf&&(Rf.detachEvent("onpropertychange",dA),Mf=Rf=null)}function dA(a){if(a.propertyName==="value"&&im(Mf)){var c=[];aA(c,Mf,a,at(a)),D(j8,c)}}function F8(a,c,h){a==="focusin"?(uA(),Rf=c,Mf=h,Rf.attachEvent("onpropertychange",dA)):a==="focusout"&&uA()}function V8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return im(Mf)}function U8(a,c){if(a==="click")return im(c)}function z8(a,c){if(a==="input"||a==="change")return im(c)}function W8(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ys=typeof Object.is=="function"?Object.is:W8;function Nf(a,c){if(ys(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),w=Object.keys(c);if(h.length!==w.length)return!1;for(w=0;w<h.length;w++){var A=h[w];if(!u.call(c,A)||!ys(a[A],c[A]))return!1}return!0}function fA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hA(a,c){var h=fA(a);a=0;for(var w;h;){if(h.nodeType===3){if(w=a+h.textContent.length,a<=c&&w>=c)return{node:h,offset:c-a};a=w}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=fA(h)}}function pA(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?pA(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function mA(){for(var a=window,c=Yt();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Yt(a.document)}return c}function jw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function $8(a){var c=mA(),h=a.focusedElem,w=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&pA(h.ownerDocument.documentElement,h)){if(w!==null&&jw(h)){if(c=w.start,a=w.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var A=h.textContent.length,O=Math.min(w.start,A);w=w.end===void 0?O:Math.min(w.end,A),!a.extend&&O>w&&(A=w,w=O,O=A),A=hA(h,O);var te=hA(h,w);A&&te&&(a.rangeCount!==1||a.anchorNode!==A.node||a.anchorOffset!==A.offset||a.focusNode!==te.node||a.focusOffset!==te.offset)&&(c=c.createRange(),c.setStart(A.node,A.offset),a.removeAllRanges(),O>w?(a.addRange(c),a.extend(te.node,te.offset)):(c.setEnd(te.node,te.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var q8=l&&"documentMode"in document&&11>=document.documentMode,Tu=null,Bw=null,kf=null,Fw=!1;function gA(a,c,h){var w=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Fw||Tu==null||Tu!==Yt(w)||(w=Tu,"selectionStart"in w&&jw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),kf&&Nf(kf,w)||(kf=w,w=lm(Bw,"onSelect"),0<w.length&&(c=new Gl("onSelect","select",null,c,h),a.push({event:c,listeners:w}),c.target=Tu)))}function sm(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Au={animationend:sm("Animation","AnimationEnd"),animationiteration:sm("Animation","AnimationIteration"),animationstart:sm("Animation","AnimationStart"),transitionend:sm("Transition","TransitionEnd")},Vw={},yA={};l&&(yA=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function om(a){if(Vw[a])return Vw[a];if(!Au[a])return a;var c=Au[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in yA)return Vw[a]=c[h];return a}var wA=om("animationend"),vA=om("animationiteration"),xA=om("animationstart"),bA=om("transitionend"),EA=new Map,_A="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(a,c){EA.set(a,c),s(c,[a])}for(var Uw=0;Uw<_A.length;Uw++){var zw=_A[Uw],H8=zw.toLowerCase(),K8=zw[0].toUpperCase()+zw.slice(1);ja(H8,"on"+K8)}ja(wA,"onAnimationEnd"),ja(vA,"onAnimationIteration"),ja(xA,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(bA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function SA(a,c,h){var w=a.type||"unknown-event";a.currentTarget=h,bn(w,c,void 0,a),a.currentTarget=null}function TA(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var w=a[h],A=w.event;w=w.listeners;e:{var O=void 0;if(c)for(var te=w.length-1;0<=te;te--){var de=w[te],me=de.instance,Ie=de.currentTarget;if(de=de.listener,me!==O&&A.isPropagationStopped())break e;SA(A,de,Ie),O=me}else for(te=0;te<w.length;te++){if(de=w[te],me=de.instance,Ie=de.currentTarget,de=de.listener,me!==O&&A.isPropagationStopped())break e;SA(A,de,Ie),O=me}}}if(Et)throw a=st,Et=!1,st=null,a}function Rn(a,c){var h=c[Qw];h===void 0&&(h=c[Qw]=new Set);var w=a+"__bubble";h.has(w)||(AA(c,a,2,!1),h.add(w))}function Ww(a,c,h){var w=0;c&&(w|=4),AA(h,a,w,c)}var am="_reactListening"+Math.random().toString(36).slice(2);function Lf(a){if(!a[am]){a[am]=!0,r.forEach(function(h){h!=="selectionchange"&&(G8.has(h)||Ww(h,!1,a),Ww(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[am]||(c[am]=!0,Ww("selectionchange",!1,c))}}function AA(a,c,h,w){switch(yu(c)){case 1:var A=Qs;break;case 4:A=Zp;break;default:A=Sf}h=A.bind(null,c,h,a),A=void 0,!ae||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),w?A!==void 0?a.addEventListener(c,h,{capture:!0,passive:A}):a.addEventListener(c,h,!0):A!==void 0?a.addEventListener(c,h,{passive:A}):a.addEventListener(c,h,!1)}function $w(a,c,h,w,A){var O=w;if((c&1)===0&&(c&2)===0&&w!==null)e:for(;;){if(w===null)return;var te=w.tag;if(te===3||te===4){var de=w.stateNode.containerInfo;if(de===A||de.nodeType===8&&de.parentNode===A)break;if(te===4)for(te=w.return;te!==null;){var me=te.tag;if((me===3||me===4)&&(me=te.stateNode.containerInfo,me===A||me.nodeType===8&&me.parentNode===A))return;te=te.return}for(;de!==null;){if(te=Ql(de),te===null)return;if(me=te.tag,me===5||me===6){w=O=te;continue e}de=de.parentNode}}w=w.return}D(function(){var Ie=O,Le=at(h),je=[];e:{var Pe=EA.get(a);if(Pe!==void 0){var Ge=Gl,Ze=a;switch(a){case"keypress":if(Kl(h)===0)break e;case"keydown":case"keyup":Ge=pn;break;case"focusin":Ze="focus",Ge=Dr;break;case"focusout":Ze="blur",Ge=Dr;break;case"beforeblur":case"afterblur":Ge=Dr;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=eo;break;case wA:case vA:case xA:Ge=rm;break;case bA:Ge=_u;break;case"scroll":Ge=vu;break;case"wheel":Ge=N8;break;case"copy":case"cut":case"paste":Ge=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Oi}var et=(c&4)!==0,Zn=!et&&a==="scroll",xe=et?Pe!==null?Pe+"Capture":null:Pe;et=[];for(var ge=Ie,Se;ge!==null;){Se=ge;var Be=Se.stateNode;if(Se.tag===5&&Be!==null&&(Se=Be,xe!==null&&(Be=F(ge,xe),Be!=null&&et.push(Df(ge,Be,Se)))),Zn)break;ge=ge.return}0<et.length&&(Pe=new Ge(Pe,Ze,null,h,Le),je.push({event:Pe,listeners:et}))}}if((c&7)===0){e:{if(Pe=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Pe&&h!==it&&(Ze=h.relatedTarget||h.fromElement)&&(Ql(Ze)||Ze[Uo]))break e;if((Ge||Pe)&&(Pe=Le.window===Le?Le:(Pe=Le.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Ge?(Ze=h.relatedTarget||h.toElement,Ge=Ie,Ze=Ze?Ql(Ze):null,Ze!==null&&(Zn=wi(Ze),Ze!==Zn||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(Ge=null,Ze=Ie),Ge!==Ze)){if(et=Af,Be="onMouseLeave",xe="onMouseEnter",ge="mouse",(a==="pointerout"||a==="pointerover")&&(et=Oi,Be="onPointerLeave",xe="onPointerEnter",ge="pointer"),Zn=Ge==null?Pe:Ru(Ge),Se=Ze==null?Pe:Ru(Ze),Pe=new et(Be,ge+"leave",Ge,h,Le),Pe.target=Zn,Pe.relatedTarget=Se,Be=null,Ql(Le)===Ie&&(et=new et(xe,ge+"enter",Ze,h,Le),et.target=Se,et.relatedTarget=Zn,Be=et),Zn=Be,Ge&&Ze)t:{for(et=Ge,xe=Ze,ge=0,Se=et;Se;Se=Iu(Se))ge++;for(Se=0,Be=xe;Be;Be=Iu(Be))Se++;for(;0<ge-Se;)et=Iu(et),ge--;for(;0<Se-ge;)xe=Iu(xe),Se--;for(;ge--;){if(et===xe||xe!==null&&et===xe.alternate)break t;et=Iu(et),xe=Iu(xe)}et=null}else et=null;Ge!==null&&IA(je,Pe,Ge,et,!1),Ze!==null&&Zn!==null&&IA(je,Zn,Ze,et,!0)}}e:{if(Pe=Ie?Ru(Ie):window,Ge=Pe.nodeName&&Pe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Pe.type==="file")var nt=B8;else if(oA(Pe))if(lA)nt=z8;else{nt=V8;var mt=F8}else(Ge=Pe.nodeName)&&Ge.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(nt=U8);if(nt&&(nt=nt(a,Ie))){aA(je,nt,h,Le);break e}mt&&mt(a,Pe,Ie),a==="focusout"&&(mt=Pe._wrapperState)&&mt.controlled&&Pe.type==="number"&&fn(Pe,"number",Pe.value)}switch(mt=Ie?Ru(Ie):window,a){case"focusin":(oA(mt)||mt.contentEditable==="true")&&(Tu=mt,Bw=Ie,kf=null);break;case"focusout":kf=Bw=Tu=null;break;case"mousedown":Fw=!0;break;case"contextmenu":case"mouseup":case"dragend":Fw=!1,gA(je,h,Le);break;case"selectionchange":if(q8)break;case"keydown":case"keyup":gA(je,h,Le)}var gt;if(Lw)e:{switch(a){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else Su?iA(a,h)&&(At="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(At="onCompositionStart");At&&(tA&&h.locale!=="ko"&&(Su||At!=="onCompositionStart"?At==="onCompositionEnd"&&Su&&(gt=Jp()):(Li=Le,wu="value"in Li?Li.value:Li.textContent,Su=!0)),mt=lm(Ie,At),0<mt.length&&(At=new G(At,a,null,h,Le),je.push({event:At,listeners:mt}),gt?At.data=gt:(gt=sA(h),gt!==null&&(At.data=gt)))),(gt=P8?L8(a,h):D8(a,h))&&(Ie=lm(Ie,"onBeforeInput"),0<Ie.length&&(Le=new G("onBeforeInput","beforeinput",null,h,Le),je.push({event:Le,listeners:Ie}),Le.data=gt))}TA(je,c)})}function Df(a,c,h){return{instance:a,listener:c,currentTarget:h}}function lm(a,c){for(var h=c+"Capture",w=[];a!==null;){var A=a,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=F(a,h),O!=null&&w.unshift(Df(a,O,A)),O=F(a,c),O!=null&&w.push(Df(a,O,A))),a=a.return}return w}function Iu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function IA(a,c,h,w,A){for(var O=c._reactName,te=[];h!==null&&h!==w;){var de=h,me=de.alternate,Ie=de.stateNode;if(me!==null&&me===w)break;de.tag===5&&Ie!==null&&(de=Ie,A?(me=F(h,O),me!=null&&te.unshift(Df(h,me,de))):A||(me=F(h,O),me!=null&&te.push(Df(h,me,de)))),h=h.return}te.length!==0&&a.push({event:c,listeners:te})}var Y8=/\r\n?/g,Q8=/\u0000|\uFFFD/g;function CA(a){return(typeof a=="string"?a:""+a).replace(Y8,`
`).replace(Q8,"")}function cm(a,c,h){if(c=CA(c),CA(a)!==c&&h)throw Error(n(425))}function um(){}var qw=null,Hw=null;function Kw(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Gw=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(a){return RA.resolve(null).then(a).catch(J8)}:Gw;function J8(a){setTimeout(function(){throw a})}function Yw(a,c){var h=c,w=0;do{var A=h.nextSibling;if(a.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(w===0){a.removeChild(A),La(c);return}w--}else h!=="$"&&h!=="$?"&&h!=="$!"||w++;h=A}while(h);La(c)}function Ba(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function MA(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),no="__reactFiber$"+Cu,Of="__reactProps$"+Cu,Uo="__reactContainer$"+Cu,Qw="__reactEvents$"+Cu,eF="__reactListeners$"+Cu,tF="__reactHandles$"+Cu;function Ql(a){var c=a[no];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Uo]||h[no]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=MA(a);a!==null;){if(h=a[no])return h;a=MA(a)}return c}a=h,h=a.parentNode}return null}function jf(a){return a=a[no]||a[Uo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ru(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function dm(a){return a[Of]||null}var Xw=[],Mu=-1;function Fa(a){return{current:a}}function Mn(a){0>Mu||(a.current=Xw[Mu],Xw[Mu]=null,Mu--)}function _n(a,c){Mu++,Xw[Mu]=a.current,a.current=c}var Va={},Gr=Fa(Va),xi=Fa(!1),Xl=Va;function Nu(a,c){var h=a.type.contextTypes;if(!h)return Va;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in h)A[O]=c[O];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=A),A}function bi(a){return a=a.childContextTypes,a!=null}function fm(){Mn(xi),Mn(Gr)}function NA(a,c,h){if(Gr.current!==Va)throw Error(n(168));_n(Gr,c),_n(xi,h)}function kA(a,c,h){var w=a.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return h;w=w.getChildContext();for(var A in w)if(!(A in c))throw Error(n(108,ce(a)||"Unknown",A));return se({},h,w)}function hm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Va,Xl=Gr.current,_n(Gr,a),_n(xi,xi.current),!0}function PA(a,c,h){var w=a.stateNode;if(!w)throw Error(n(169));h?(a=kA(a,c,Xl),w.__reactInternalMemoizedMergedChildContext=a,Mn(xi),Mn(Gr),_n(Gr,a)):Mn(xi),_n(xi,h)}var zo=null,pm=!1,Zw=!1;function LA(a){zo===null?zo=[a]:zo.push(a)}function nF(a){pm=!0,LA(a)}function Ua(){if(!Zw&&zo!==null){Zw=!0;var a=0,c=Zt;try{var h=zo;for(Zt=1;a<h.length;a++){var w=h[a];do w=w(!0);while(w!==null)}zo=null,pm=!1}catch(A){throw zo!==null&&(zo=zo.slice(a+1)),ko(Ws,Ua),A}finally{Zt=c,Zw=!1}}return null}var ku=[],Pu=0,mm=null,gm=0,Gi=[],Yi=0,Zl=null,Wo=1,$o="";function Jl(a,c){ku[Pu++]=gm,ku[Pu++]=mm,mm=a,gm=c}function DA(a,c,h){Gi[Yi++]=Wo,Gi[Yi++]=$o,Gi[Yi++]=Zl,Zl=a;var w=Wo;a=$o;var A=32-Pr(w)-1;w&=~(1<<A),h+=1;var O=32-Pr(c)+A;if(30<O){var te=A-A%5;O=(w&(1<<te)-1).toString(32),w>>=te,A-=te,Wo=1<<32-Pr(c)+A|h<<A|w,$o=O+a}else Wo=1<<O|h<<A|w,$o=a}function Jw(a){a.return!==null&&(Jl(a,1),DA(a,1,0))}function ev(a){for(;a===mm;)mm=ku[--Pu],ku[Pu]=null,gm=ku[--Pu],ku[Pu]=null;for(;a===Zl;)Zl=Gi[--Yi],Gi[Yi]=null,$o=Gi[--Yi],Gi[Yi]=null,Wo=Gi[--Yi],Gi[Yi]=null}var ji=null,Bi=null,Ln=!1,ws=null;function OA(a,c){var h=Ji(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function jA(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,ji=a,Bi=Ba(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,ji=a,Bi=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Zl!==null?{id:Wo,overflow:$o}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Ji(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,ji=a,Bi=null,!0):!1;default:return!1}}function tv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function nv(a){if(Ln){var c=Bi;if(c){var h=c;if(!jA(a,c)){if(tv(a))throw Error(n(418));c=Ba(h.nextSibling);var w=ji;c&&jA(a,c)?OA(w,h):(a.flags=a.flags&-4097|2,Ln=!1,ji=a)}}else{if(tv(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ln=!1,ji=a}}}function BA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ji=a}function ym(a){if(a!==ji)return!1;if(!Ln)return BA(a),Ln=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Kw(a.type,a.memoizedProps)),c&&(c=Bi)){if(tv(a))throw FA(),Error(n(418));for(;c;)OA(a,c),c=Ba(c.nextSibling)}if(BA(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Bi=Ba(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Bi=null}}else Bi=ji?Ba(a.stateNode.nextSibling):null;return!0}function FA(){for(var a=Bi;a;)a=Ba(a.nextSibling)}function Lu(){Bi=ji=null,Ln=!1}function rv(a){ws===null?ws=[a]:ws.push(a)}var rF=Z.ReactCurrentBatchConfig;function Bf(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var w=h.stateNode}if(!w)throw Error(n(147,a));var A=w,O=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===O?c.ref:(c=function(te){var de=A.refs;te===null?delete de[O]:de[O]=te},c._stringRef=O,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function wm(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function VA(a){var c=a._init;return c(a._payload)}function UA(a){function c(xe,ge){if(a){var Se=xe.deletions;Se===null?(xe.deletions=[ge],xe.flags|=16):Se.push(ge)}}function h(xe,ge){if(!a)return null;for(;ge!==null;)c(xe,ge),ge=ge.sibling;return null}function w(xe,ge){for(xe=new Map;ge!==null;)ge.key!==null?xe.set(ge.key,ge):xe.set(ge.index,ge),ge=ge.sibling;return xe}function A(xe,ge){return xe=Ya(xe,ge),xe.index=0,xe.sibling=null,xe}function O(xe,ge,Se){return xe.index=Se,a?(Se=xe.alternate,Se!==null?(Se=Se.index,Se<ge?(xe.flags|=2,ge):Se):(xe.flags|=2,ge)):(xe.flags|=1048576,ge)}function te(xe){return a&&xe.alternate===null&&(xe.flags|=2),xe}function de(xe,ge,Se,Be){return ge===null||ge.tag!==6?(ge=Gv(Se,xe.mode,Be),ge.return=xe,ge):(ge=A(ge,Se),ge.return=xe,ge)}function me(xe,ge,Se,Be){var nt=Se.type;return nt===q?Le(xe,ge,Se.props.children,Be,Se.key):ge!==null&&(ge.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&VA(nt)===ge.type)?(Be=A(ge,Se.props),Be.ref=Bf(xe,ge,Se),Be.return=xe,Be):(Be=zm(Se.type,Se.key,Se.props,null,xe.mode,Be),Be.ref=Bf(xe,ge,Se),Be.return=xe,Be)}function Ie(xe,ge,Se,Be){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Se.containerInfo||ge.stateNode.implementation!==Se.implementation?(ge=Yv(Se,xe.mode,Be),ge.return=xe,ge):(ge=A(ge,Se.children||[]),ge.return=xe,ge)}function Le(xe,ge,Se,Be,nt){return ge===null||ge.tag!==7?(ge=ac(Se,xe.mode,Be,nt),ge.return=xe,ge):(ge=A(ge,Se),ge.return=xe,ge)}function je(xe,ge,Se){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Gv(""+ge,xe.mode,Se),ge.return=xe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case J:return Se=zm(ge.type,ge.key,ge.props,null,xe.mode,Se),Se.ref=Bf(xe,null,ge),Se.return=xe,Se;case re:return ge=Yv(ge,xe.mode,Se),ge.return=xe,ge;case W:var Be=ge._init;return je(xe,Be(ge._payload),Se)}if(vt(ge)||X(ge))return ge=ac(ge,xe.mode,Se,null),ge.return=xe,ge;wm(xe,ge)}return null}function Pe(xe,ge,Se,Be){var nt=ge!==null?ge.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return nt!==null?null:de(xe,ge,""+Se,Be);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case J:return Se.key===nt?me(xe,ge,Se,Be):null;case re:return Se.key===nt?Ie(xe,ge,Se,Be):null;case W:return nt=Se._init,Pe(xe,ge,nt(Se._payload),Be)}if(vt(Se)||X(Se))return nt!==null?null:Le(xe,ge,Se,Be,null);wm(xe,Se)}return null}function Ge(xe,ge,Se,Be,nt){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return xe=xe.get(Se)||null,de(ge,xe,""+Be,nt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case J:return xe=xe.get(Be.key===null?Se:Be.key)||null,me(ge,xe,Be,nt);case re:return xe=xe.get(Be.key===null?Se:Be.key)||null,Ie(ge,xe,Be,nt);case W:var mt=Be._init;return Ge(xe,ge,Se,mt(Be._payload),nt)}if(vt(Be)||X(Be))return xe=xe.get(Se)||null,Le(ge,xe,Be,nt,null);wm(ge,Be)}return null}function Ze(xe,ge,Se,Be){for(var nt=null,mt=null,gt=ge,At=ge=0,Ar=null;gt!==null&&At<Se.length;At++){gt.index>At?(Ar=gt,gt=null):Ar=gt.sibling;var sn=Pe(xe,gt,Se[At],Be);if(sn===null){gt===null&&(gt=Ar);break}a&&gt&&sn.alternate===null&&c(xe,gt),ge=O(sn,ge,At),mt===null?nt=sn:mt.sibling=sn,mt=sn,gt=Ar}if(At===Se.length)return h(xe,gt),Ln&&Jl(xe,At),nt;if(gt===null){for(;At<Se.length;At++)gt=je(xe,Se[At],Be),gt!==null&&(ge=O(gt,ge,At),mt===null?nt=gt:mt.sibling=gt,mt=gt);return Ln&&Jl(xe,At),nt}for(gt=w(xe,gt);At<Se.length;At++)Ar=Ge(gt,xe,At,Se[At],Be),Ar!==null&&(a&&Ar.alternate!==null&&gt.delete(Ar.key===null?At:Ar.key),ge=O(Ar,ge,At),mt===null?nt=Ar:mt.sibling=Ar,mt=Ar);return a&&gt.forEach(function(Qa){return c(xe,Qa)}),Ln&&Jl(xe,At),nt}function et(xe,ge,Se,Be){var nt=X(Se);if(typeof nt!="function")throw Error(n(150));if(Se=nt.call(Se),Se==null)throw Error(n(151));for(var mt=nt=null,gt=ge,At=ge=0,Ar=null,sn=Se.next();gt!==null&&!sn.done;At++,sn=Se.next()){gt.index>At?(Ar=gt,gt=null):Ar=gt.sibling;var Qa=Pe(xe,gt,sn.value,Be);if(Qa===null){gt===null&&(gt=Ar);break}a&&gt&&Qa.alternate===null&&c(xe,gt),ge=O(Qa,ge,At),mt===null?nt=Qa:mt.sibling=Qa,mt=Qa,gt=Ar}if(sn.done)return h(xe,gt),Ln&&Jl(xe,At),nt;if(gt===null){for(;!sn.done;At++,sn=Se.next())sn=je(xe,sn.value,Be),sn!==null&&(ge=O(sn,ge,At),mt===null?nt=sn:mt.sibling=sn,mt=sn);return Ln&&Jl(xe,At),nt}for(gt=w(xe,gt);!sn.done;At++,sn=Se.next())sn=Ge(gt,xe,At,sn.value,Be),sn!==null&&(a&&sn.alternate!==null&&gt.delete(sn.key===null?At:sn.key),ge=O(sn,ge,At),mt===null?nt=sn:mt.sibling=sn,mt=sn);return a&&gt.forEach(function(OF){return c(xe,OF)}),Ln&&Jl(xe,At),nt}function Zn(xe,ge,Se,Be){if(typeof Se=="object"&&Se!==null&&Se.type===q&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case J:e:{for(var nt=Se.key,mt=ge;mt!==null;){if(mt.key===nt){if(nt=Se.type,nt===q){if(mt.tag===7){h(xe,mt.sibling),ge=A(mt,Se.props.children),ge.return=xe,xe=ge;break e}}else if(mt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&VA(nt)===mt.type){h(xe,mt.sibling),ge=A(mt,Se.props),ge.ref=Bf(xe,mt,Se),ge.return=xe,xe=ge;break e}h(xe,mt);break}else c(xe,mt);mt=mt.sibling}Se.type===q?(ge=ac(Se.props.children,xe.mode,Be,Se.key),ge.return=xe,xe=ge):(Be=zm(Se.type,Se.key,Se.props,null,xe.mode,Be),Be.ref=Bf(xe,ge,Se),Be.return=xe,xe=Be)}return te(xe);case re:e:{for(mt=Se.key;ge!==null;){if(ge.key===mt)if(ge.tag===4&&ge.stateNode.containerInfo===Se.containerInfo&&ge.stateNode.implementation===Se.implementation){h(xe,ge.sibling),ge=A(ge,Se.children||[]),ge.return=xe,xe=ge;break e}else{h(xe,ge);break}else c(xe,ge);ge=ge.sibling}ge=Yv(Se,xe.mode,Be),ge.return=xe,xe=ge}return te(xe);case W:return mt=Se._init,Zn(xe,ge,mt(Se._payload),Be)}if(vt(Se))return Ze(xe,ge,Se,Be);if(X(Se))return et(xe,ge,Se,Be);wm(xe,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ge!==null&&ge.tag===6?(h(xe,ge.sibling),ge=A(ge,Se),ge.return=xe,xe=ge):(h(xe,ge),ge=Gv(Se,xe.mode,Be),ge.return=xe,xe=ge),te(xe)):h(xe,ge)}return Zn}var Du=UA(!0),zA=UA(!1),vm=Fa(null),xm=null,Ou=null,iv=null;function sv(){iv=Ou=xm=null}function ov(a){var c=vm.current;Mn(vm),a._currentValue=c}function av(a,c,h){for(;a!==null;){var w=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),a===h)break;a=a.return}}function ju(a,c){xm=a,iv=Ou=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Ei=!0),a.firstContext=null)}function Qi(a){var c=a._currentValue;if(iv!==a)if(a={context:a,memoizedValue:c,next:null},Ou===null){if(xm===null)throw Error(n(308));Ou=a,xm.dependencies={lanes:0,firstContext:a}}else Ou=Ou.next=a;return c}var ec=null;function lv(a){ec===null?ec=[a]:ec.push(a)}function WA(a,c,h,w){var A=c.interleaved;return A===null?(h.next=h,lv(c)):(h.next=A.next,A.next=h),c.interleaved=h,qo(a,w)}function qo(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var za=!1;function cv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $A(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ho(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Wa(a,c,h){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,(nn&2)!==0){var A=w.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),w.pending=c,qo(a,h)}return A=w.interleaved,A===null?(c.next=c,lv(w)):(c.next=A.next,A.next=c),w.interleaved=c,qo(a,h)}function bm(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var w=c.lanes;w&=a.pendingLanes,h|=w,c.lanes=h,vf(a,h)}}function qA(a,c){var h=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,h===w)){var A=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var te={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};O===null?A=O=te:O=O.next=te,h=h.next}while(h!==null);O===null?A=O=c:O=O.next=c}else A=O=c;h={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:w.shared,effects:w.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function Em(a,c,h,w){var A=a.updateQueue;za=!1;var O=A.firstBaseUpdate,te=A.lastBaseUpdate,de=A.shared.pending;if(de!==null){A.shared.pending=null;var me=de,Ie=me.next;me.next=null,te===null?O=Ie:te.next=Ie,te=me;var Le=a.alternate;Le!==null&&(Le=Le.updateQueue,de=Le.lastBaseUpdate,de!==te&&(de===null?Le.firstBaseUpdate=Ie:de.next=Ie,Le.lastBaseUpdate=me))}if(O!==null){var je=A.baseState;te=0,Le=Ie=me=null,de=O;do{var Pe=de.lane,Ge=de.eventTime;if((w&Pe)===Pe){Le!==null&&(Le=Le.next={eventTime:Ge,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var Ze=a,et=de;switch(Pe=c,Ge=h,et.tag){case 1:if(Ze=et.payload,typeof Ze=="function"){je=Ze.call(Ge,je,Pe);break e}je=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=et.payload,Pe=typeof Ze=="function"?Ze.call(Ge,je,Pe):Ze,Pe==null)break e;je=se({},je,Pe);break e;case 2:za=!0}}de.callback!==null&&de.lane!==0&&(a.flags|=64,Pe=A.effects,Pe===null?A.effects=[de]:Pe.push(de))}else Ge={eventTime:Ge,lane:Pe,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Le===null?(Ie=Le=Ge,me=je):Le=Le.next=Ge,te|=Pe;if(de=de.next,de===null){if(de=A.shared.pending,de===null)break;Pe=de,de=Pe.next,Pe.next=null,A.lastBaseUpdate=Pe,A.shared.pending=null}}while(!0);if(Le===null&&(me=je),A.baseState=me,A.firstBaseUpdate=Ie,A.lastBaseUpdate=Le,c=A.shared.interleaved,c!==null){A=c;do te|=A.lane,A=A.next;while(A!==c)}else O===null&&(A.shared.lanes=0);rc|=te,a.lanes=te,a.memoizedState=je}}function HA(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var w=a[c],A=w.callback;if(A!==null){if(w.callback=null,w=h,typeof A!="function")throw Error(n(191,A));A.call(w)}}}var Ff={},ro=Fa(Ff),Vf=Fa(Ff),Uf=Fa(Ff);function tc(a){if(a===Ff)throw Error(n(174));return a}function uv(a,c){switch(_n(Uf,c),_n(Vf,a),_n(ro,Ff),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Vt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Vt(c,a)}Mn(ro),_n(ro,c)}function Bu(){Mn(ro),Mn(Vf),Mn(Uf)}function KA(a){tc(Uf.current);var c=tc(ro.current),h=Vt(c,a.type);c!==h&&(_n(Vf,a),_n(ro,h))}function dv(a){Vf.current===a&&(Mn(ro),Mn(Vf))}var Fn=Fa(0);function _m(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fv=[];function hv(){for(var a=0;a<fv.length;a++)fv[a]._workInProgressVersionPrimary=null;fv.length=0}var Sm=Z.ReactCurrentDispatcher,pv=Z.ReactCurrentBatchConfig,nc=0,Vn=null,vr=null,Sr=null,Tm=!1,zf=!1,Wf=0,iF=0;function Yr(){throw Error(n(321))}function mv(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!ys(a[h],c[h]))return!1;return!0}function gv(a,c,h,w,A,O){if(nc=O,Vn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Sm.current=a===null||a.memoizedState===null?lF:cF,a=h(w,A),zf){O=0;do{if(zf=!1,Wf=0,25<=O)throw Error(n(301));O+=1,Sr=vr=null,c.updateQueue=null,Sm.current=uF,a=h(w,A)}while(zf)}if(Sm.current=Cm,c=vr!==null&&vr.next!==null,nc=0,Sr=vr=Vn=null,Tm=!1,c)throw Error(n(300));return a}function yv(){var a=Wf!==0;return Wf=0,a}function io(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Vn.memoizedState=Sr=a:Sr=Sr.next=a,Sr}function Xi(){if(vr===null){var a=Vn.alternate;a=a!==null?a.memoizedState:null}else a=vr.next;var c=Sr===null?Vn.memoizedState:Sr.next;if(c!==null)Sr=c,vr=a;else{if(a===null)throw Error(n(310));vr=a,a={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Sr===null?Vn.memoizedState=Sr=a:Sr=Sr.next=a}return Sr}function $f(a,c){return typeof c=="function"?c(a):c}function wv(a){var c=Xi(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var w=vr,A=w.baseQueue,O=h.pending;if(O!==null){if(A!==null){var te=A.next;A.next=O.next,O.next=te}w.baseQueue=A=O,h.pending=null}if(A!==null){O=A.next,w=w.baseState;var de=te=null,me=null,Ie=O;do{var Le=Ie.lane;if((nc&Le)===Le)me!==null&&(me=me.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),w=Ie.hasEagerState?Ie.eagerState:a(w,Ie.action);else{var je={lane:Le,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};me===null?(de=me=je,te=w):me=me.next=je,Vn.lanes|=Le,rc|=Le}Ie=Ie.next}while(Ie!==null&&Ie!==O);me===null?te=w:me.next=de,ys(w,c.memoizedState)||(Ei=!0),c.memoizedState=w,c.baseState=te,c.baseQueue=me,h.lastRenderedState=w}if(a=h.interleaved,a!==null){A=a;do O=A.lane,Vn.lanes|=O,rc|=O,A=A.next;while(A!==a)}else A===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function vv(a){var c=Xi(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var w=h.dispatch,A=h.pending,O=c.memoizedState;if(A!==null){h.pending=null;var te=A=A.next;do O=a(O,te.action),te=te.next;while(te!==A);ys(O,c.memoizedState)||(Ei=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),h.lastRenderedState=O}return[O,w]}function GA(){}function YA(a,c){var h=Vn,w=Xi(),A=c(),O=!ys(w.memoizedState,A);if(O&&(w.memoizedState=A,Ei=!0),w=w.queue,xv(ZA.bind(null,h,w,a),[a]),w.getSnapshot!==c||O||Sr!==null&&Sr.memoizedState.tag&1){if(h.flags|=2048,qf(9,XA.bind(null,h,w,A,c),void 0,null),Tr===null)throw Error(n(349));(nc&30)!==0||QA(h,c,A)}return A}function QA(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Vn.updateQueue,c===null?(c={lastEffect:null,stores:null},Vn.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function XA(a,c,h,w){c.value=h,c.getSnapshot=w,JA(c)&&eI(a)}function ZA(a,c,h){return h(function(){JA(c)&&eI(a)})}function JA(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!ys(a,h)}catch{return!0}}function eI(a){var c=qo(a,1);c!==null&&Es(c,a,1,-1)}function tI(a){var c=io();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$f,lastRenderedState:a},c.queue=a,a=a.dispatch=aF.bind(null,Vn,a),[c.memoizedState,a]}function qf(a,c,h,w){return a={tag:a,create:c,destroy:h,deps:w,next:null},c=Vn.updateQueue,c===null?(c={lastEffect:null,stores:null},Vn.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(w=h.next,h.next=a,a.next=w,c.lastEffect=a)),a}function nI(){return Xi().memoizedState}function Am(a,c,h,w){var A=io();Vn.flags|=a,A.memoizedState=qf(1|c,h,void 0,w===void 0?null:w)}function Im(a,c,h,w){var A=Xi();w=w===void 0?null:w;var O=void 0;if(vr!==null){var te=vr.memoizedState;if(O=te.destroy,w!==null&&mv(w,te.deps)){A.memoizedState=qf(c,h,O,w);return}}Vn.flags|=a,A.memoizedState=qf(1|c,h,O,w)}function rI(a,c){return Am(8390656,8,a,c)}function xv(a,c){return Im(2048,8,a,c)}function iI(a,c){return Im(4,2,a,c)}function sI(a,c){return Im(4,4,a,c)}function oI(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function aI(a,c,h){return h=h!=null?h.concat([a]):null,Im(4,4,oI.bind(null,c,a),h)}function bv(){}function lI(a,c){var h=Xi();c=c===void 0?null:c;var w=h.memoizedState;return w!==null&&c!==null&&mv(c,w[1])?w[0]:(h.memoizedState=[a,c],a)}function cI(a,c){var h=Xi();c=c===void 0?null:c;var w=h.memoizedState;return w!==null&&c!==null&&mv(c,w[1])?w[0]:(a=a(),h.memoizedState=[a,c],a)}function uI(a,c,h){return(nc&21)===0?(a.baseState&&(a.baseState=!1,Ei=!0),a.memoizedState=h):(ys(h,c)||(h=yf(),Vn.lanes|=h,rc|=h,a.baseState=!0),c)}function sF(a,c){var h=Zt;Zt=h!==0&&4>h?h:4,a(!0);var w=pv.transition;pv.transition={};try{a(!1),c()}finally{Zt=h,pv.transition=w}}function dI(){return Xi().memoizedState}function oF(a,c,h){var w=Ka(a);if(h={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null},fI(a))hI(c,h);else if(h=WA(a,c,h,w),h!==null){var A=ui();Es(h,a,w,A),pI(h,c,w)}}function aF(a,c,h){var w=Ka(a),A={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null};if(fI(a))hI(c,A);else{var O=a.alternate;if(a.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var te=c.lastRenderedState,de=O(te,h);if(A.hasEagerState=!0,A.eagerState=de,ys(de,te)){var me=c.interleaved;me===null?(A.next=A,lv(c)):(A.next=me.next,me.next=A),c.interleaved=A;return}}catch{}finally{}h=WA(a,c,A,w),h!==null&&(A=ui(),Es(h,a,w,A),pI(h,c,w))}}function fI(a){var c=a.alternate;return a===Vn||c!==null&&c===Vn}function hI(a,c){zf=Tm=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function pI(a,c,h){if((h&4194240)!==0){var w=c.lanes;w&=a.pendingLanes,h|=w,c.lanes=h,vf(a,h)}}var Cm={readContext:Qi,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},lF={readContext:Qi,useCallback:function(a,c){return io().memoizedState=[a,c===void 0?null:c],a},useContext:Qi,useEffect:rI,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,Am(4194308,4,oI.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Am(4194308,4,a,c)},useInsertionEffect:function(a,c){return Am(4,2,a,c)},useMemo:function(a,c){var h=io();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var w=io();return c=h!==void 0?h(c):c,w.memoizedState=w.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},w.queue=a,a=a.dispatch=oF.bind(null,Vn,a),[w.memoizedState,a]},useRef:function(a){var c=io();return a={current:a},c.memoizedState=a},useState:tI,useDebugValue:bv,useDeferredValue:function(a){return io().memoizedState=a},useTransition:function(){var a=tI(!1),c=a[0];return a=sF.bind(null,a[1]),io().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var w=Vn,A=io();if(Ln){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Tr===null)throw Error(n(349));(nc&30)!==0||QA(w,c,h)}A.memoizedState=h;var O={value:h,getSnapshot:c};return A.queue=O,rI(ZA.bind(null,w,O,a),[a]),w.flags|=2048,qf(9,XA.bind(null,w,O,h,c),void 0,null),h},useId:function(){var a=io(),c=Tr.identifierPrefix;if(Ln){var h=$o,w=Wo;h=(w&~(1<<32-Pr(w)-1)).toString(32)+h,c=":"+c+"R"+h,h=Wf++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=iF++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},cF={readContext:Qi,useCallback:lI,useContext:Qi,useEffect:xv,useImperativeHandle:aI,useInsertionEffect:iI,useLayoutEffect:sI,useMemo:cI,useReducer:wv,useRef:nI,useState:function(){return wv($f)},useDebugValue:bv,useDeferredValue:function(a){var c=Xi();return uI(c,vr.memoizedState,a)},useTransition:function(){var a=wv($f)[0],c=Xi().memoizedState;return[a,c]},useMutableSource:GA,useSyncExternalStore:YA,useId:dI,unstable_isNewReconciler:!1},uF={readContext:Qi,useCallback:lI,useContext:Qi,useEffect:xv,useImperativeHandle:aI,useInsertionEffect:iI,useLayoutEffect:sI,useMemo:cI,useReducer:vv,useRef:nI,useState:function(){return vv($f)},useDebugValue:bv,useDeferredValue:function(a){var c=Xi();return vr===null?c.memoizedState=a:uI(c,vr.memoizedState,a)},useTransition:function(){var a=vv($f)[0],c=Xi().memoizedState;return[a,c]},useMutableSource:GA,useSyncExternalStore:YA,useId:dI,unstable_isNewReconciler:!1};function vs(a,c){if(a&&a.defaultProps){c=se({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function Ev(a,c,h,w){c=a.memoizedState,h=h(w,c),h=h==null?c:se({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Rm={isMounted:function(a){return(a=a._reactInternals)?wi(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var w=ui(),A=Ka(a),O=Ho(w,A);O.payload=c,h!=null&&(O.callback=h),c=Wa(a,O,A),c!==null&&(Es(c,a,A,w),bm(c,a,A))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var w=ui(),A=Ka(a),O=Ho(w,A);O.tag=1,O.payload=c,h!=null&&(O.callback=h),c=Wa(a,O,A),c!==null&&(Es(c,a,A,w),bm(c,a,A))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=ui(),w=Ka(a),A=Ho(h,w);A.tag=2,c!=null&&(A.callback=c),c=Wa(a,A,w),c!==null&&(Es(c,a,w,h),bm(c,a,w))}};function mI(a,c,h,w,A,O,te){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,O,te):c.prototype&&c.prototype.isPureReactComponent?!Nf(h,w)||!Nf(A,O):!0}function gI(a,c,h){var w=!1,A=Va,O=c.contextType;return typeof O=="object"&&O!==null?O=Qi(O):(A=bi(c)?Xl:Gr.current,w=c.contextTypes,O=(w=w!=null)?Nu(a,A):Va),c=new c(h,O),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Rm,a.stateNode=c,c._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=A,a.__reactInternalMemoizedMaskedChildContext=O),c}function yI(a,c,h,w){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,w),c.state!==a&&Rm.enqueueReplaceState(c,c.state,null)}function _v(a,c,h,w){var A=a.stateNode;A.props=h,A.state=a.memoizedState,A.refs={},cv(a);var O=c.contextType;typeof O=="object"&&O!==null?A.context=Qi(O):(O=bi(c)?Xl:Gr.current,A.context=Nu(a,O)),A.state=a.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Ev(a,c,O,h),A.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&Rm.enqueueReplaceState(A,A.state,null),Em(a,h,A,w),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308)}function Fu(a,c){try{var h="",w=c;do h+=ie(w),w=w.return;while(w);var A=h}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:a,source:c,stack:A,digest:null}}function Sv(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Tv(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var dF=typeof WeakMap=="function"?WeakMap:Map;function wI(a,c,h){h=Ho(-1,h),h.tag=3,h.payload={element:null};var w=c.value;return h.callback=function(){Om||(Om=!0,Vv=w),Tv(a,c)},h}function vI(a,c,h){h=Ho(-1,h),h.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var A=c.value;h.payload=function(){return w(A)},h.callback=function(){Tv(a,c)}}var O=a.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(h.callback=function(){Tv(a,c),typeof w!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var te=c.stack;this.componentDidCatch(c.value,{componentStack:te!==null?te:""})}),h}function xI(a,c,h){var w=a.pingCache;if(w===null){w=a.pingCache=new dF;var A=new Set;w.set(c,A)}else A=w.get(c),A===void 0&&(A=new Set,w.set(c,A));A.has(h)||(A.add(h),a=TF.bind(null,a,c,h),c.then(a,a))}function bI(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function EI(a,c,h,w,A){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ho(-1,1),c.tag=2,Wa(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=A,a)}var fF=Z.ReactCurrentOwner,Ei=!1;function ci(a,c,h,w){c.child=a===null?zA(c,null,h,w):Du(c,a.child,h,w)}function _I(a,c,h,w,A){h=h.render;var O=c.ref;return ju(c,A),w=gv(a,c,h,w,O,A),h=yv(),a!==null&&!Ei?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~A,Ko(a,c,A)):(Ln&&h&&Jw(c),c.flags|=1,ci(a,c,w,A),c.child)}function SI(a,c,h,w,A){if(a===null){var O=h.type;return typeof O=="function"&&!Kv(O)&&O.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=O,TI(a,c,O,w,A)):(a=zm(h.type,null,w,c,c.mode,A),a.ref=c.ref,a.return=c,c.child=a)}if(O=a.child,(a.lanes&A)===0){var te=O.memoizedProps;if(h=h.compare,h=h!==null?h:Nf,h(te,w)&&a.ref===c.ref)return Ko(a,c,A)}return c.flags|=1,a=Ya(O,w),a.ref=c.ref,a.return=c,c.child=a}function TI(a,c,h,w,A){if(a!==null){var O=a.memoizedProps;if(Nf(O,w)&&a.ref===c.ref)if(Ei=!1,c.pendingProps=w=O,(a.lanes&A)!==0)(a.flags&131072)!==0&&(Ei=!0);else return c.lanes=a.lanes,Ko(a,c,A)}return Av(a,c,h,w,A)}function AI(a,c,h){var w=c.pendingProps,A=w.children,O=a!==null?a.memoizedState:null;if(w.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Uu,Fi),Fi|=h;else{if((h&1073741824)===0)return a=O!==null?O.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,_n(Uu,Fi),Fi|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:h,_n(Uu,Fi),Fi|=w}else O!==null?(w=O.baseLanes|h,c.memoizedState=null):w=h,_n(Uu,Fi),Fi|=w;return ci(a,c,A,h),c.child}function II(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Av(a,c,h,w,A){var O=bi(h)?Xl:Gr.current;return O=Nu(c,O),ju(c,A),h=gv(a,c,h,w,O,A),w=yv(),a!==null&&!Ei?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~A,Ko(a,c,A)):(Ln&&w&&Jw(c),c.flags|=1,ci(a,c,h,A),c.child)}function CI(a,c,h,w,A){if(bi(h)){var O=!0;hm(c)}else O=!1;if(ju(c,A),c.stateNode===null)Nm(a,c),gI(c,h,w),_v(c,h,w,A),w=!0;else if(a===null){var te=c.stateNode,de=c.memoizedProps;te.props=de;var me=te.context,Ie=h.contextType;typeof Ie=="object"&&Ie!==null?Ie=Qi(Ie):(Ie=bi(h)?Xl:Gr.current,Ie=Nu(c,Ie));var Le=h.getDerivedStateFromProps,je=typeof Le=="function"||typeof te.getSnapshotBeforeUpdate=="function";je||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(de!==w||me!==Ie)&&yI(c,te,w,Ie),za=!1;var Pe=c.memoizedState;te.state=Pe,Em(c,w,te,A),me=c.memoizedState,de!==w||Pe!==me||xi.current||za?(typeof Le=="function"&&(Ev(c,h,Le,w),me=c.memoizedState),(de=za||mI(c,h,de,w,Pe,me,Ie))?(je||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(c.flags|=4194308)):(typeof te.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=me),te.props=w,te.state=me,te.context=Ie,w=de):(typeof te.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{te=c.stateNode,$A(a,c),de=c.memoizedProps,Ie=c.type===c.elementType?de:vs(c.type,de),te.props=Ie,je=c.pendingProps,Pe=te.context,me=h.contextType,typeof me=="object"&&me!==null?me=Qi(me):(me=bi(h)?Xl:Gr.current,me=Nu(c,me));var Ge=h.getDerivedStateFromProps;(Le=typeof Ge=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(de!==je||Pe!==me)&&yI(c,te,w,me),za=!1,Pe=c.memoizedState,te.state=Pe,Em(c,w,te,A);var Ze=c.memoizedState;de!==je||Pe!==Ze||xi.current||za?(typeof Ge=="function"&&(Ev(c,h,Ge,w),Ze=c.memoizedState),(Ie=za||mI(c,h,Ie,w,Pe,Ze,me)||!1)?(Le||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(w,Ze,me),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(w,Ze,me)),typeof te.componentDidUpdate=="function"&&(c.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof te.componentDidUpdate!="function"||de===a.memoizedProps&&Pe===a.memoizedState||(c.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||de===a.memoizedProps&&Pe===a.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=Ze),te.props=w,te.state=Ze,te.context=me,w=Ie):(typeof te.componentDidUpdate!="function"||de===a.memoizedProps&&Pe===a.memoizedState||(c.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||de===a.memoizedProps&&Pe===a.memoizedState||(c.flags|=1024),w=!1)}return Iv(a,c,h,w,O,A)}function Iv(a,c,h,w,A,O){II(a,c);var te=(c.flags&128)!==0;if(!w&&!te)return A&&PA(c,h,!1),Ko(a,c,O);w=c.stateNode,fF.current=c;var de=te&&typeof h.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,a!==null&&te?(c.child=Du(c,a.child,null,O),c.child=Du(c,null,de,O)):ci(a,c,de,O),c.memoizedState=w.state,A&&PA(c,h,!0),c.child}function RI(a){var c=a.stateNode;c.pendingContext?NA(a,c.pendingContext,c.pendingContext!==c.context):c.context&&NA(a,c.context,!1),uv(a,c.containerInfo)}function MI(a,c,h,w,A){return Lu(),rv(A),c.flags|=256,ci(a,c,h,w),c.child}var Cv={dehydrated:null,treeContext:null,retryLane:0};function Rv(a){return{baseLanes:a,cachePool:null,transitions:null}}function NI(a,c,h){var w=c.pendingProps,A=Fn.current,O=!1,te=(c.flags&128)!==0,de;if((de=te)||(de=a!==null&&a.memoizedState===null?!1:(A&2)!==0),de?(O=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(A|=1),_n(Fn,A&1),a===null)return nv(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(te=w.children,a=w.fallback,O?(w=c.mode,O=c.child,te={mode:"hidden",children:te},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=te):O=Wm(te,w,0,null),a=ac(a,w,h,null),O.return=c,a.return=c,O.sibling=a,c.child=O,c.child.memoizedState=Rv(h),c.memoizedState=Cv,a):Mv(c,te));if(A=a.memoizedState,A!==null&&(de=A.dehydrated,de!==null))return hF(a,c,te,w,de,A,h);if(O){O=w.fallback,te=c.mode,A=a.child,de=A.sibling;var me={mode:"hidden",children:w.children};return(te&1)===0&&c.child!==A?(w=c.child,w.childLanes=0,w.pendingProps=me,c.deletions=null):(w=Ya(A,me),w.subtreeFlags=A.subtreeFlags&14680064),de!==null?O=Ya(de,O):(O=ac(O,te,h,null),O.flags|=2),O.return=c,w.return=c,w.sibling=O,c.child=w,w=O,O=c.child,te=a.child.memoizedState,te=te===null?Rv(h):{baseLanes:te.baseLanes|h,cachePool:null,transitions:te.transitions},O.memoizedState=te,O.childLanes=a.childLanes&~h,c.memoizedState=Cv,w}return O=a.child,a=O.sibling,w=Ya(O,{mode:"visible",children:w.children}),(c.mode&1)===0&&(w.lanes=h),w.return=c,w.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=w,c.memoizedState=null,w}function Mv(a,c){return c=Wm({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Mm(a,c,h,w){return w!==null&&rv(w),Du(c,a.child,null,h),a=Mv(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function hF(a,c,h,w,A,O,te){if(h)return c.flags&256?(c.flags&=-257,w=Sv(Error(n(422))),Mm(a,c,te,w)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(O=w.fallback,A=c.mode,w=Wm({mode:"visible",children:w.children},A,0,null),O=ac(O,A,te,null),O.flags|=2,w.return=c,O.return=c,w.sibling=O,c.child=w,(c.mode&1)!==0&&Du(c,a.child,null,te),c.child.memoizedState=Rv(te),c.memoizedState=Cv,O);if((c.mode&1)===0)return Mm(a,c,te,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var de=w.dgst;return w=de,O=Error(n(419)),w=Sv(O,w,void 0),Mm(a,c,te,w)}if(de=(te&a.childLanes)!==0,Ei||de){if(w=Tr,w!==null){switch(te&-te){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|te))!==0?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,qo(a,A),Es(w,a,A,-1))}return Hv(),w=Sv(Error(n(421))),Mm(a,c,te,w)}return A.data==="$?"?(c.flags|=128,c.child=a.child,c=AF.bind(null,a),A._reactRetry=c,null):(a=O.treeContext,Bi=Ba(A.nextSibling),ji=c,Ln=!0,ws=null,a!==null&&(Gi[Yi++]=Wo,Gi[Yi++]=$o,Gi[Yi++]=Zl,Wo=a.id,$o=a.overflow,Zl=c),c=Mv(c,w.children),c.flags|=4096,c)}function kI(a,c,h){a.lanes|=c;var w=a.alternate;w!==null&&(w.lanes|=c),av(a.return,c,h)}function Nv(a,c,h,w,A){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:h,tailMode:A}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=h,O.tailMode=A)}function PI(a,c,h){var w=c.pendingProps,A=w.revealOrder,O=w.tail;if(ci(a,c,w.children,h),w=Fn.current,(w&2)!==0)w=w&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&kI(a,h,c);else if(a.tag===19)kI(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(_n(Fn,w),(c.mode&1)===0)c.memoizedState=null;else switch(A){case"forwards":for(h=c.child,A=null;h!==null;)a=h.alternate,a!==null&&_m(a)===null&&(A=h),h=h.sibling;h=A,h===null?(A=c.child,c.child=null):(A=h.sibling,h.sibling=null),Nv(c,!1,A,h,O);break;case"backwards":for(h=null,A=c.child,c.child=null;A!==null;){if(a=A.alternate,a!==null&&_m(a)===null){c.child=A;break}a=A.sibling,A.sibling=h,h=A,A=a}Nv(c,!0,h,null,O);break;case"together":Nv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Nm(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Ko(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),rc|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Ya(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Ya(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function pF(a,c,h){switch(c.tag){case 3:RI(c),Lu();break;case 5:KA(c);break;case 1:bi(c.type)&&hm(c);break;case 4:uv(c,c.stateNode.containerInfo);break;case 10:var w=c.type._context,A=c.memoizedProps.value;_n(vm,w._currentValue),w._currentValue=A;break;case 13:if(w=c.memoizedState,w!==null)return w.dehydrated!==null?(_n(Fn,Fn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?NI(a,c,h):(_n(Fn,Fn.current&1),a=Ko(a,c,h),a!==null?a.sibling:null);_n(Fn,Fn.current&1);break;case 19:if(w=(h&c.childLanes)!==0,(a.flags&128)!==0){if(w)return PI(a,c,h);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),_n(Fn,Fn.current),w)break;return null;case 22:case 23:return c.lanes=0,AI(a,c,h)}return Ko(a,c,h)}var LI,kv,DI,OI;LI=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},kv=function(){},DI=function(a,c,h,w){var A=a.memoizedProps;if(A!==w){a=c.stateNode,tc(ro.current);var O=null;switch(h){case"input":A=Dt(a,A),w=Dt(a,w),O=[];break;case"select":A=se({},A,{value:void 0}),w=se({},w,{value:void 0}),O=[];break;case"textarea":A=rn(a,A),w=rn(a,w),O=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=um)}Te(h,w);var te;h=null;for(Ie in A)if(!w.hasOwnProperty(Ie)&&A.hasOwnProperty(Ie)&&A[Ie]!=null)if(Ie==="style"){var de=A[Ie];for(te in de)de.hasOwnProperty(te)&&(h||(h={}),h[te]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?O||(O=[]):(O=O||[]).push(Ie,null));for(Ie in w){var me=w[Ie];if(de=A?.[Ie],w.hasOwnProperty(Ie)&&me!==de&&(me!=null||de!=null))if(Ie==="style")if(de){for(te in de)!de.hasOwnProperty(te)||me&&me.hasOwnProperty(te)||(h||(h={}),h[te]="");for(te in me)me.hasOwnProperty(te)&&de[te]!==me[te]&&(h||(h={}),h[te]=me[te])}else h||(O||(O=[]),O.push(Ie,h)),h=me;else Ie==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(O=O||[]).push(Ie,me)):Ie==="children"?typeof me!="string"&&typeof me!="number"||(O=O||[]).push(Ie,""+me):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(me!=null&&Ie==="onScroll"&&Rn("scroll",a),O||de===me||(O=[])):(O=O||[]).push(Ie,me))}h&&(O=O||[]).push("style",h);var Ie=O;(c.updateQueue=Ie)&&(c.flags|=4)}},OI=function(a,c,h,w){h!==w&&(c.flags|=4)};function Hf(a,c){if(!Ln)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function Qr(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,w=0;if(c)for(var A=a.child;A!==null;)h|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)h|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=w,a.childLanes=h,c}function mF(a,c,h){var w=c.pendingProps;switch(ev(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(c),null;case 1:return bi(c.type)&&fm(),Qr(c),null;case 3:return w=c.stateNode,Bu(),Mn(xi),Mn(Gr),hv(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(ym(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ws!==null&&(Wv(ws),ws=null))),kv(a,c),Qr(c),null;case 5:dv(c);var A=tc(Uf.current);if(h=c.type,a!==null&&c.stateNode!=null)DI(a,c,h,w,A),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(n(166));return Qr(c),null}if(a=tc(ro.current),ym(c)){w=c.stateNode,h=c.type;var O=c.memoizedProps;switch(w[no]=c,w[Of]=O,a=(c.mode&1)!==0,h){case"dialog":Rn("cancel",w),Rn("close",w);break;case"iframe":case"object":case"embed":Rn("load",w);break;case"video":case"audio":for(A=0;A<Pf.length;A++)Rn(Pf[A],w);break;case"source":Rn("error",w);break;case"img":case"image":case"link":Rn("error",w),Rn("load",w);break;case"details":Rn("toggle",w);break;case"input":Wt(w,O),Rn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},Rn("invalid",w);break;case"textarea":ft(w,O),Rn("invalid",w)}Te(h,O),A=null;for(var te in O)if(O.hasOwnProperty(te)){var de=O[te];te==="children"?typeof de=="string"?w.textContent!==de&&(O.suppressHydrationWarning!==!0&&cm(w.textContent,de,a),A=["children",de]):typeof de=="number"&&w.textContent!==""+de&&(O.suppressHydrationWarning!==!0&&cm(w.textContent,de,a),A=["children",""+de]):i.hasOwnProperty(te)&&de!=null&&te==="onScroll"&&Rn("scroll",w)}switch(h){case"input":We(w),en(w,O,!0);break;case"textarea":We(w),wn(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=um)}w=A,c.updateQueue=w,w!==null&&(c.flags|=4)}else{te=A.nodeType===9?A:A.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ct(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=te.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=te.createElement(h,{is:w.is}):(a=te.createElement(h),h==="select"&&(te=a,w.multiple?te.multiple=!0:w.size&&(te.size=w.size))):a=te.createElementNS(a,h),a[no]=c,a[Of]=w,LI(a,c,!1,!1),c.stateNode=a;e:{switch(te=xt(h,w),h){case"dialog":Rn("cancel",a),Rn("close",a),A=w;break;case"iframe":case"object":case"embed":Rn("load",a),A=w;break;case"video":case"audio":for(A=0;A<Pf.length;A++)Rn(Pf[A],a);A=w;break;case"source":Rn("error",a),A=w;break;case"img":case"image":case"link":Rn("error",a),Rn("load",a),A=w;break;case"details":Rn("toggle",a),A=w;break;case"input":Wt(a,w),A=Dt(a,w),Rn("invalid",a);break;case"option":A=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},A=se({},w,{value:void 0}),Rn("invalid",a);break;case"textarea":ft(a,w),A=rn(a,w),Rn("invalid",a);break;default:A=w}Te(h,A),de=A;for(O in de)if(de.hasOwnProperty(O)){var me=de[O];O==="style"?he(a,me):O==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&qt(a,me)):O==="children"?typeof me=="string"?(h!=="textarea"||me!=="")&&ne(a,me):typeof me=="number"&&ne(a,""+me):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?me!=null&&O==="onScroll"&&Rn("scroll",a):me!=null&&M(a,O,me,te))}switch(h){case"input":We(a),en(a,w,!1);break;case"textarea":We(a),wn(a);break;case"option":w.value!=null&&a.setAttribute("value",""+_e(w.value));break;case"select":a.multiple=!!w.multiple,O=w.value,O!=null?Lt(a,!!w.multiple,O,!1):w.defaultValue!=null&&Lt(a,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(a.onclick=um)}switch(h){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Qr(c),null;case 6:if(a&&c.stateNode!=null)OI(a,c,a.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(n(166));if(h=tc(Uf.current),tc(ro.current),ym(c)){if(w=c.stateNode,h=c.memoizedProps,w[no]=c,(O=w.nodeValue!==h)&&(a=ji,a!==null))switch(a.tag){case 3:cm(w.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&cm(w.nodeValue,h,(a.mode&1)!==0)}O&&(c.flags|=4)}else w=(h.nodeType===9?h:h.ownerDocument).createTextNode(w),w[no]=c,c.stateNode=w}return Qr(c),null;case 13:if(Mn(Fn),w=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ln&&Bi!==null&&(c.mode&1)!==0&&(c.flags&128)===0)FA(),Lu(),c.flags|=98560,O=!1;else if(O=ym(c),w!==null&&w.dehydrated!==null){if(a===null){if(!O)throw Error(n(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[no]=c}else Lu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Qr(c),O=!1}else ws!==null&&(Wv(ws),ws=null),O=!0;if(!O)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Fn.current&1)!==0?xr===0&&(xr=3):Hv())),c.updateQueue!==null&&(c.flags|=4),Qr(c),null);case 4:return Bu(),kv(a,c),a===null&&Lf(c.stateNode.containerInfo),Qr(c),null;case 10:return ov(c.type._context),Qr(c),null;case 17:return bi(c.type)&&fm(),Qr(c),null;case 19:if(Mn(Fn),O=c.memoizedState,O===null)return Qr(c),null;if(w=(c.flags&128)!==0,te=O.rendering,te===null)if(w)Hf(O,!1);else{if(xr!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(te=_m(a),te!==null){for(c.flags|=128,Hf(O,!1),w=te.updateQueue,w!==null&&(c.updateQueue=w,c.flags|=4),c.subtreeFlags=0,w=h,h=c.child;h!==null;)O=h,a=w,O.flags&=14680066,te=O.alternate,te===null?(O.childLanes=0,O.lanes=a,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=te.childLanes,O.lanes=te.lanes,O.child=te.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=te.memoizedProps,O.memoizedState=te.memoizedState,O.updateQueue=te.updateQueue,O.type=te.type,a=te.dependencies,O.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return _n(Fn,Fn.current&1|2),c.child}a=a.sibling}O.tail!==null&&hn()>zu&&(c.flags|=128,w=!0,Hf(O,!1),c.lanes=4194304)}else{if(!w)if(a=_m(te),a!==null){if(c.flags|=128,w=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Hf(O,!0),O.tail===null&&O.tailMode==="hidden"&&!te.alternate&&!Ln)return Qr(c),null}else 2*hn()-O.renderingStartTime>zu&&h!==1073741824&&(c.flags|=128,w=!0,Hf(O,!1),c.lanes=4194304);O.isBackwards?(te.sibling=c.child,c.child=te):(h=O.last,h!==null?h.sibling=te:c.child=te,O.last=te)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=hn(),c.sibling=null,h=Fn.current,_n(Fn,w?h&1|2:h&1),c):(Qr(c),null);case 22:case 23:return qv(),w=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(c.flags|=8192),w&&(c.mode&1)!==0?(Fi&1073741824)!==0&&(Qr(c),c.subtreeFlags&6&&(c.flags|=8192)):Qr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function gF(a,c){switch(ev(c),c.tag){case 1:return bi(c.type)&&fm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Bu(),Mn(xi),Mn(Gr),hv(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return dv(c),null;case 13:if(Mn(Fn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Lu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Mn(Fn),null;case 4:return Bu(),null;case 10:return ov(c.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var km=!1,Xr=!1,yF=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Vu(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(w){Hn(a,c,w)}else h.current=null}function Pv(a,c,h){try{h()}catch(w){Hn(a,c,w)}}var jI=!1;function wF(a,c){if(qw=Bo,a=mA(),jw(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var w=h.getSelection&&h.getSelection();if(w&&w.rangeCount!==0){h=w.anchorNode;var A=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var te=0,de=-1,me=-1,Ie=0,Le=0,je=a,Pe=null;t:for(;;){for(var Ge;je!==h||A!==0&&je.nodeType!==3||(de=te+A),je!==O||w!==0&&je.nodeType!==3||(me=te+w),je.nodeType===3&&(te+=je.nodeValue.length),(Ge=je.firstChild)!==null;)Pe=je,je=Ge;for(;;){if(je===a)break t;if(Pe===h&&++Ie===A&&(de=te),Pe===O&&++Le===w&&(me=te),(Ge=je.nextSibling)!==null)break;je=Pe,Pe=je.parentNode}je=Ge}h=de===-1||me===-1?null:{start:de,end:me}}else h=null}h=h||{start:0,end:0}}else h=null;for(Hw={focusedElem:a,selectionRange:h},Bo=!1,Qe=c;Qe!==null;)if(c=Qe,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Qe=a;else for(;Qe!==null;){c=Qe;try{var Ze=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var et=Ze.memoizedProps,Zn=Ze.memoizedState,xe=c.stateNode,ge=xe.getSnapshotBeforeUpdate(c.elementType===c.type?et:vs(c.type,et),Zn);xe.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Se=c.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){Hn(c,c.return,Be)}if(a=c.sibling,a!==null){a.return=c.return,Qe=a;break}Qe=c.return}return Ze=jI,jI=!1,Ze}function Kf(a,c,h){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&a)===a){var O=A.destroy;A.destroy=void 0,O!==void 0&&Pv(c,h,O)}A=A.next}while(A!==w)}}function Pm(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var w=h.create;h.destroy=w()}h=h.next}while(h!==c)}}function Lv(a){var c=a.ref;if(c!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof c=="function"?c(a):c.current=a}}function BI(a){var c=a.alternate;c!==null&&(a.alternate=null,BI(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[no],delete c[Of],delete c[Qw],delete c[eF],delete c[tF])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function FI(a){return a.tag===5||a.tag===3||a.tag===4}function VI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||FI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dv(a,c,h){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=um));else if(w!==4&&(a=a.child,a!==null))for(Dv(a,c,h),a=a.sibling;a!==null;)Dv(a,c,h),a=a.sibling}function Ov(a,c,h){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(Ov(a,c,h),a=a.sibling;a!==null;)Ov(a,c,h),a=a.sibling}var Or=null,xs=!1;function $a(a,c,h){for(h=h.child;h!==null;)UI(a,c,h),h=h.sibling}function UI(a,c,h){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(ms,h)}catch{}switch(h.tag){case 5:Xr||Vu(h,c);case 6:var w=Or,A=xs;Or=null,$a(a,c,h),Or=w,xs=A,Or!==null&&(xs?(a=Or,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Or.removeChild(h.stateNode));break;case 18:Or!==null&&(xs?(a=Or,h=h.stateNode,a.nodeType===8?Yw(a.parentNode,h):a.nodeType===1&&Yw(a,h),La(a)):Yw(Or,h.stateNode));break;case 4:w=Or,A=xs,Or=h.stateNode.containerInfo,xs=!0,$a(a,c,h),Or=w,xs=A;break;case 0:case 11:case 14:case 15:if(!Xr&&(w=h.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var O=A,te=O.destroy;O=O.tag,te!==void 0&&((O&2)!==0||(O&4)!==0)&&Pv(h,c,te),A=A.next}while(A!==w)}$a(a,c,h);break;case 1:if(!Xr&&(Vu(h,c),w=h.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=h.memoizedProps,w.state=h.memoizedState,w.componentWillUnmount()}catch(de){Hn(h,c,de)}$a(a,c,h);break;case 21:$a(a,c,h);break;case 22:h.mode&1?(Xr=(w=Xr)||h.memoizedState!==null,$a(a,c,h),Xr=w):$a(a,c,h);break;default:$a(a,c,h)}}function zI(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new yF),c.forEach(function(w){var A=IF.bind(null,a,w);h.has(w)||(h.add(w),w.then(A,A))})}}function bs(a,c){var h=c.deletions;if(h!==null)for(var w=0;w<h.length;w++){var A=h[w];try{var O=a,te=c,de=te;e:for(;de!==null;){switch(de.tag){case 5:Or=de.stateNode,xs=!1;break e;case 3:Or=de.stateNode.containerInfo,xs=!0;break e;case 4:Or=de.stateNode.containerInfo,xs=!0;break e}de=de.return}if(Or===null)throw Error(n(160));UI(O,te,A),Or=null,xs=!1;var me=A.alternate;me!==null&&(me.return=null),A.return=null}catch(Ie){Hn(A,c,Ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)WI(c,a),c=c.sibling}function WI(a,c){var h=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(bs(c,a),so(a),w&4){try{Kf(3,a,a.return),Pm(3,a)}catch(et){Hn(a,a.return,et)}try{Kf(5,a,a.return)}catch(et){Hn(a,a.return,et)}}break;case 1:bs(c,a),so(a),w&512&&h!==null&&Vu(h,h.return);break;case 5:if(bs(c,a),so(a),w&512&&h!==null&&Vu(h,h.return),a.flags&32){var A=a.stateNode;try{ne(A,"")}catch(et){Hn(a,a.return,et)}}if(w&4&&(A=a.stateNode,A!=null)){var O=a.memoizedProps,te=h!==null?h.memoizedProps:O,de=a.type,me=a.updateQueue;if(a.updateQueue=null,me!==null)try{de==="input"&&O.type==="radio"&&O.name!=null&&xn(A,O),xt(de,te);var Ie=xt(de,O);for(te=0;te<me.length;te+=2){var Le=me[te],je=me[te+1];Le==="style"?he(A,je):Le==="dangerouslySetInnerHTML"?qt(A,je):Le==="children"?ne(A,je):M(A,Le,je,Ie)}switch(de){case"input":Pt(A,O);break;case"textarea":Qt(A,O);break;case"select":var Pe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Ge=O.value;Ge!=null?Lt(A,!!O.multiple,Ge,!1):Pe!==!!O.multiple&&(O.defaultValue!=null?Lt(A,!!O.multiple,O.defaultValue,!0):Lt(A,!!O.multiple,O.multiple?[]:"",!1))}A[Of]=O}catch(et){Hn(a,a.return,et)}}break;case 6:if(bs(c,a),so(a),w&4){if(a.stateNode===null)throw Error(n(162));A=a.stateNode,O=a.memoizedProps;try{A.nodeValue=O}catch(et){Hn(a,a.return,et)}}break;case 3:if(bs(c,a),so(a),w&4&&h!==null&&h.memoizedState.isDehydrated)try{La(c.containerInfo)}catch(et){Hn(a,a.return,et)}break;case 4:bs(c,a),so(a);break;case 13:bs(c,a),so(a),A=a.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Fv=hn())),w&4&&zI(a);break;case 22:if(Le=h!==null&&h.memoizedState!==null,a.mode&1?(Xr=(Ie=Xr)||Le,bs(c,a),Xr=Ie):bs(c,a),so(a),w&8192){if(Ie=a.memoizedState!==null,(a.stateNode.isHidden=Ie)&&!Le&&(a.mode&1)!==0)for(Qe=a,Le=a.child;Le!==null;){for(je=Qe=Le;Qe!==null;){switch(Pe=Qe,Ge=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Kf(4,Pe,Pe.return);break;case 1:Vu(Pe,Pe.return);var Ze=Pe.stateNode;if(typeof Ze.componentWillUnmount=="function"){w=Pe,h=Pe.return;try{c=w,Ze.props=c.memoizedProps,Ze.state=c.memoizedState,Ze.componentWillUnmount()}catch(et){Hn(w,h,et)}}break;case 5:Vu(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){HI(je);continue}}Ge!==null?(Ge.return=Pe,Qe=Ge):HI(je)}Le=Le.sibling}e:for(Le=null,je=a;;){if(je.tag===5){if(Le===null){Le=je;try{A=je.stateNode,Ie?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(de=je.stateNode,me=je.memoizedProps.style,te=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=le("display",te))}catch(et){Hn(a,a.return,et)}}}else if(je.tag===6){if(Le===null)try{je.stateNode.nodeValue=Ie?"":je.memoizedProps}catch(et){Hn(a,a.return,et)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===a)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===a)break e;for(;je.sibling===null;){if(je.return===null||je.return===a)break e;Le===je&&(Le=null),je=je.return}Le===je&&(Le=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:bs(c,a),so(a),w&4&&zI(a);break;case 21:break;default:bs(c,a),so(a)}}function so(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(FI(h)){var w=h;break e}h=h.return}throw Error(n(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(ne(A,""),w.flags&=-33);var O=VI(a);Ov(a,O,A);break;case 3:case 4:var te=w.stateNode.containerInfo,de=VI(a);Dv(a,de,te);break;default:throw Error(n(161))}}catch(me){Hn(a,a.return,me)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function vF(a,c,h){Qe=a,$I(a)}function $I(a,c,h){for(var w=(a.mode&1)!==0;Qe!==null;){var A=Qe,O=A.child;if(A.tag===22&&w){var te=A.memoizedState!==null||km;if(!te){var de=A.alternate,me=de!==null&&de.memoizedState!==null||Xr;de=km;var Ie=Xr;if(km=te,(Xr=me)&&!Ie)for(Qe=A;Qe!==null;)te=Qe,me=te.child,te.tag===22&&te.memoizedState!==null?KI(A):me!==null?(me.return=te,Qe=me):KI(A);for(;O!==null;)Qe=O,$I(O),O=O.sibling;Qe=A,km=de,Xr=Ie}qI(a)}else(A.subtreeFlags&8772)!==0&&O!==null?(O.return=A,Qe=O):qI(a)}}function qI(a){for(;Qe!==null;){var c=Qe;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Xr||Pm(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!Xr)if(h===null)w.componentDidMount();else{var A=c.elementType===c.type?h.memoizedProps:vs(c.type,h.memoizedProps);w.componentDidUpdate(A,h.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=c.updateQueue;O!==null&&HA(c,O,w);break;case 3:var te=c.updateQueue;if(te!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}HA(c,te,h)}break;case 5:var de=c.stateNode;if(h===null&&c.flags&4){h=de;var me=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&h.focus();break;case"img":me.src&&(h.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ie=c.alternate;if(Ie!==null){var Le=Ie.memoizedState;if(Le!==null){var je=Le.dehydrated;je!==null&&La(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xr||c.flags&512&&Lv(c)}catch(Pe){Hn(c,c.return,Pe)}}if(c===a){Qe=null;break}if(h=c.sibling,h!==null){h.return=c.return,Qe=h;break}Qe=c.return}}function HI(a){for(;Qe!==null;){var c=Qe;if(c===a){Qe=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Qe=h;break}Qe=c.return}}function KI(a){for(;Qe!==null;){var c=Qe;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Pm(4,c)}catch(me){Hn(c,h,me)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var A=c.return;try{w.componentDidMount()}catch(me){Hn(c,A,me)}}var O=c.return;try{Lv(c)}catch(me){Hn(c,O,me)}break;case 5:var te=c.return;try{Lv(c)}catch(me){Hn(c,te,me)}}}catch(me){Hn(c,c.return,me)}if(c===a){Qe=null;break}var de=c.sibling;if(de!==null){de.return=c.return,Qe=de;break}Qe=c.return}}var xF=Math.ceil,Lm=Z.ReactCurrentDispatcher,jv=Z.ReactCurrentOwner,Zi=Z.ReactCurrentBatchConfig,nn=0,Tr=null,or=null,jr=0,Fi=0,Uu=Fa(0),xr=0,Gf=null,rc=0,Dm=0,Bv=0,Yf=null,_i=null,Fv=0,zu=1/0,Go=null,Om=!1,Vv=null,qa=null,jm=!1,Ha=null,Bm=0,Qf=0,Uv=null,Fm=-1,Vm=0;function ui(){return(nn&6)!==0?hn():Fm!==-1?Fm:Fm=hn()}function Ka(a){return(a.mode&1)===0?1:(nn&2)!==0&&jr!==0?jr&-jr:rF.transition!==null?(Vm===0&&(Vm=yf()),Vm):(a=Zt,a!==0||(a=window.event,a=a===void 0?16:yu(a.type)),a)}function Es(a,c,h,w){if(50<Qf)throw Qf=0,Uv=null,Error(n(185));ql(a,h,w),((nn&2)===0||a!==Tr)&&(a===Tr&&((nn&2)===0&&(Dm|=h),xr===4&&Ga(a,jr)),Si(a,w),h===1&&nn===0&&(c.mode&1)===0&&(zu=hn()+500,pm&&Ua()))}function Si(a,c){var h=a.callbackNode;$l(a,c);var w=Do(a,a===Tr?jr:0);if(w===0)h!==null&&zs(h),a.callbackNode=null,a.callbackPriority=0;else if(c=w&-w,a.callbackPriority!==c){if(h!=null&&zs(h),c===1)a.tag===0?nF(YI.bind(null,a)):LA(YI.bind(null,a)),Z8(function(){(nn&6)===0&&Ua()}),h=null;else{switch(Hs(w)){case 1:h=Ws;break;case 4:h=Po;break;case 16:h=ps;break;case 536870912:h=$s;break;default:h=ps}h=rC(h,GI.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function GI(a,c){if(Fm=-1,Vm=0,(nn&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Wu()&&a.callbackNode!==h)return null;var w=Do(a,a===Tr?jr:0);if(w===0)return null;if((w&30)!==0||(w&a.expiredLanes)!==0||c)c=Um(a,w);else{c=w;var A=nn;nn|=2;var O=XI();(Tr!==a||jr!==c)&&(Go=null,zu=hn()+500,sc(a,c));do try{_F();break}catch(de){QI(a,de)}while(!0);sv(),Lm.current=O,nn=A,or!==null?c=0:(Tr=null,jr=0,c=xr)}if(c!==0){if(c===2&&(A=gf(a),A!==0&&(w=A,c=zv(a,A))),c===1)throw h=Gf,sc(a,0),Ga(a,w),Si(a,hn()),h;if(c===6)Ga(a,w);else{if(A=a.current.alternate,(w&30)===0&&!bF(A)&&(c=Um(a,w),c===2&&(O=gf(a),O!==0&&(w=O,c=zv(a,O))),c===1))throw h=Gf,sc(a,0),Ga(a,w),Si(a,hn()),h;switch(a.finishedWork=A,a.finishedLanes=w,c){case 0:case 1:throw Error(n(345));case 2:oc(a,_i,Go);break;case 3:if(Ga(a,w),(w&130023424)===w&&(c=Fv+500-hn(),10<c)){if(Do(a,0)!==0)break;if(A=a.suspendedLanes,(A&w)!==w){ui(),a.pingedLanes|=a.suspendedLanes&A;break}a.timeoutHandle=Gw(oc.bind(null,a,_i,Go),c);break}oc(a,_i,Go);break;case 4:if(Ga(a,w),(w&4194240)===w)break;for(c=a.eventTimes,A=-1;0<w;){var te=31-Pr(w);O=1<<te,te=c[te],te>A&&(A=te),w&=~O}if(w=A,w=hn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*xF(w/1960))-w,10<w){a.timeoutHandle=Gw(oc.bind(null,a,_i,Go),w);break}oc(a,_i,Go);break;case 5:oc(a,_i,Go);break;default:throw Error(n(329))}}}return Si(a,hn()),a.callbackNode===h?GI.bind(null,a):null}function zv(a,c){var h=Yf;return a.current.memoizedState.isDehydrated&&(sc(a,c).flags|=256),a=Um(a,c),a!==2&&(c=_i,_i=h,c!==null&&Wv(c)),a}function Wv(a){_i===null?_i=a:_i.push.apply(_i,a)}function bF(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var w=0;w<h.length;w++){var A=h[w],O=A.getSnapshot;A=A.value;try{if(!ys(O(),A))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ga(a,c){for(c&=~Bv,c&=~Dm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Pr(c),w=1<<h;a[h]=-1,c&=~w}}function YI(a){if((nn&6)!==0)throw Error(n(327));Wu();var c=Do(a,0);if((c&1)===0)return Si(a,hn()),null;var h=Um(a,c);if(a.tag!==0&&h===2){var w=gf(a);w!==0&&(c=w,h=zv(a,w))}if(h===1)throw h=Gf,sc(a,0),Ga(a,c),Si(a,hn()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,oc(a,_i,Go),Si(a,hn()),null}function $v(a,c){var h=nn;nn|=1;try{return a(c)}finally{nn=h,nn===0&&(zu=hn()+500,pm&&Ua())}}function ic(a){Ha!==null&&Ha.tag===0&&(nn&6)===0&&Wu();var c=nn;nn|=1;var h=Zi.transition,w=Zt;try{if(Zi.transition=null,Zt=1,a)return a()}finally{Zt=w,Zi.transition=h,nn=c,(nn&6)===0&&Ua()}}function qv(){Fi=Uu.current,Mn(Uu)}function sc(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,X8(h)),or!==null)for(h=or.return;h!==null;){var w=h;switch(ev(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&fm();break;case 3:Bu(),Mn(xi),Mn(Gr),hv();break;case 5:dv(w);break;case 4:Bu();break;case 13:Mn(Fn);break;case 19:Mn(Fn);break;case 10:ov(w.type._context);break;case 22:case 23:qv()}h=h.return}if(Tr=a,or=a=Ya(a.current,null),jr=Fi=c,xr=0,Gf=null,Bv=Dm=rc=0,_i=Yf=null,ec!==null){for(c=0;c<ec.length;c++)if(h=ec[c],w=h.interleaved,w!==null){h.interleaved=null;var A=w.next,O=h.pending;if(O!==null){var te=O.next;O.next=A,w.next=te}h.pending=w}ec=null}return a}function QI(a,c){do{var h=or;try{if(sv(),Sm.current=Cm,Tm){for(var w=Vn.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Tm=!1}if(nc=0,Sr=vr=Vn=null,zf=!1,Wf=0,jv.current=null,h===null||h.return===null){xr=1,Gf=c,or=null;break}e:{var O=a,te=h.return,de=h,me=c;if(c=jr,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ie=me,Le=de,je=Le.tag;if((Le.mode&1)===0&&(je===0||je===11||je===15)){var Pe=Le.alternate;Pe?(Le.updateQueue=Pe.updateQueue,Le.memoizedState=Pe.memoizedState,Le.lanes=Pe.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Ge=bI(te);if(Ge!==null){Ge.flags&=-257,EI(Ge,te,de,O,c),Ge.mode&1&&xI(O,Ie,c),c=Ge,me=Ie;var Ze=c.updateQueue;if(Ze===null){var et=new Set;et.add(me),c.updateQueue=et}else Ze.add(me);break e}else{if((c&1)===0){xI(O,Ie,c),Hv();break e}me=Error(n(426))}}else if(Ln&&de.mode&1){var Zn=bI(te);if(Zn!==null){(Zn.flags&65536)===0&&(Zn.flags|=256),EI(Zn,te,de,O,c),rv(Fu(me,de));break e}}O=me=Fu(me,de),xr!==4&&(xr=2),Yf===null?Yf=[O]:Yf.push(O),O=te;do{switch(O.tag){case 3:O.flags|=65536,c&=-c,O.lanes|=c;var xe=wI(O,me,c);qA(O,xe);break e;case 1:de=me;var ge=O.type,Se=O.stateNode;if((O.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(qa===null||!qa.has(Se)))){O.flags|=65536,c&=-c,O.lanes|=c;var Be=vI(O,de,c);qA(O,Be);break e}}O=O.return}while(O!==null)}JI(h)}catch(nt){c=nt,or===h&&h!==null&&(or=h=h.return);continue}break}while(!0)}function XI(){var a=Lm.current;return Lm.current=Cm,a===null?Cm:a}function Hv(){(xr===0||xr===3||xr===2)&&(xr=4),Tr===null||(rc&268435455)===0&&(Dm&268435455)===0||Ga(Tr,jr)}function Um(a,c){var h=nn;nn|=2;var w=XI();(Tr!==a||jr!==c)&&(Go=null,sc(a,c));do try{EF();break}catch(A){QI(a,A)}while(!0);if(sv(),nn=h,Lm.current=w,or!==null)throw Error(n(261));return Tr=null,jr=0,xr}function EF(){for(;or!==null;)ZI(or)}function _F(){for(;or!==null&&!hs();)ZI(or)}function ZI(a){var c=nC(a.alternate,a,Fi);a.memoizedProps=a.pendingProps,c===null?JI(a):or=c,jv.current=null}function JI(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=mF(h,c,Fi),h!==null){or=h;return}}else{if(h=gF(h,c),h!==null){h.flags&=32767,or=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xr=6,or=null;return}}if(c=c.sibling,c!==null){or=c;return}or=c=a}while(c!==null);xr===0&&(xr=5)}function oc(a,c,h){var w=Zt,A=Zi.transition;try{Zi.transition=null,Zt=1,SF(a,c,h,w)}finally{Zi.transition=A,Zt=w}return null}function SF(a,c,h,w){do Wu();while(Ha!==null);if((nn&6)!==0)throw Error(n(327));h=a.finishedWork;var A=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var O=h.lanes|h.childLanes;if(kw(a,O),a===Tr&&(or=Tr=null,jr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||jm||(jm=!0,rC(ps,function(){return Wu(),null})),O=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||O){O=Zi.transition,Zi.transition=null;var te=Zt;Zt=1;var de=nn;nn|=4,jv.current=null,wF(a,h),WI(h,a),$8(Hw),Bo=!!qw,Hw=qw=null,a.current=h,vF(h),ki(),nn=de,Zt=te,Zi.transition=O}else a.current=h;if(jm&&(jm=!1,Ha=a,Bm=A),O=a.pendingLanes,O===0&&(qa=null),Ma(h.stateNode),Si(a,hn()),c!==null)for(w=a.onRecoverableError,h=0;h<c.length;h++)A=c[h],w(A.value,{componentStack:A.stack,digest:A.digest});if(Om)throw Om=!1,a=Vv,Vv=null,a;return(Bm&1)!==0&&a.tag!==0&&Wu(),O=a.pendingLanes,(O&1)!==0?a===Uv?Qf++:(Qf=0,Uv=a):Qf=0,Ua(),null}function Wu(){if(Ha!==null){var a=Hs(Bm),c=Zi.transition,h=Zt;try{if(Zi.transition=null,Zt=16>a?16:a,Ha===null)var w=!1;else{if(a=Ha,Ha=null,Bm=0,(nn&6)!==0)throw Error(n(331));var A=nn;for(nn|=4,Qe=a.current;Qe!==null;){var O=Qe,te=O.child;if((Qe.flags&16)!==0){var de=O.deletions;if(de!==null){for(var me=0;me<de.length;me++){var Ie=de[me];for(Qe=Ie;Qe!==null;){var Le=Qe;switch(Le.tag){case 0:case 11:case 15:Kf(8,Le,O)}var je=Le.child;if(je!==null)je.return=Le,Qe=je;else for(;Qe!==null;){Le=Qe;var Pe=Le.sibling,Ge=Le.return;if(BI(Le),Le===Ie){Qe=null;break}if(Pe!==null){Pe.return=Ge,Qe=Pe;break}Qe=Ge}}}var Ze=O.alternate;if(Ze!==null){var et=Ze.child;if(et!==null){Ze.child=null;do{var Zn=et.sibling;et.sibling=null,et=Zn}while(et!==null)}}Qe=O}}if((O.subtreeFlags&2064)!==0&&te!==null)te.return=O,Qe=te;else e:for(;Qe!==null;){if(O=Qe,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Kf(9,O,O.return)}var xe=O.sibling;if(xe!==null){xe.return=O.return,Qe=xe;break e}Qe=O.return}}var ge=a.current;for(Qe=ge;Qe!==null;){te=Qe;var Se=te.child;if((te.subtreeFlags&2064)!==0&&Se!==null)Se.return=te,Qe=Se;else e:for(te=ge;Qe!==null;){if(de=Qe,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Pm(9,de)}}catch(nt){Hn(de,de.return,nt)}if(de===te){Qe=null;break e}var Be=de.sibling;if(Be!==null){Be.return=de.return,Qe=Be;break e}Qe=de.return}}if(nn=A,Ua(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(ms,a)}catch{}w=!0}return w}finally{Zt=h,Zi.transition=c}}return!1}function eC(a,c,h){c=Fu(h,c),c=wI(a,c,1),a=Wa(a,c,1),c=ui(),a!==null&&(ql(a,1,c),Si(a,c))}function Hn(a,c,h){if(a.tag===3)eC(a,a,h);else for(;c!==null;){if(c.tag===3){eC(c,a,h);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(qa===null||!qa.has(w))){a=Fu(h,a),a=vI(c,a,1),c=Wa(c,a,1),a=ui(),c!==null&&(ql(c,1,a),Si(c,a));break}}c=c.return}}function TF(a,c,h){var w=a.pingCache;w!==null&&w.delete(c),c=ui(),a.pingedLanes|=a.suspendedLanes&h,Tr===a&&(jr&h)===h&&(xr===4||xr===3&&(jr&130023424)===jr&&500>hn()-Fv?sc(a,0):Bv|=h),Si(a,c)}function tC(a,c){c===0&&((a.mode&1)===0?c=1:(c=Na,Na<<=1,(Na&130023424)===0&&(Na=4194304)));var h=ui();a=qo(a,c),a!==null&&(ql(a,c,h),Si(a,h))}function AF(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),tC(a,h)}function IF(a,c){var h=0;switch(a.tag){case 13:var w=a.stateNode,A=a.memoizedState;A!==null&&(h=A.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(c),tC(a,h)}var nC;nC=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||xi.current)Ei=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Ei=!1,pF(a,c,h);Ei=(a.flags&131072)!==0}else Ei=!1,Ln&&(c.flags&1048576)!==0&&DA(c,gm,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;Nm(a,c),a=c.pendingProps;var A=Nu(c,Gr.current);ju(c,h),A=gv(null,c,w,a,A,h);var O=yv();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,bi(w)?(O=!0,hm(c)):O=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,cv(c),A.updater=Rm,c.stateNode=A,A._reactInternals=c,_v(c,w,a,h),c=Iv(null,c,w,!0,O,h)):(c.tag=0,Ln&&O&&Jw(c),ci(null,c,A,h),c=c.child),c;case 16:w=c.elementType;e:{switch(Nm(a,c),a=c.pendingProps,A=w._init,w=A(w._payload),c.type=w,A=c.tag=RF(w),a=vs(w,a),A){case 0:c=Av(null,c,w,a,h);break e;case 1:c=CI(null,c,w,a,h);break e;case 11:c=_I(null,c,w,a,h);break e;case 14:c=SI(null,c,w,vs(w.type,a),h);break e}throw Error(n(306,w,""))}return c;case 0:return w=c.type,A=c.pendingProps,A=c.elementType===w?A:vs(w,A),Av(a,c,w,A,h);case 1:return w=c.type,A=c.pendingProps,A=c.elementType===w?A:vs(w,A),CI(a,c,w,A,h);case 3:e:{if(RI(c),a===null)throw Error(n(387));w=c.pendingProps,O=c.memoizedState,A=O.element,$A(a,c),Em(c,w,null,h);var te=c.memoizedState;if(w=te.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:te.cache,pendingSuspenseBoundaries:te.pendingSuspenseBoundaries,transitions:te.transitions},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){A=Fu(Error(n(423)),c),c=MI(a,c,w,h,A);break e}else if(w!==A){A=Fu(Error(n(424)),c),c=MI(a,c,w,h,A);break e}else for(Bi=Ba(c.stateNode.containerInfo.firstChild),ji=c,Ln=!0,ws=null,h=zA(c,null,w,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Lu(),w===A){c=Ko(a,c,h);break e}ci(a,c,w,h)}c=c.child}return c;case 5:return KA(c),a===null&&nv(c),w=c.type,A=c.pendingProps,O=a!==null?a.memoizedProps:null,te=A.children,Kw(w,A)?te=null:O!==null&&Kw(w,O)&&(c.flags|=32),II(a,c),ci(a,c,te,h),c.child;case 6:return a===null&&nv(c),null;case 13:return NI(a,c,h);case 4:return uv(c,c.stateNode.containerInfo),w=c.pendingProps,a===null?c.child=Du(c,null,w,h):ci(a,c,w,h),c.child;case 11:return w=c.type,A=c.pendingProps,A=c.elementType===w?A:vs(w,A),_I(a,c,w,A,h);case 7:return ci(a,c,c.pendingProps,h),c.child;case 8:return ci(a,c,c.pendingProps.children,h),c.child;case 12:return ci(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(w=c.type._context,A=c.pendingProps,O=c.memoizedProps,te=A.value,_n(vm,w._currentValue),w._currentValue=te,O!==null)if(ys(O.value,te)){if(O.children===A.children&&!xi.current){c=Ko(a,c,h);break e}}else for(O=c.child,O!==null&&(O.return=c);O!==null;){var de=O.dependencies;if(de!==null){te=O.child;for(var me=de.firstContext;me!==null;){if(me.context===w){if(O.tag===1){me=Ho(-1,h&-h),me.tag=2;var Ie=O.updateQueue;if(Ie!==null){Ie=Ie.shared;var Le=Ie.pending;Le===null?me.next=me:(me.next=Le.next,Le.next=me),Ie.pending=me}}O.lanes|=h,me=O.alternate,me!==null&&(me.lanes|=h),av(O.return,h,c),de.lanes|=h;break}me=me.next}}else if(O.tag===10)te=O.type===c.type?null:O.child;else if(O.tag===18){if(te=O.return,te===null)throw Error(n(341));te.lanes|=h,de=te.alternate,de!==null&&(de.lanes|=h),av(te,h,c),te=O.sibling}else te=O.child;if(te!==null)te.return=O;else for(te=O;te!==null;){if(te===c){te=null;break}if(O=te.sibling,O!==null){O.return=te.return,te=O;break}te=te.return}O=te}ci(a,c,A.children,h),c=c.child}return c;case 9:return A=c.type,w=c.pendingProps.children,ju(c,h),A=Qi(A),w=w(A),c.flags|=1,ci(a,c,w,h),c.child;case 14:return w=c.type,A=vs(w,c.pendingProps),A=vs(w.type,A),SI(a,c,w,A,h);case 15:return TI(a,c,c.type,c.pendingProps,h);case 17:return w=c.type,A=c.pendingProps,A=c.elementType===w?A:vs(w,A),Nm(a,c),c.tag=1,bi(w)?(a=!0,hm(c)):a=!1,ju(c,h),gI(c,w,A),_v(c,w,A,h),Iv(null,c,w,!0,a,h);case 19:return PI(a,c,h);case 22:return AI(a,c,h)}throw Error(n(156,c.tag))};function rC(a,c){return ko(a,c)}function CF(a,c,h,w){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(a,c,h,w){return new CF(a,c,h,w)}function Kv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function RF(a){if(typeof a=="function")return Kv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===k)return 11;if(a===I)return 14}return 2}function Ya(a,c){var h=a.alternate;return h===null?(h=Ji(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function zm(a,c,h,w,A,O){var te=2;if(w=a,typeof a=="function")Kv(a)&&(te=1);else if(typeof a=="string")te=5;else e:switch(a){case q:return ac(h.children,A,O,c);case U:te=8,A|=8;break;case P:return a=Ji(12,h,c,A|2),a.elementType=P,a.lanes=O,a;case S:return a=Ji(13,h,c,A),a.elementType=S,a.lanes=O,a;case g:return a=Ji(19,h,c,A),a.elementType=g,a.lanes=O,a;case Y:return Wm(h,A,O,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:te=10;break e;case H:te=9;break e;case k:te=11;break e;case I:te=14;break e;case W:te=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Ji(te,h,c,A),c.elementType=a,c.type=w,c.lanes=O,c}function ac(a,c,h,w){return a=Ji(7,a,w,c),a.lanes=h,a}function Wm(a,c,h,w){return a=Ji(22,a,w,c),a.elementType=Y,a.lanes=h,a.stateNode={isHidden:!1},a}function Gv(a,c,h){return a=Ji(6,a,null,c),a.lanes=h,a}function Yv(a,c,h){return c=Ji(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function MF(a,c,h,w,A){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Qv(a,c,h,w,A,O,te,de,me){return a=new MF(a,c,h,de,me),c===1?(c=1,O===!0&&(c|=8)):c=0,O=Ji(3,null,null,c),a.current=O,O.stateNode=a,O.memoizedState={element:w,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(O),a}function NF(a,c,h){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:w==null?null:""+w,children:a,containerInfo:c,implementation:h}}function iC(a){if(!a)return Va;a=a._reactInternals;e:{if(wi(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(bi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(bi(h))return kA(a,h,c)}return c}function sC(a,c,h,w,A,O,te,de,me){return a=Qv(h,w,!0,a,A,O,te,de,me),a.context=iC(null),h=a.current,w=ui(),A=Ka(h),O=Ho(w,A),O.callback=c??null,Wa(h,O,A),a.current.lanes=A,ql(a,A,w),Si(a,w),a}function $m(a,c,h,w){var A=c.current,O=ui(),te=Ka(A);return h=iC(h),c.context===null?c.context=h:c.pendingContext=h,c=Ho(O,te),c.payload={element:a},w=w===void 0?null:w,w!==null&&(c.callback=w),a=Wa(A,c,te),a!==null&&(Es(a,A,te,O),bm(a,A,te)),te}function qm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function oC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Xv(a,c){oC(a,c),(a=a.alternate)&&oC(a,c)}function kF(){return null}var aC=typeof reportError=="function"?reportError:function(a){console.error(a)};function Zv(a){this._internalRoot=a}Hm.prototype.render=Zv.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));$m(a,c,null,null)},Hm.prototype.unmount=Zv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;ic(function(){$m(null,a,null,null)}),c[Uo]=null}};function Hm(a){this._internalRoot=a}Hm.prototype.unstable_scheduleHydration=function(a){if(a){var c=Ef();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Pi.length&&c!==0&&c<Pi[h].priority;h++);Pi.splice(h,0,a),h===0&&mu(a)}};function Jv(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Km(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function lC(){}function PF(a,c,h,w,A){if(A){if(typeof w=="function"){var O=w;w=function(){var Ie=qm(te);O.call(Ie)}}var te=sC(c,w,a,0,null,!1,!1,"",lC);return a._reactRootContainer=te,a[Uo]=te.current,Lf(a.nodeType===8?a.parentNode:a),ic(),te}for(;A=a.lastChild;)a.removeChild(A);if(typeof w=="function"){var de=w;w=function(){var Ie=qm(me);de.call(Ie)}}var me=Qv(a,0,!1,null,null,!1,!1,"",lC);return a._reactRootContainer=me,a[Uo]=me.current,Lf(a.nodeType===8?a.parentNode:a),ic(function(){$m(c,me,h,w)}),me}function Gm(a,c,h,w,A){var O=h._reactRootContainer;if(O){var te=O;if(typeof A=="function"){var de=A;A=function(){var me=qm(te);de.call(me)}}$m(c,te,a,A)}else te=PF(h,c,a,A,w);return qm(te)}xf=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=ln(c.pendingLanes);h!==0&&(vf(c,h|1),Si(c,hn()),(nn&6)===0&&(zu=hn()+500,Ua()))}break;case 13:ic(function(){var w=qo(a,1);if(w!==null){var A=ui();Es(w,a,1,A)}}),Xv(a,1)}},hu=function(a){if(a.tag===13){var c=qo(a,134217728);if(c!==null){var h=ui();Es(c,a,134217728,h)}Xv(a,134217728)}},bf=function(a){if(a.tag===13){var c=Ka(a),h=qo(a,c);if(h!==null){var w=ui();Es(h,a,c,w)}Xv(a,c)}},Ef=function(){return Zt},_f=function(a,c){var h=Zt;try{return Zt=a,c()}finally{Zt=h}},jt=function(a,c,h){switch(c){case"input":if(Pt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var w=h[c];if(w!==a&&w.form===a.form){var A=dm(w);if(!A)throw Error(n(90));tt(w),Pt(w,A)}}}break;case"textarea":Qt(a,h);break;case"select":c=h.value,c!=null&&Lt(a,!!h.multiple,c,!1)}},Rt=$v,pt=ic;var LF={usingClientEntryPoint:!1,Events:[jf,Ru,dm,Xt,$e,$v]},Xf={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DF={bundleType:Xf.bundleType,version:Xf.version,rendererPackageName:Xf.rendererPackageName,rendererConfig:Xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ra(a),a===null?null:a.stateNode},findFiberByHostInstance:Xf.findFiberByHostInstance||kF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ym.isDisabled&&Ym.supportsFiber)try{ms=Ym.inject(DF),kr=Ym}catch{}}return Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LF,Ti.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jv(c))throw Error(n(200));return NF(a,c,null,h)},Ti.createRoot=function(a,c){if(!Jv(a))throw Error(n(299));var h=!1,w="",A=aC;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=Qv(a,1,!1,null,null,h,!1,w,A),a[Uo]=c.current,Lf(a.nodeType===8?a.parentNode:a),new Zv(c)},Ti.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Ra(c),a=a===null?null:a.stateNode,a},Ti.flushSync=function(a){return ic(a)},Ti.hydrate=function(a,c,h){if(!Km(c))throw Error(n(200));return Gm(null,a,c,!0,h)},Ti.hydrateRoot=function(a,c,h){if(!Jv(a))throw Error(n(405));var w=h!=null&&h.hydratedSources||null,A=!1,O="",te=aC;if(h!=null&&(h.unstable_strictMode===!0&&(A=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onRecoverableError!==void 0&&(te=h.onRecoverableError)),c=sC(c,null,a,1,h??null,A,!1,O,te),a[Uo]=c.current,Lf(a),w)for(a=0;a<w.length;a++)h=w[a],A=h._getVersion,A=A(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,A]:c.mutableSourceEagerHydrationData.push(h,A);return new Hm(c)},Ti.render=function(a,c,h){if(!Km(c))throw Error(n(200));return Gm(null,a,c,!1,h)},Ti.unmountComponentAtNode=function(a){if(!Km(a))throw Error(n(40));return a._reactRootContainer?(ic(function(){Gm(null,null,a,!1,function(){a._reactRootContainer=null,a[Uo]=null})}),!0):!1},Ti.unstable_batchedUpdates=$v,Ti.unstable_renderSubtreeIntoContainer=function(a,c,h,w){if(!Km(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Gm(a,c,h,!1,w)},Ti.version="18.3.1-next-f1338f8080-20240426",Ti}var gC;function nP(){if(gC)return n1.exports;gC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n1.exports=WF(),n1.exports}var yC;function $F(){if(yC)return Qm;yC=1;var t=nP();return Qm.createRoot=t.createRoot,Qm.hydrateRoot=t.hydrateRoot,Qm}var qF=$F(),C=g0();const ve=Ol(C),d_=jF({__proto__:null,default:ve},[C]),HF=1,KF=1e6;let s1=0;function GF(){return s1=(s1+1)%Number.MAX_SAFE_INTEGER,s1.toString()}const o1=new Map,wC=t=>{if(o1.has(t))return;const e=setTimeout(()=>{o1.delete(t),xh({type:"REMOVE_TOAST",toastId:t})},KF);o1.set(t,e)},YF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wC(n):t.toasts.forEach(r=>{wC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tg=[];let Ag={toasts:[]};function xh(t){Ag=YF(Ag,t),Tg.forEach(e=>{e(Ag)})}function QF({...t}){const e=GF(),n=i=>xh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>xh({type:"DISMISS_TOAST",toastId:e});return xh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function XF(){const[t,e]=C.useState(Ag);return C.useEffect(()=>(Tg.push(e),()=>{const n=Tg.indexOf(e);n>-1&&Tg.splice(n,1)}),[t]),{...t,toast:QF,dismiss:n=>xh({type:"DISMISS_TOAST",toastId:n})}}var Zc=nP();const rP=Ol(Zc);function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function vC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function y0(...t){return e=>{let n=!1;const r=t.map(i=>{const s=vC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():vC(t[i],null)}}}}function cn(...t){return C.useCallback(y0(...t),t)}function ZF(t,e){const n=C.createContext(e),r=s=>{const{children:o,...l}=s,u=C.useMemo(()=>l,Object.values(l));return y.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fs(t,e=[]){let n=[];function r(s,o){const l=C.createContext(o),u=n.length;n=[...n,o];const d=p=>{const{scope:v,children:x,...T}=p,_=v?.[t]?.[u]||l,E=C.useMemo(()=>T,Object.values(T));return y.jsx(_.Provider,{value:E,children:x})};d.displayName=s+"Provider";function f(p,v){const x=v?.[t]?.[u]||l,T=C.useContext(x);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(l){const u=l?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,JF(i,...e)]}function JF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Oc(t){const e=tV(t),n=C.forwardRef((r,i)=>{const{children:s,...o}=r,l=C.Children.toArray(s),u=l.find(rV);if(u){const d=u.props.children,f=l.map(p=>p===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return y.jsx(e,{...o,ref:i,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return y.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var eV=Oc("Slot");function tV(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const o=sV(i),l=iV(s,i.props);return i.type!==C.Fragment&&(l.ref=r?y0(r,o):o),C.cloneElement(i,l)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iP=Symbol("radix.slottable");function nV(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=iP,e}function rV(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iP}function iV(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function sV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function w0(t){const e=t+"CollectionProvider",[n,r]=Fs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:N}=_,L=ve.useRef(null),M=ve.useRef(new Map).current;return y.jsx(i,{scope:E,itemMap:M,collectionRef:L,children:N})};o.displayName=e;const l=t+"CollectionSlot",u=Oc(l),d=ve.forwardRef((_,E)=>{const{scope:N,children:L}=_,M=s(l,N),Z=cn(E,M.collectionRef);return y.jsx(u,{ref:Z,children:L})});d.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",v=Oc(f),x=ve.forwardRef((_,E)=>{const{scope:N,children:L,...M}=_,Z=ve.useRef(null),J=cn(E,Z),re=s(f,N);return ve.useEffect(()=>(re.itemMap.set(Z,{ref:Z,...M}),()=>void re.itemMap.delete(Z))),y.jsx(v,{[p]:"",ref:J,children:L})});x.displayName=f;function T(_){const E=s(t+"CollectionConsumer",_);return ve.useCallback(()=>{const L=E.collectionRef.current;if(!L)return[];const M=Array.from(L.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((re,q)=>M.indexOf(re.ref.current)-M.indexOf(q.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},T,r]}var oV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=oV.reduce((t,e)=>{const n=Oc(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function f_(t,e){t&&Zc.flushSync(()=>t.dispatchEvent(e))}function mi(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function aV(t,e=globalThis?.document){const n=mi(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lV="DismissableLayer",ab="dismissableLayer.update",cV="dismissableLayer.pointerDownOutside",uV="dismissableLayer.focusOutside",xC,sP=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yd=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,d=C.useContext(sP),[f,p]=C.useState(null),v=f?.ownerDocument??globalThis?.document,[,x]=C.useState({}),T=cn(e,q=>p(q)),_=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(E),L=f?_.indexOf(f):-1,M=d.layersWithOutsidePointerEventsDisabled.size>0,Z=L>=N,J=fV(q=>{const U=q.target,P=[...d.branches].some(z=>z.contains(U));!Z||P||(i?.(q),o?.(q),q.defaultPrevented||l?.())},v),re=hV(q=>{const U=q.target;[...d.branches].some(z=>z.contains(U))||(s?.(q),o?.(q),q.defaultPrevented||l?.())},v);return aV(q=>{L===d.layers.size-1&&(r?.(q),!q.defaultPrevented&&l&&(q.preventDefault(),l()))},v),C.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(xC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),bC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=xC)}},[f,v,n,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),bC())},[f,d]),C.useEffect(()=>{const q=()=>x({});return document.addEventListener(ab,q),()=>document.removeEventListener(ab,q)},[]),y.jsx(St.div,{...u,ref:T,style:{pointerEvents:M?Z?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,re.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,re.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,J.onPointerDownCapture)})});Yd.displayName=lV;var dV="DismissableLayerBranch",oP=C.forwardRef((t,e)=>{const n=C.useContext(sP),r=C.useRef(null),i=cn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(St.div,{...t,ref:i})});oP.displayName=dV;function fV(t,e=globalThis?.document){const n=mi(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){aP(cV,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hV(t,e=globalThis?.document){const n=mi(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&aP(uV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bC(){const t=new CustomEvent(ab);document.dispatchEvent(t)}function aP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?f_(i,s):i.dispatchEvent(s)}var pV=Yd,mV=oP,wr=globalThis?.document?C.useLayoutEffect:()=>{},gV="Portal",mp=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=C.useState(!1);wr(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?rP.createPortal(y.jsx(St.div,{...r,ref:e}),o):null});mp.displayName=gV;function yV(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Vs=t=>{const{present:e,children:n}=t,r=wV(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=cn(r.ref,vV(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Vs.displayName="Presence";function wV(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[l,u]=yV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Xm(r.current);s.current=l==="mounted"?d:"none"},[l]),wr(()=>{const d=r.current,f=i.current;if(f!==t){const v=s.current,x=Xm(d);t?u("MOUNT"):x==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),wr(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=x=>{const _=Xm(r.current).includes(x.animationName);if(x.target===e&&_&&(u("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},v=x=>{x.target===e&&(s.current=Xm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Xm(t){return t?.animationName||"none"}function vV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xV=d_[" useInsertionEffect ".trim().toString()]||wr;function jc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=bV({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=C.useCallback(f=>{if(l){const p=EV(f)?f(t):f;p!==t&&o.current?.(p)}else s(f)},[l,t,s,o]);return[u,d]}function bV({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return xV(()=>{s.current=e},[e]),C.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function EV(t){return typeof t=="function"}var lP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_V="VisuallyHidden",v0=C.forwardRef((t,e)=>y.jsx(St.span,{...t,ref:e,style:{...lP,...t.style}}));v0.displayName=_V;var SV=v0,h_="ToastProvider",[p_,TV,AV]=w0("Toast"),[cP]=Fs("Toast",[AV]),[IV,x0]=cP(h_),uP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,u]=C.useState(null),[d,f]=C.useState(0),p=C.useRef(!1),v=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${h_}\`. Expected non-empty \`string\`.`),y.jsx(p_.Provider,{scope:e,children:y.jsx(IV,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:C.useCallback(()=>f(x=>x+1),[]),onToastRemove:C.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:o})})};uP.displayName=h_;var dP="ToastViewport",CV=["F8"],lb="toast.viewportPause",cb="toast.viewportResume",fP=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=CV,label:i="Notifications ({hotkey})",...s}=t,o=x0(dP,n),l=TV(n),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),p=C.useRef(null),v=cn(e,p,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;C.useEffect(()=>{const E=N=>{r.length!==0&&r.every(M=>N[M]||N.code===M)&&p.current?.focus()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=u.current,N=p.current;if(T&&E&&N){const L=()=>{if(!o.isClosePausedRef.current){const re=new CustomEvent(lb);N.dispatchEvent(re),o.isClosePausedRef.current=!0}},M=()=>{if(o.isClosePausedRef.current){const re=new CustomEvent(cb);N.dispatchEvent(re),o.isClosePausedRef.current=!1}},Z=re=>{!E.contains(re.relatedTarget)&&M()},J=()=>{E.contains(document.activeElement)||M()};return E.addEventListener("focusin",L),E.addEventListener("focusout",Z),E.addEventListener("pointermove",L),E.addEventListener("pointerleave",J),window.addEventListener("blur",L),window.addEventListener("focus",M),()=>{E.removeEventListener("focusin",L),E.removeEventListener("focusout",Z),E.removeEventListener("pointermove",L),E.removeEventListener("pointerleave",J),window.removeEventListener("blur",L),window.removeEventListener("focus",M)}}},[T,o.isClosePausedRef]);const _=C.useCallback(({tabbingDirection:E})=>{const L=l().map(M=>{const Z=M.ref.current,J=[Z,...UV(Z)];return E==="forwards"?J:J.reverse()});return(E==="forwards"?L.reverse():L).flat()},[l]);return C.useEffect(()=>{const E=p.current;if(E){const N=L=>{const M=L.altKey||L.ctrlKey||L.metaKey;if(L.key==="Tab"&&!M){const J=document.activeElement,re=L.shiftKey;if(L.target===E&&re){d.current?.focus();return}const P=_({tabbingDirection:re?"backwards":"forwards"}),z=P.findIndex(H=>H===J);a1(P.slice(z+1))?L.preventDefault():re?d.current?.focus():f.current?.focus()}};return E.addEventListener("keydown",N),()=>E.removeEventListener("keydown",N)}},[l,_]),y.jsxs(mV,{ref:u,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&y.jsx(ub,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});a1(E)}}),y.jsx(p_.Slot,{scope:n,children:y.jsx(St.ol,{tabIndex:-1,...s,ref:v})}),T&&y.jsx(ub,{ref:f,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});a1(E)}})]})});fP.displayName=dP;var hP="ToastFocusProxy",ub=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=x0(hP,n);return y.jsx(v0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&r()}})});ub.displayName=hP;var gp="Toast",RV="toast.swipeStart",MV="toast.swipeMove",NV="toast.swipeCancel",kV="toast.swipeEnd",pP=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,u]=jc({prop:r,defaultProp:i??!0,onChange:s,caller:gp});return y.jsx(Vs,{present:n||l,children:y.jsx(DV,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:mi(t.onPause),onResume:mi(t.onResume),onSwipeStart:qe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:qe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});pP.displayName=gp;var[PV,LV]=cP(gp,{onClose(){}}),DV=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:x,...T}=t,_=x0(gp,n),[E,N]=C.useState(null),L=cn(e,g=>N(g)),M=C.useRef(null),Z=C.useRef(null),J=i||_.duration,re=C.useRef(0),q=C.useRef(J),U=C.useRef(0),{onToastAdd:P,onToastRemove:z}=_,H=mi(()=>{E?.contains(document.activeElement)&&_.viewport?.focus(),o()}),k=C.useCallback(g=>{!g||g===1/0||(window.clearTimeout(U.current),re.current=new Date().getTime(),U.current=window.setTimeout(H,g))},[H]);C.useEffect(()=>{const g=_.viewport;if(g){const I=()=>{k(q.current),d?.()},W=()=>{const Y=new Date().getTime()-re.current;q.current=q.current-Y,window.clearTimeout(U.current),u?.()};return g.addEventListener(lb,W),g.addEventListener(cb,I),()=>{g.removeEventListener(lb,W),g.removeEventListener(cb,I)}}},[_.viewport,J,u,d,k]),C.useEffect(()=>{s&&!_.isClosePausedRef.current&&k(J)},[s,J,_.isClosePausedRef,k]),C.useEffect(()=>(P(),()=>z()),[P,z]);const S=C.useMemo(()=>E?bP(E):null,[E]);return _.viewport?y.jsxs(y.Fragment,{children:[S&&y.jsx(OV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:S}),y.jsx(PV,{scope:n,onClose:H,children:Zc.createPortal(y.jsx(p_.ItemSlot,{scope:n,children:y.jsx(pV,{asChild:!0,onEscapeKeyDown:qe(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||H(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(St.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...T,ref:L,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,g=>{g.key==="Escape"&&(l?.(g.nativeEvent),g.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:qe(t.onPointerDown,g=>{g.button===0&&(M.current={x:g.clientX,y:g.clientY})}),onPointerMove:qe(t.onPointerMove,g=>{if(!M.current)return;const I=g.clientX-M.current.x,W=g.clientY-M.current.y,Y=!!Z.current,K=["left","right"].includes(_.swipeDirection),X=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,se=K?X(0,I):0,$=K?0:X(0,W),b=g.pointerType==="touch"?10:2,R={x:se,y:$},Q={originalEvent:g,delta:R};Y?(Z.current=R,Zm(MV,p,Q,{discrete:!1})):EC(R,_.swipeDirection,b)?(Z.current=R,Zm(RV,f,Q,{discrete:!1}),g.target.setPointerCapture(g.pointerId)):(Math.abs(I)>b||Math.abs(W)>b)&&(M.current=null)}),onPointerUp:qe(t.onPointerUp,g=>{const I=Z.current,W=g.target;if(W.hasPointerCapture(g.pointerId)&&W.releasePointerCapture(g.pointerId),Z.current=null,M.current=null,I){const Y=g.currentTarget,K={originalEvent:g,delta:I};EC(I,_.swipeDirection,_.swipeThreshold)?Zm(kV,x,K,{discrete:!0}):Zm(NV,v,K,{discrete:!0}),Y.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),OV=t=>{const{__scopeToast:e,children:n,...r}=t,i=x0(gp,e),[s,o]=C.useState(!1),[l,u]=C.useState(!1);return FV(()=>o(!0)),C.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:y.jsx(mp,{asChild:!0,children:y.jsx(v0,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},jV="ToastTitle",mP=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(St.div,{...r,ref:e})});mP.displayName=jV;var BV="ToastDescription",gP=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(St.div,{...r,ref:e})});gP.displayName=BV;var yP="ToastAction",wP=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(xP,{altText:n,asChild:!0,children:y.jsx(m_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${yP}\`. Expected non-empty \`string\`.`),null)});wP.displayName=yP;var vP="ToastClose",m_=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=LV(vP,n);return y.jsx(xP,{asChild:!0,children:y.jsx(St.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,i.onClose)})})});m_.displayName=vP;var xP=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(St.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function bP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bP(r))}}),e}function Zm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?f_(i,s):i.dispatchEvent(s)}var EC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function FV(t=()=>{}){const e=mi(t);wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VV(t){return t.nodeType===t.ELEMENT_NODE}function UV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function a1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zV=uP,EP=fP,_P=pP,SP=mP,TP=gP,AP=wP,IP=m_;function CP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CP(t))&&(r&&(r+=" "),r+=e);return r}const _C=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SC=RP,b0=(t,e)=>n=>{var r;if(e?.variants==null)return SC(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n?.[d],p=s?.[d];if(f===null)return null;const v=_C(f)||_C(p);return i[d][v]}),l=n&&Object.entries(n).reduce((d,f)=>{let[p,v]=f;return v===void 0||(d[p]=v),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:p,className:v,...x}=f;return Object.entries(x).every(T=>{let[_,E]=T;return Array.isArray(E)?E.includes({...s,...l}[_]):{...s,...l}[_]===E})?[...d,p,v]:d},[]);return SC(t,o,u,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>C.createElement("svg",{ref:u,...$V,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MP("lucide",i),...l},[...o.map(([d,f])=>C.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(qV,{ref:s,iconNode:e,className:MP(`lucide-${WV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=an("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=an("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=an("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=an("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=an("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=an("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=an("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=an("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=an("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=an("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=an("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=an("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=an("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=an("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=an("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=an("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=an("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=an("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=an("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=an("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=an("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=an("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=an("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=an("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=an("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=an("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=an("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=an("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=an("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=an("WalletMinimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=an("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=an("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),w_="-",cU=t=>{const e=dU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(w_);return l[0]===""&&l.length!==1&&l.shift(),DP(l,e)||uU(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},DP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?DP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(w_);return e.validators.find(({validator:o})=>o(s))?.classGroupId},AC=/^\[(.+)\]$/,uU=t=>{if(AC.test(t)){const e=AC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hU(Object.entries(t.classGroups),n).forEach(([s,o])=>{fb(o,r,s,e)}),r},fb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:IC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(fU(i)){fb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{fb(o,IC(e,s),n,r)})})},IC=(t,e)=>{let n=t;return e.split(w_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fU=t=>t.isThemeGetter,hU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,pU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},OP="!",mU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let d=0,f=0,p;for(let E=0;E<l.length;E++){let N=l[E];if(d===0){if(N===i&&(r||l.slice(E,E+s)===e)){u.push(l.slice(f,E)),f=E+s;continue}if(N==="/"){p=E;continue}}N==="["?d++:N==="]"&&d--}const v=u.length===0?l:l.substring(f),x=v.startsWith(OP),T=x?v.substring(1):v,_=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:o}):o},gU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yU=t=>({cache:pU(t.cacheSize),parseClassName:mU(t),...cU(t)}),wU=/\s+/,vU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(wU);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}=n(d);let T=!!x,_=r(T?v.substring(0,x):v);if(!_){if(!T){l=d+(l.length>0?" "+l:l);continue}if(_=r(v),!_){l=d+(l.length>0?" "+l:l);continue}T=!1}const E=gU(f).join(":"),N=p?E+OP:E,L=N+_;if(s.includes(L))continue;s.push(L);const M=i(_,T);for(let Z=0;Z<M.length;++Z){const J=M[Z];s.push(N+J)}l=d+(l.length>0?" "+l:l)}return l};function xU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jP(e))&&(r&&(r+=" "),r+=n);return r}const jP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jP(t[r]))&&(n&&(n+=" "),n+=e);return n};function bU(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((f,p)=>p(f),t());return n=yU(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=vU(u,n);return i(u,f),f}return function(){return s(xU.apply(null,arguments))}}const Nn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BP=/^\[(?:([a-z-]+):)?(.+)\]$/i,EU=/^\d+\/\d+$/,_U=new Set(["px","full","screen"]),SU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>vd(t)||_U.has(t)||EU.test(t),Xa=t=>Xd(t,"length",OU),vd=t=>!!t&&!Number.isNaN(Number(t)),l1=t=>Xd(t,"number",vd),Jf=t=>!!t&&Number.isInteger(Number(t)),RU=t=>t.endsWith("%")&&vd(t.slice(0,-1)),Ot=t=>BP.test(t),Za=t=>SU.test(t),MU=new Set(["length","size","percentage"]),NU=t=>Xd(t,MU,FP),kU=t=>Xd(t,"position",FP),PU=new Set(["image","url"]),LU=t=>Xd(t,PU,BU),DU=t=>Xd(t,"",jU),eh=()=>!0,Xd=(t,e,n)=>{const r=BP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},OU=t=>TU.test(t)&&!AU.test(t),FP=()=>!1,jU=t=>IU.test(t),BU=t=>CU.test(t),FU=()=>{const t=Nn("colors"),e=Nn("spacing"),n=Nn("blur"),r=Nn("brightness"),i=Nn("borderColor"),s=Nn("borderRadius"),o=Nn("borderSpacing"),l=Nn("borderWidth"),u=Nn("contrast"),d=Nn("grayscale"),f=Nn("hueRotate"),p=Nn("invert"),v=Nn("gap"),x=Nn("gradientColorStops"),T=Nn("gradientColorStopPositions"),_=Nn("inset"),E=Nn("margin"),N=Nn("opacity"),L=Nn("padding"),M=Nn("saturate"),Z=Nn("scale"),J=Nn("sepia"),re=Nn("skew"),q=Nn("space"),U=Nn("translate"),P=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Ot,e],k=()=>[Ot,e],S=()=>["",Yo,Xa],g=()=>["auto",vd,Ot],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Ot],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[vd,Ot];return{cacheSize:500,separator:":",theme:{colors:[eh],spacing:[Yo,Xa],blur:["none","",Za,Ot],brightness:$(),borderColor:[t],borderRadius:["none","","full",Za,Ot],borderSpacing:k(),borderWidth:S(),contrast:$(),grayscale:X(),hueRotate:$(),invert:X(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[RU,Xa],inset:H(),margin:H(),opacity:$(),padding:k(),saturate:$(),scale:$(),sepia:X(),skew:$(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ot]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ot]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jf,Ot]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ot]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Jf,Ot]}],"grid-cols":[{"grid-cols":[eh]}],"col-start-end":[{col:["auto",{span:["full",Jf,Ot]},Ot]}],"col-start":[{"col-start":g()}],"col-end":[{"col-end":g()}],"grid-rows":[{"grid-rows":[eh]}],"row-start-end":[{row:["auto",{span:[Jf,Ot]},Ot]}],"row-start":[{"row-start":g()}],"row-end":[{"row-end":g()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ot]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ot,e]}],"min-w":[{"min-w":[Ot,e,"min","max","fit"]}],"max-w":[{"max-w":[Ot,e,"none","full","min","max","fit","prose",{screen:[Za]},Za]}],h:[{h:[Ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Za,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",l1]}],"font-family":[{font:[eh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ot]}],"line-clamp":[{"line-clamp":["none",vd,l1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yo,Ot]}],"list-image":[{"list-image":["none",Ot]}],"list-style-type":[{list:["none","disc","decimal",Ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yo,Xa]}],"underline-offset":[{"underline-offset":["auto",Yo,Ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),kU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Yo,Ot]}],"outline-w":[{outline:[Yo,Xa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Yo,Xa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Za,DU]}],"shadow-color":[{shadow:[eh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Za,Ot]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[M]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ot]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Ot]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Z]}],"scale-x":[{"scale-x":[Z]}],"scale-y":[{"scale-y":[Z]}],rotate:[{rotate:[Jf,Ot]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yo,Xa,l1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VU=bU(FU);function ut(...t){return VU(RP(t))}const UU=zV,VP=C.forwardRef(({className:t,...e},n)=>y.jsx(EP,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VP.displayName=EP.displayName;const zU=b0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UP=C.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(_P,{ref:r,className:ut(zU({variant:e}),t),...n}));UP.displayName=_P.displayName;const WU=C.forwardRef(({className:t,...e},n)=>y.jsx(AP,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));WU.displayName=AP.displayName;const zP=C.forwardRef(({className:t,...e},n)=>y.jsx(IP,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(yp,{className:"h-4 w-4"})}));zP.displayName=IP.displayName;const WP=C.forwardRef(({className:t,...e},n)=>y.jsx(SP,{ref:n,className:ut("text-sm font-semibold",t),...e}));WP.displayName=SP.displayName;const $P=C.forwardRef(({className:t,...e},n)=>y.jsx(TP,{ref:n,className:ut("text-sm opacity-90",t),...e}));$P.displayName=TP.displayName;function $U(){const{toasts:t}=XF();return y.jsxs(UU,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return y.jsxs(UP,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(WP,{children:n}),r&&y.jsx($P,{children:r})]}),i,y.jsx(zP,{})]},e)}),y.jsx(VP,{})]})}var CC=["light","dark"],qU="(prefers-color-scheme: dark)",HU=C.createContext(void 0),KU={setTheme:t=>{},themes:[]},GU=()=>{var t;return(t=C.useContext(HU))!=null?t:KU};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:u})=>{let d=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?CC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(T,_=!1,E=!0)=>{let N=o?o[T]:T,L=_?T+"|| ''":`'${N}'`,M="";return i&&E&&!_&&CC.includes(T)&&(M+=`d.style.colorScheme = '${T}';`),n==="class"?_||N?M+=`c.add(${L})`:M+="null":N&&(M+=`d[s](n,${L})`),M},x=t?`!function(){${f}${v(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${qU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}${d?"":"else{"+v(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}else{${v(s,!1,!1)};}${p}}catch(t){}}();`;return C.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:x}})});var YU=t=>{switch(t){case"success":return ZU;case"info":return e9;case"warning":return JU;case"error":return t9;default:return null}},QU=Array(12).fill(0),XU=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},QU.map((n,r)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZU=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JU=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),e9=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),t9=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),n9=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),r9=()=>{let[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},hb=1,i9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:hb++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,l=i.then(async d=>{if(o=["resolve",d],ve.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(o9(d)&&!d.ok){s=!1;let f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:f,description:p})}else if(n.success!==void 0){s=!1;let f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:f,description:p})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;let f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:f,description:p})}}).finally(()=>{var d;s&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=n?.id||hb++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ai=new i9,s9=(t,e)=>{let n=e?.id||hb++;return Ai.addToast({title:t,...e,id:n}),n},o9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",a9=s9,l9=()=>Ai.toasts,c9=()=>Ai.getActiveToasts(),hr=Object.assign(a9,{success:Ai.success,info:Ai.info,warning:Ai.warning,error:Ai.error,custom:Ai.custom,message:Ai.message,promise:Ai.promise,dismiss:Ai.dismiss,loading:Ai.loading},{getHistory:l9,getToasts:c9});function u9(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}u9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jm(t){return t.label!==void 0}var d9=3,f9="32px",h9="16px",RC=4e3,p9=356,m9=14,g9=20,y9=200;function _s(...t){return t.filter(Boolean).join(" ")}function w9(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var v9=t=>{var e,n,r,i,s,o,l,u,d,f,p;let{invert:v,toast:x,unstyled:T,interacting:_,setHeights:E,visibleToasts:N,heights:L,index:M,toasts:Z,expanded:J,removeToast:re,defaultRichColors:q,closeButton:U,style:P,cancelButtonStyle:z,actionButtonStyle:H,className:k="",descriptionClassName:S="",duration:g,position:I,gap:W,loadingIcon:Y,expandByDefault:K,classNames:X,icons:se,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:b}=t,[R,Q]=ve.useState(null),[ie,ue]=ve.useState(null),[ce,_e]=ve.useState(!1),[Me,Ve]=ve.useState(!1),[We,tt]=ve.useState(!1),[Yt,Dt]=ve.useState(!1),[Wt,xn]=ve.useState(!1),[Pt,en]=ve.useState(0),[fn,vt]=ve.useState(0),Lt=ve.useRef(x.duration||g||RC),rn=ve.useRef(null),ft=ve.useRef(null),Qt=M===0,wn=M+1<=N,Ct=x.type,Vt=x.dismissible!==!1,In=x.className||"",qt=x.descriptionClassName||"",ne=ve.useMemo(()=>L.findIndex($e=>$e.toastId===x.id)||0,[L,x.id]),j=ve.useMemo(()=>{var $e;return($e=x.closeButton)!=null?$e:U},[x.closeButton,U]),V=ve.useMemo(()=>x.duration||g||RC,[x.duration,g]),le=ve.useRef(0),he=ve.useRef(0),ye=ve.useRef(0),Te=ve.useRef(null),[xt,it]=I.split("-"),at=ve.useMemo(()=>L.reduce(($e,Rt,pt)=>pt>=ne?$e:$e+Rt.height,0),[L,ne]),jt=r9(),Je=x.invert||v,ht=Ct==="loading";he.current=ve.useMemo(()=>ne*W+at,[ne,at]),ve.useEffect(()=>{Lt.current=V},[V]),ve.useEffect(()=>{_e(!0)},[]),ve.useEffect(()=>{let $e=ft.current;if($e){let Rt=$e.getBoundingClientRect().height;return vt(Rt),E(pt=>[{toastId:x.id,height:Rt,position:x.position},...pt]),()=>E(pt=>pt.filter(ee=>ee.toastId!==x.id))}},[E,x.id]),ve.useLayoutEffect(()=>{if(!ce)return;let $e=ft.current,Rt=$e.style.height;$e.style.height="auto";let pt=$e.getBoundingClientRect().height;$e.style.height=Rt,vt(pt),E(ee=>ee.find(D=>D.toastId===x.id)?ee.map(D=>D.toastId===x.id?{...D,height:pt}:D):[{toastId:x.id,height:pt,position:x.position},...ee])},[ce,x.title,x.description,E,x.id]);let yn=ve.useCallback(()=>{Ve(!0),en(he.current),E($e=>$e.filter(Rt=>Rt.toastId!==x.id)),setTimeout(()=>{re(x)},y9)},[x,re,E,he]);ve.useEffect(()=>{if(x.promise&&Ct==="loading"||x.duration===1/0||x.type==="loading")return;let $e;return J||_||b&&jt?(()=>{if(ye.current<le.current){let Rt=new Date().getTime()-le.current;Lt.current=Lt.current-Rt}ye.current=new Date().getTime()})():Lt.current!==1/0&&(le.current=new Date().getTime(),$e=setTimeout(()=>{var Rt;(Rt=x.onAutoClose)==null||Rt.call(x,x),yn()},Lt.current)),()=>clearTimeout($e)},[J,_,x,Ct,b,jt,yn]),ve.useEffect(()=>{x.delete&&yn()},[yn,x.delete]);function Xt(){var $e,Rt,pt;return se!=null&&se.loading?ve.createElement("div",{className:_s(X?.loader,($e=x?.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Ct==="loading"},se.loading):Y?ve.createElement("div",{className:_s(X?.loader,(Rt=x?.classNames)==null?void 0:Rt.loader,"sonner-loader"),"data-visible":Ct==="loading"},Y):ve.createElement(XU,{className:_s(X?.loader,(pt=x?.classNames)==null?void 0:pt.loader),visible:Ct==="loading"})}return ve.createElement("li",{tabIndex:0,ref:ft,className:_s(k,In,X?.toast,(e=x?.classNames)==null?void 0:e.toast,X?.default,X?.[Ct],(n=x?.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:q,"data-styled":!(x.jsx||x.unstyled||T),"data-mounted":ce,"data-promise":!!x.promise,"data-swiped":Wt,"data-removed":Me,"data-visible":wn,"data-y-position":xt,"data-x-position":it,"data-index":M,"data-front":Qt,"data-swiping":We,"data-dismissible":Vt,"data-type":Ct,"data-invert":Je,"data-swipe-out":Yt,"data-swipe-direction":ie,"data-expanded":!!(J||K&&ce),style:{"--index":M,"--toasts-before":M,"--z-index":Z.length-M,"--offset":`${Me?Pt:he.current}px`,"--initial-height":K?"auto":`${fn}px`,...P,...x.style},onDragEnd:()=>{tt(!1),Q(null),Te.current=null},onPointerDown:$e=>{ht||!Vt||(rn.current=new Date,en(he.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(tt(!0),Te.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,Rt,pt,ee;if(Yt||!Vt)return;Te.current=null;let D=Number((($e=ft.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),F=Number(((Rt=ft.current)==null?void 0:Rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ae=new Date().getTime()-((pt=rn.current)==null?void 0:pt.getTime()),pe=R==="x"?D:F,we=Math.abs(pe)/ae;if(Math.abs(pe)>=g9||we>.11){en(he.current),(ee=x.onDismiss)==null||ee.call(x,x),ue(R==="x"?D>0?"right":"left":F>0?"down":"up"),yn(),Dt(!0),xn(!1);return}tt(!1),Q(null)},onPointerMove:$e=>{var Rt,pt,ee,D;if(!Te.current||!Vt||((Rt=window.getSelection())==null?void 0:Rt.toString().length)>0)return;let F=$e.clientY-Te.current.y,ae=$e.clientX-Te.current.x,pe=(pt=t.swipeDirections)!=null?pt:w9(I);!R&&(Math.abs(ae)>1||Math.abs(F)>1)&&Q(Math.abs(ae)>Math.abs(F)?"x":"y");let we={x:0,y:0};R==="y"?(pe.includes("top")||pe.includes("bottom"))&&(pe.includes("top")&&F<0||pe.includes("bottom")&&F>0)&&(we.y=F):R==="x"&&(pe.includes("left")||pe.includes("right"))&&(pe.includes("left")&&ae<0||pe.includes("right")&&ae>0)&&(we.x=ae),(Math.abs(we.x)>0||Math.abs(we.y)>0)&&xn(!0),(ee=ft.current)==null||ee.style.setProperty("--swipe-amount-x",`${we.x}px`),(D=ft.current)==null||D.style.setProperty("--swipe-amount-y",`${we.y}px`)}},j&&!x.jsx?ve.createElement("button",{"aria-label":$,"data-disabled":ht,"data-close-button":!0,onClick:ht||!Vt?()=>{}:()=>{var $e;yn(),($e=x.onDismiss)==null||$e.call(x,x)},className:_s(X?.closeButton,(i=x?.classNames)==null?void 0:i.closeButton)},(s=se?.close)!=null?s:n9):null,x.jsx||C.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:ve.createElement(ve.Fragment,null,Ct||x.icon||x.promise?ve.createElement("div",{"data-icon":"",className:_s(X?.icon,(o=x?.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Xt():null,x.type!=="loading"?x.icon||se?.[Ct]||YU(Ct):null):null,ve.createElement("div",{"data-content":"",className:_s(X?.content,(l=x?.classNames)==null?void 0:l.content)},ve.createElement("div",{"data-title":"",className:_s(X?.title,(u=x?.classNames)==null?void 0:u.title)},typeof x.title=="function"?x.title():x.title),x.description?ve.createElement("div",{"data-description":"",className:_s(S,qt,X?.description,(d=x?.classNames)==null?void 0:d.description)},typeof x.description=="function"?x.description():x.description):null),C.isValidElement(x.cancel)?x.cancel:x.cancel&&Jm(x.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||z,onClick:$e=>{var Rt,pt;Jm(x.cancel)&&Vt&&((pt=(Rt=x.cancel).onClick)==null||pt.call(Rt,$e),yn())},className:_s(X?.cancelButton,(f=x?.classNames)==null?void 0:f.cancelButton)},x.cancel.label):null,C.isValidElement(x.action)?x.action:x.action&&Jm(x.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||H,onClick:$e=>{var Rt,pt;Jm(x.action)&&((pt=(Rt=x.action).onClick)==null||pt.call(Rt,$e),!$e.defaultPrevented&&yn())},className:_s(X?.actionButton,(p=x?.classNames)==null?void 0:p.actionButton)},x.action.label):null))};function MC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function x9(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?h9:f9;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}var b9=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:v,style:x,visibleToasts:T=d9,toastOptions:_,dir:E=MC(),gap:N=m9,loadingIcon:L,icons:M,containerAriaLabel:Z="Notifications",pauseWhenPageIsHidden:J}=t,[re,q]=ve.useState([]),U=ve.useMemo(()=>Array.from(new Set([r].concat(re.filter(b=>b.position).map(b=>b.position)))),[re,r]),[P,z]=ve.useState([]),[H,k]=ve.useState(!1),[S,g]=ve.useState(!1),[I,W]=ve.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=ve.useRef(null),K=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ve.useRef(null),se=ve.useRef(!1),$=ve.useCallback(b=>{q(R=>{var Q;return(Q=R.find(ie=>ie.id===b.id))!=null&&Q.delete||Ai.dismiss(b.id),R.filter(({id:ie})=>ie!==b.id)})},[]);return ve.useEffect(()=>Ai.subscribe(b=>{if(b.dismiss){q(R=>R.map(Q=>Q.id===b.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{rP.flushSync(()=>{q(R=>{let Q=R.findIndex(ie=>ie.id===b.id);return Q!==-1?[...R.slice(0,Q),{...R[Q],...b},...R.slice(Q+1)]:[b,...R]})})})}),[]),ve.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let b=window.matchMedia("(prefers-color-scheme: dark)");try{b.addEventListener("change",({matches:R})=>{W(R?"dark":"light")})}catch{b.addListener(({matches:Q})=>{try{W(Q?"dark":"light")}catch(ie){console.error(ie)}})}},[f]),ve.useEffect(()=>{re.length<=1&&k(!1)},[re]),ve.useEffect(()=>{let b=R=>{var Q,ie;i.every(ue=>R[ue]||R.code===ue)&&(k(!0),(Q=Y.current)==null||Q.focus()),R.code==="Escape"&&(document.activeElement===Y.current||(ie=Y.current)!=null&&ie.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),ve.useEffect(()=>{if(Y.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,se.current=!1)}},[Y.current]),ve.createElement("section",{ref:e,"aria-label":`${Z} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((b,R)=>{var Q;let[ie,ue]=b.split("-");return re.length?ve.createElement("ol",{key:b,dir:E==="auto"?MC():E,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":ie,"data-lifted":H&&re.length>1&&!s,"data-x-position":ue,style:{"--front-toast-height":`${((Q=P[0])==null?void 0:Q.height)||0}px`,"--width":`${p9}px`,"--gap":`${N}px`,...x,...x9(u,d)},onBlur:ce=>{se.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(se.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||se.current||(se.current=!0,X.current=ce.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{S||k(!1)},onDragEnd:()=>k(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||g(!0)},onPointerUp:()=>g(!1)},re.filter(ce=>!ce.position&&R===0||ce.position===b).map((ce,_e)=>{var Me,Ve;return ve.createElement(v9,{key:ce.id,icons:M,index:_e,toast:ce,defaultRichColors:p,duration:(Me=_?.duration)!=null?Me:v,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Ve=_?.closeButton)!=null?Ve:o,interacting:S,position:b,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,removeToast:$,toasts:re.filter(We=>We.position==ce.position),heights:P.filter(We=>We.position==ce.position),setHeights:z,expandByDefault:s,gap:N,loadingIcon:L,expanded:H,pauseWhenPageIsHidden:J,swipeDirections:t.swipeDirections})})):null}))});const E9=({...t})=>{const{theme:e="system"}=GU();return y.jsx(b9,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var _9=d_[" useId ".trim().toString()]||(()=>{}),S9=0;function go(t){const[e,n]=C.useState(_9());return wr(()=>{n(r=>r??String(S9++))},[t]),e?`radix-${e}`:""}const T9=["top","right","bottom","left"],Il=Math.min,qi=Math.max,yy=Math.round,eg=Math.floor,yo=t=>({x:t,y:t}),A9={left:"right",right:"left",bottom:"top",top:"bottom"},I9={start:"end",end:"start"};function pb(t,e,n){return qi(t,Il(e,n))}function pa(t,e){return typeof t=="function"?t(e):t}function ma(t){return t.split("-")[0]}function Zd(t){return t.split("-")[1]}function v_(t){return t==="x"?"y":"x"}function x_(t){return t==="y"?"height":"width"}const C9=new Set(["top","bottom"]);function mo(t){return C9.has(ma(t))?"y":"x"}function b_(t){return v_(mo(t))}function R9(t,e,n){n===void 0&&(n=!1);const r=Zd(t),i=b_(t),s=x_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=wy(o)),[o,wy(o)]}function M9(t){const e=wy(t);return[mb(t),e,mb(e)]}function mb(t){return t.replace(/start|end/g,e=>I9[e])}const NC=["left","right"],kC=["right","left"],N9=["top","bottom"],k9=["bottom","top"];function P9(t,e,n){switch(t){case"top":case"bottom":return n?e?kC:NC:e?NC:kC;case"left":case"right":return e?N9:k9;default:return[]}}function L9(t,e,n,r){const i=Zd(t);let s=P9(ma(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(mb)))),s}function wy(t){return t.replace(/left|right|bottom|top/g,e=>A9[e])}function D9(t){return{top:0,right:0,bottom:0,left:0,...t}}function qP(t){return typeof t!="number"?D9(t):{top:t,right:t,bottom:t,left:t}}function vy(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function PC(t,e,n){let{reference:r,floating:i}=t;const s=mo(e),o=b_(e),l=x_(o),u=ma(e),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-i.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Zd(e)){case"start":x[o]-=v*(n&&d?-1:1);break;case"end":x[o]+=v*(n&&d?-1:1);break}return x}const O9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=PC(d,r,u),v=r,x={},T=0;for(let _=0;_<l.length;_++){const{name:E,fn:N}=l[_],{x:L,y:M,data:Z,reset:J}=await N({x:f,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=L??f,p=M??p,x={...x,[E]:{...x[E],...Z}},J&&T<=50&&(T++,typeof J=="object"&&(J.placement&&(v=J.placement),J.rects&&(d=J.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):J.rects),{x:f,y:p}=PC(d,v,u)),_=-1)}return{x:f,y:p,placement:v,strategy:i,middlewareData:x}};async function jh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:v=!1,padding:x=0}=pa(e,t),T=qP(x),E=l[v?p==="floating"?"reference":"floating":p],N=vy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),L=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),Z=await(s.isElement==null?void 0:s.isElement(M))?await(s.getScale==null?void 0:s.getScale(M))||{x:1,y:1}:{x:1,y:1},J=vy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:L,offsetParent:M,strategy:u}):L);return{top:(N.top-J.top+T.top)/Z.y,bottom:(J.bottom-N.bottom+T.bottom)/Z.y,left:(N.left-J.left+T.left)/Z.x,right:(J.right-N.right+T.right)/Z.x}}const j9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=pa(t,e)||{};if(d==null)return{};const p=qP(f),v={x:n,y:r},x=b_(i),T=x_(x),_=await o.getDimensions(d),E=x==="y",N=E?"top":"left",L=E?"bottom":"right",M=E?"clientHeight":"clientWidth",Z=s.reference[T]+s.reference[x]-v[x]-s.floating[T],J=v[x]-s.reference[x],re=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let q=re?re[M]:0;(!q||!await(o.isElement==null?void 0:o.isElement(re)))&&(q=l.floating[M]||s.floating[T]);const U=Z/2-J/2,P=q/2-_[T]/2-1,z=Il(p[N],P),H=Il(p[L],P),k=z,S=q-_[T]-H,g=q/2-_[T]/2+U,I=pb(k,g,S),W=!u.arrow&&Zd(i)!=null&&g!==I&&s.reference[T]/2-(g<k?z:H)-_[T]/2<0,Y=W?g<k?g-k:g-S:0;return{[x]:v[x]+Y,data:{[x]:I,centerOffset:g-I-Y,...W&&{alignmentOffset:Y}},reset:W}}}),B9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...E}=pa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=ma(i),L=mo(l),M=ma(l)===l,Z=await(u.isRTL==null?void 0:u.isRTL(d.floating)),J=v||(M||!_?[wy(l)]:M9(l)),re=T!=="none";!v&&re&&J.push(...L9(l,_,T,Z));const q=[l,...J],U=await jh(e,E),P=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&P.push(U[N]),p){const g=R9(i,o,Z);P.push(U[g[0]],U[g[1]])}if(z=[...z,{placement:i,overflows:P}],!P.every(g=>g<=0)){var H,k;const g=(((H=s.flip)==null?void 0:H.index)||0)+1,I=q[g];if(I&&(!(p==="alignment"?L!==mo(I):!1)||z.every(K=>K.overflows[0]>0&&mo(K.placement)===L)))return{data:{index:g,overflows:z},reset:{placement:I}};let W=(k=z.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:k.placement;if(!W)switch(x){case"bestFit":{var S;const Y=(S=z.filter(K=>{if(re){const X=mo(K.placement);return X===L||X==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(X=>X>0).reduce((X,se)=>X+se,0)]).sort((K,X)=>K[1]-X[1])[0])==null?void 0:S[0];Y&&(W=Y);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function LC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DC(t){return T9.some(e=>t[e]>=0)}const F9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=pa(t,e);switch(r){case"referenceHidden":{const s=await jh(e,{...i,elementContext:"reference"}),o=LC(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DC(o)}}}case"escaped":{const s=await jh(e,{...i,altBoundary:!0}),o=LC(s,n.floating);return{data:{escapedOffsets:o,escaped:DC(o)}}}default:return{}}}}},HP=new Set(["left","top"]);async function V9(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ma(n),l=Zd(n),u=mo(n)==="y",d=HP.has(o)?-1:1,f=s&&u?-1:1,p=pa(e,t);let{mainAxis:v,crossAxis:x,alignmentAxis:T}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof T=="number"&&(x=l==="end"?T*-1:T),u?{x:x*f,y:v*d}:{x:v*d,y:x*f}}const U9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await V9(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},z9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:N,y:L}=E;return{x:N,y:L}}},...u}=pa(t,e),d={x:n,y:r},f=await jh(e,u),p=mo(ma(i)),v=v_(p);let x=d[v],T=d[p];if(s){const E=v==="y"?"top":"left",N=v==="y"?"bottom":"right",L=x+f[E],M=x-f[N];x=pb(L,x,M)}if(o){const E=p==="y"?"top":"left",N=p==="y"?"bottom":"right",L=T+f[E],M=T-f[N];T=pb(L,T,M)}const _=l.fn({...e,[v]:x,[p]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[v]:s,[p]:o}}}}}},W9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=pa(t,e),f={x:n,y:r},p=mo(i),v=v_(p);let x=f[v],T=f[p];const _=pa(l,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const M=v==="y"?"height":"width",Z=s.reference[v]-s.floating[M]+E.mainAxis,J=s.reference[v]+s.reference[M]-E.mainAxis;x<Z?x=Z:x>J&&(x=J)}if(d){var N,L;const M=v==="y"?"width":"height",Z=HP.has(ma(i)),J=s.reference[p]-s.floating[M]+(Z&&((N=o.offset)==null?void 0:N[p])||0)+(Z?0:E.crossAxis),re=s.reference[p]+s.reference[M]+(Z?0:((L=o.offset)==null?void 0:L[p])||0)-(Z?E.crossAxis:0);T<J?T=J:T>re&&(T=re)}return{[v]:x,[p]:T}}}},$9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=pa(t,e),f=await jh(e,d),p=ma(i),v=Zd(i),x=mo(i)==="y",{width:T,height:_}=s.floating;let E,N;p==="top"||p==="bottom"?(E=p,N=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,E=v==="end"?"top":"bottom");const L=_-f.top-f.bottom,M=T-f.left-f.right,Z=Il(_-f[E],L),J=Il(T-f[N],M),re=!e.middlewareData.shift;let q=Z,U=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(q=L),re&&!v){const z=qi(f.left,0),H=qi(f.right,0),k=qi(f.top,0),S=qi(f.bottom,0);x?U=T-2*(z!==0||H!==0?z+H:qi(f.left,f.right)):q=_-2*(k!==0||S!==0?k+S:qi(f.top,f.bottom))}await u({...e,availableWidth:U,availableHeight:q});const P=await o.getDimensions(l.floating);return T!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function E0(){return typeof window<"u"}function Jd(t){return KP(t)?(t.nodeName||"").toLowerCase():"#document"}function Hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mo(t){var e;return(e=(KP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KP(t){return E0()?t instanceof Node||t instanceof Hi(t).Node:!1}function Ds(t){return E0()?t instanceof Element||t instanceof Hi(t).Element:!1}function To(t){return E0()?t instanceof HTMLElement||t instanceof Hi(t).HTMLElement:!1}function OC(t){return!E0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hi(t).ShadowRoot}const q9=new Set(["inline","contents"]);function wp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Os(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!q9.has(i)}const H9=new Set(["table","td","th"]);function K9(t){return H9.has(Jd(t))}const G9=[":popover-open",":modal"];function _0(t){return G9.some(e=>{try{return t.matches(e)}catch{return!1}})}const Y9=["transform","translate","scale","rotate","perspective"],Q9=["transform","translate","scale","rotate","perspective","filter"],X9=["paint","layout","strict","content"];function E_(t){const e=__(),n=Ds(t)?Os(t):t;return Y9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Q9.some(r=>(n.willChange||"").includes(r))||X9.some(r=>(n.contain||"").includes(r))}function Z9(t){let e=Cl(t);for(;To(e)&&!kd(e);){if(E_(e))return e;if(_0(e))return null;e=Cl(e)}return null}function __(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const J9=new Set(["html","body","#document"]);function kd(t){return J9.has(Jd(t))}function Os(t){return Hi(t).getComputedStyle(t)}function S0(t){return Ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cl(t){if(Jd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OC(t)&&t.host||Mo(t);return OC(e)?e.host:e}function GP(t){const e=Cl(t);return kd(e)?t.ownerDocument?t.ownerDocument.body:t.body:To(e)&&wp(e)?e:GP(e)}function Bh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Hi(i);if(s){const l=gb(o);return e.concat(o,o.visualViewport||[],wp(i)?i:[],l&&n?Bh(l):[])}return e.concat(i,Bh(i,[],n))}function gb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YP(t){const e=Os(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=To(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=yy(n)!==s||yy(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function S_(t){return Ds(t)?t:t.contextElement}function xd(t){const e=S_(t);if(!To(e))return yo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=YP(e);let o=(s?yy(n.width):n.width)/r,l=(s?yy(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ez=yo(0);function QP(t){const e=Hi(t);return!__()||!e.visualViewport?ez:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hi(t)?!1:e}function Bc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=S_(t);let o=yo(1);e&&(r?Ds(r)&&(o=xd(r)):o=xd(t));const l=tz(s,n,r)?QP(s):yo(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const v=Hi(s),x=r&&Ds(r)?Hi(r):r;let T=v,_=gb(T);for(;_&&r&&x!==T;){const E=xd(_),N=_.getBoundingClientRect(),L=Os(_),M=N.left+(_.clientLeft+parseFloat(L.paddingLeft))*E.x,Z=N.top+(_.clientTop+parseFloat(L.paddingTop))*E.y;u*=E.x,d*=E.y,f*=E.x,p*=E.y,u+=M,d+=Z,T=Hi(_),_=gb(T)}}return vy({width:f,height:p,x:u,y:d})}function T_(t,e){const n=S0(t).scrollLeft;return e?e.left+n:Bc(Mo(t)).left+n}function XP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:T_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function nz(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Mo(r),l=e?_0(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=yo(1);const f=yo(0),p=To(r);if((p||!p&&!s)&&((Jd(r)!=="body"||wp(o))&&(u=S0(r)),To(r))){const x=Bc(r);d=xd(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const v=o&&!p&&!s?XP(o,u,!0):yo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+v.x,y:n.y*d.y-u.scrollTop*d.y+f.y+v.y}}function rz(t){return Array.from(t.getClientRects())}function iz(t){const e=Mo(t),n=S0(t),r=t.ownerDocument.body,i=qi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=qi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+T_(t);const l=-n.scrollTop;return Os(r).direction==="rtl"&&(o+=qi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function sz(t,e){const n=Hi(t),r=Mo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=__();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}const oz=new Set(["absolute","fixed"]);function az(t,e){const n=Bc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=To(t)?xd(t):yo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function jC(t,e,n){let r;if(e==="viewport")r=sz(t,n);else if(e==="document")r=iz(Mo(t));else if(Ds(e))r=az(e,n);else{const i=QP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vy(r)}function ZP(t,e){const n=Cl(t);return n===e||!Ds(n)||kd(n)?!1:Os(n).position==="fixed"||ZP(n,e)}function lz(t,e){const n=e.get(t);if(n)return n;let r=Bh(t,[],!1).filter(l=>Ds(l)&&Jd(l)!=="body"),i=null;const s=Os(t).position==="fixed";let o=s?Cl(t):t;for(;Ds(o)&&!kd(o);){const l=Os(o),u=E_(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&oz.has(i.position)||wp(o)&&!u&&ZP(t,o))?r=r.filter(f=>f!==o):i=l,o=Cl(o)}return e.set(t,r),r}function cz(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?_0(e)?[]:lz(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const p=jC(e,f,i);return d.top=qi(p.top,d.top),d.right=Il(p.right,d.right),d.bottom=Il(p.bottom,d.bottom),d.left=qi(p.left,d.left),d},jC(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function uz(t){const{width:e,height:n}=YP(t);return{width:e,height:n}}function dz(t,e,n){const r=To(e),i=Mo(e),s=n==="fixed",o=Bc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=yo(0);function d(){u.x=T_(i)}if(r||!r&&!s)if((Jd(e)!=="body"||wp(i))&&(l=S0(e)),r){const x=Bc(e,!0,s,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?XP(i,l):yo(0),p=o.left+l.scrollLeft-u.x-f.x,v=o.top+l.scrollTop-u.y-f.y;return{x:p,y:v,width:o.width,height:o.height}}function c1(t){return Os(t).position==="static"}function BC(t,e){if(!To(t)||Os(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mo(t)===n&&(n=n.ownerDocument.body),n}function JP(t,e){const n=Hi(t);if(_0(t))return n;if(!To(t)){let i=Cl(t);for(;i&&!kd(i);){if(Ds(i)&&!c1(i))return i;i=Cl(i)}return n}let r=BC(t,e);for(;r&&K9(r)&&c1(r);)r=BC(r,e);return r&&kd(r)&&c1(r)&&!E_(r)?n:r||Z9(t)||n}const fz=async function(t){const e=this.getOffsetParent||JP,n=this.getDimensions,r=await n(t.floating);return{reference:dz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hz(t){return Os(t).direction==="rtl"}const pz={convertOffsetParentRelativeRectToViewportRelativeRect:nz,getDocumentElement:Mo,getClippingRect:cz,getOffsetParent:JP,getElementRects:fz,getClientRects:rz,getDimensions:uz,getScale:xd,isElement:Ds,isRTL:hz};function e4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mz(t,e){let n=null,r;const i=Mo(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:v,height:x}=d;if(l||e(),!v||!x)return;const T=eg(p),_=eg(i.clientWidth-(f+v)),E=eg(i.clientHeight-(p+x)),N=eg(f),M={rootMargin:-T+"px "+-_+"px "+-E+"px "+-N+"px",threshold:qi(0,Il(1,u))||1};let Z=!0;function J(re){const q=re[0].intersectionRatio;if(q!==u){if(!Z)return o();q?o(!1,q):r=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!e4(d,t.getBoundingClientRect())&&o(),Z=!1}try{n=new IntersectionObserver(J,{...M,root:i.ownerDocument})}catch{n=new IntersectionObserver(J,M)}n.observe(t)}return o(!0),s}function gz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=S_(t),f=i||s?[...d?Bh(d):[],...Bh(e)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const p=d&&l?mz(d,n):null;let v=-1,x=null;o&&(x=new ResizeObserver(N=>{let[L]=N;L&&L.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=x)==null||M.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let T,_=u?Bc(t):null;u&&E();function E(){const N=Bc(t);_&&!e4(_,N)&&n(),_=N,T=requestAnimationFrame(E)}return n(),()=>{var N;f.forEach(L=>{i&&L.removeEventListener("scroll",n),s&&L.removeEventListener("resize",n)}),p?.(),(N=x)==null||N.disconnect(),x=null,u&&cancelAnimationFrame(T)}}const yz=U9,wz=z9,vz=B9,xz=$9,bz=F9,FC=j9,Ez=W9,_z=(t,e,n)=>{const r=new Map,i={platform:pz,...n},s={...i.platform,_c:r};return O9(t,e,{...i,platform:s})};var Sz=typeof document<"u",Tz=function(){},Cg=Sz?C.useLayoutEffect:Tz;function xy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!xy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function t4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VC(t,e){const n=t4(t);return Math.round(e*n)/n}function u1(t){const e=C.useRef(t);return Cg(()=>{e.current=t}),e}function Az(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,p]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,x]=C.useState(r);xy(v,r)||x(r);const[T,_]=C.useState(null),[E,N]=C.useState(null),L=C.useCallback(K=>{K!==re.current&&(re.current=K,_(K))},[]),M=C.useCallback(K=>{K!==q.current&&(q.current=K,N(K))},[]),Z=s||T,J=o||E,re=C.useRef(null),q=C.useRef(null),U=C.useRef(f),P=u!=null,z=u1(u),H=u1(i),k=u1(d),S=C.useCallback(()=>{if(!re.current||!q.current)return;const K={placement:e,strategy:n,middleware:v};H.current&&(K.platform=H.current),_z(re.current,q.current,K).then(X=>{const se={...X,isPositioned:k.current!==!1};g.current&&!xy(U.current,se)&&(U.current=se,Zc.flushSync(()=>{p(se)}))})},[v,e,n,H,k]);Cg(()=>{d===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,p(K=>({...K,isPositioned:!1})))},[d]);const g=C.useRef(!1);Cg(()=>(g.current=!0,()=>{g.current=!1}),[]),Cg(()=>{if(Z&&(re.current=Z),J&&(q.current=J),Z&&J){if(z.current)return z.current(Z,J,S);S()}},[Z,J,S,z,P]);const I=C.useMemo(()=>({reference:re,floating:q,setReference:L,setFloating:M}),[L,M]),W=C.useMemo(()=>({reference:Z,floating:J}),[Z,J]),Y=C.useMemo(()=>{const K={position:n,left:0,top:0};if(!W.floating)return K;const X=VC(W.floating,f.x),se=VC(W.floating,f.y);return l?{...K,transform:"translate("+X+"px, "+se+"px)",...t4(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:se}},[n,l,W.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:S,refs:I,elements:W,floatingStyles:Y}),[f,S,I,W,Y])}const Iz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?FC({element:r.current,padding:i}).fn(n):{}:r?FC({element:r,padding:i}).fn(n):{}}}},Cz=(t,e)=>({...yz(t),options:[t,e]}),Rz=(t,e)=>({...wz(t),options:[t,e]}),Mz=(t,e)=>({...Ez(t),options:[t,e]}),Nz=(t,e)=>({...vz(t),options:[t,e]}),kz=(t,e)=>({...xz(t),options:[t,e]}),Pz=(t,e)=>({...bz(t),options:[t,e]}),Lz=(t,e)=>({...Iz(t),options:[t,e]});var Dz="Arrow",n4=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return y.jsx(St.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});n4.displayName=Dz;var Oz=n4;function jz(t){const[e,n]=C.useState(void 0);return wr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var A_="Popper",[r4,ef]=Fs(A_),[Bz,i4]=r4(A_),s4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return y.jsx(Bz,{scope:e,anchor:r,onAnchorChange:i,children:n})};s4.displayName=A_;var o4="PopperAnchor",a4=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=i4(o4,n),o=C.useRef(null),l=cn(e,o);return C.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:y.jsx(St.div,{...i,ref:l})});a4.displayName=o4;var I_="PopperContent",[Fz,Vz]=r4(I_),l4=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:T,..._}=t,E=i4(I_,n),[N,L]=C.useState(null),M=cn(e,ce=>L(ce)),[Z,J]=C.useState(null),re=jz(Z),q=re?.width??0,U=re?.height??0,P=r+(s!=="center"?"-"+s:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(d)?d:[d],k=H.length>0,S={padding:z,boundary:H.filter(zz),altBoundary:k},{refs:g,floatingStyles:I,placement:W,isPositioned:Y,middlewareData:K}=Az({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>gz(...ce,{animationFrame:x==="always"}),elements:{reference:E.anchor},middleware:[Cz({mainAxis:i+U,alignmentAxis:o}),u&&Rz({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Mz():void 0,...S}),u&&Nz({...S}),kz({...S,apply:({elements:ce,rects:_e,availableWidth:Me,availableHeight:Ve})=>{const{width:We,height:tt}=_e.reference,Yt=ce.floating.style;Yt.setProperty("--radix-popper-available-width",`${Me}px`),Yt.setProperty("--radix-popper-available-height",`${Ve}px`),Yt.setProperty("--radix-popper-anchor-width",`${We}px`),Yt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),Z&&Lz({element:Z,padding:l}),Wz({arrowWidth:q,arrowHeight:U}),v&&Pz({strategy:"referenceHidden",...S})]}),[X,se]=d4(W),$=mi(T);wr(()=>{Y&&$?.()},[Y,$]);const b=K.arrow?.x,R=K.arrow?.y,Q=K.arrow?.centerOffset!==0,[ie,ue]=C.useState();return wr(()=>{N&&ue(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:g.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:Y?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(Fz,{scope:n,placedSide:X,onArrowChange:J,arrowX:b,arrowY:R,shouldHideArrow:Q,children:y.jsx(St.div,{"data-side":X,"data-align":se,..._,ref:M,style:{..._.style,animation:Y?void 0:"none"}})})})});l4.displayName=I_;var c4="PopperArrow",Uz={top:"bottom",right:"left",bottom:"top",left:"right"},u4=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Vz(c4,r),o=Uz[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(Oz,{...i,ref:n,style:{...i.style,display:"block"}})})});u4.displayName=c4;function zz(t){return t!==null}var Wz=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=d4(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+u/2;let T="",_="";return d==="bottom"?(T=o?p:`${v}px`,_=`${-u}px`):d==="top"?(T=o?p:`${v}px`,_=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,_=o?p:`${x}px`):d==="left"&&(T=`${r.floating.width+u}px`,_=o?p:`${x}px`),{data:{x:T,y:_}}}});function d4(t){const[e,n="center"]=t.split("-");return[e,n]}var f4=s4,C_=a4,R_=l4,M_=u4,[T0]=Fs("Tooltip",[ef]),N_=ef(),h4="TooltipProvider",$z=700,UC="tooltip.open",[qz,p4]=T0(h4),m4=t=>{const{__scopeTooltip:e,delayDuration:n=$z,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),l=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),y.jsx(qz,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};m4.displayName=h4;var g4="Tooltip",[che,A0]=T0(g4),yb="TooltipTrigger",Hz=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=A0(yb,n),s=p4(yb,n),o=N_(n),l=C.useRef(null),u=cn(e,l,i.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),p=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),y.jsx(C_,{asChild:!0,...o,children:y.jsx(St.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:qe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:qe(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:qe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:qe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:qe(t.onBlur,i.onClose),onClick:qe(t.onClick,i.onClose)})})});Hz.displayName=yb;var Kz="TooltipPortal",[uhe,Gz]=T0(Kz,{forceMount:void 0}),Pd="TooltipContent",y4=C.forwardRef((t,e)=>{const n=Gz(Pd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=A0(Pd,t.__scopeTooltip);return y.jsx(Vs,{present:r||o.open,children:o.disableHoverableContent?y.jsx(w4,{side:i,...s,ref:e}):y.jsx(Yz,{side:i,...s,ref:e})})}),Yz=C.forwardRef((t,e)=>{const n=A0(Pd,t.__scopeTooltip),r=p4(Pd,t.__scopeTooltip),i=C.useRef(null),s=cn(e,i),[o,l]=C.useState(null),{trigger:u,onClose:d}=n,f=i.current,{onPointerInTransitChange:p}=r,v=C.useCallback(()=>{l(null),p(!1)},[p]),x=C.useCallback((T,_)=>{const E=T.currentTarget,N={x:T.clientX,y:T.clientY},L=e7(N,E.getBoundingClientRect()),M=t7(N,L),Z=n7(_.getBoundingClientRect()),J=i7([...M,...Z]);l(J),p(!0)},[p]);return C.useEffect(()=>()=>v(),[v]),C.useEffect(()=>{if(u&&f){const T=E=>x(E,f),_=E=>x(E,u);return u.addEventListener("pointerleave",T),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",T),f.removeEventListener("pointerleave",_)}}},[u,f,x,v]),C.useEffect(()=>{if(o){const T=_=>{const E=_.target,N={x:_.clientX,y:_.clientY},L=u?.contains(E)||f?.contains(E),M=!r7(N,o);L?v():M&&(v(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,f,o,d,v]),y.jsx(w4,{...t,ref:s})}),[Qz,Xz]=T0(g4,{isInside:!1}),Zz=nV("TooltipContent"),w4=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,u=A0(Pd,n),d=N_(n),{onClose:f}=u;return C.useEffect(()=>(document.addEventListener(UC,f),()=>document.removeEventListener(UC,f)),[f]),C.useEffect(()=>{if(u.trigger){const p=v=>{v.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),y.jsx(Yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:y.jsxs(R_,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Zz,{children:r}),y.jsx(Qz,{scope:n,isInside:!0,children:y.jsx(SV,{id:u.contentId,role:"tooltip",children:i||r})})]})})});y4.displayName=Pd;var v4="TooltipArrow",Jz=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=N_(n);return Xz(v4,n).isInside?null:y.jsx(M_,{...i,...r,ref:e})});Jz.displayName=v4;function e7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n7(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function r7(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],d=l.x,f=l.y,p=u.x,v=u.y;f>r!=v>r&&n<(p-d)*(r-f)/(v-f)+d&&(i=!i)}return i}function i7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),s7(e)}function s7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o7=m4,x4=y4;const a7=o7,l7=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(x4,{ref:r,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));l7.displayName=x4.displayName;var I0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C0=typeof window>"u"||"Deno"in globalThis;function As(){}function c7(t,e){return typeof t=="function"?t(e):t}function u7(t){return typeof t=="number"&&t>=0&&t!==1/0}function d7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wb(t,e){return typeof t=="function"?t(e):t}function f7(t,e){return typeof t=="function"?t(e):t}function zC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==k_(o,e.options))return!1}else if(!Vh(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function WC(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Fh(e.options.mutationKey)!==Fh(s))return!1}else if(!Vh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function k_(t,e){return(e?.queryKeyHashFn||Fh)(t)}function Fh(t){return JSON.stringify(t,(e,n)=>vb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vh(t[n],e[n])):!1}function b4(t,e){if(t===e)return t;const n=$C(t)&&$C(e);if(n||vb(t)&&vb(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{},u=new Set(r);let d=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&u.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,d++):(l[p]=b4(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&d++)}return i===o&&d===i?t:l}return e}function $C(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vb(t){if(!qC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qC(t){return Object.prototype.toString.call(t)==="[object Object]"}function h7(t){return new Promise(e=>{setTimeout(e,t)})}function p7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?b4(t,e):e}function m7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function g7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var P_=Symbol();function E4(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===P_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var y7=class extends I0{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!C0&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_4=new y7,w7=class extends I0{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!C0&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},by=new w7;function v7(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function x7(t){return Math.min(1e3*2**t,3e4)}function S4(t){return(t??"online")==="online"?by.isOnline():!0}var T4=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function d1(t){return t instanceof T4}function A4(t){let e=!1,n=0,r=!1,i;const s=v7(),o=_=>{r||(v(new T4(_)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>_4.isFocused()&&(t.networkMode==="always"||by.isOnline())&&t.canRun(),f=()=>S4(t.networkMode)&&t.canRun(),p=_=>{r||(r=!0,t.onSuccess?.(_),i?.(),s.resolve(_))},v=_=>{r||(r=!0,t.onError?.(_),i?.(),s.reject(_))},x=()=>new Promise(_=>{i=E=>{(r||d())&&_(E)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),T=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(N){_=Promise.reject(N)}Promise.resolve(_).then(p).catch(N=>{if(r)return;const L=t.retry??(C0?0:3),M=t.retryDelay??x7,Z=typeof M=="function"?M(n,N):M,J=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,N);if(e||!J){v(N);return}n++,t.onFail?.(n,N),h7(Z).then(()=>d()?void 0:x()).then(()=>{e?v(N):T()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?T():x().then(T),s)}}var b7=t=>setTimeout(t,0);function E7(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=b7;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var di=E7(),I4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),u7(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(C0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},_7=class extends I4{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=T7(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=p7(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>f7(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>wb(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!d7(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},s=()=>{const d=E4(this.options,n),p=(()=>{const v={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#a=!1,this.options.persister?this.options.persister(d,p,this):d(p)},l=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:s};return i(d),d})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{d1(d)&&d.silent||this.#s({type:"error",error:d}),d1(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=A4({initialPromise:n?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){u(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...S7(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return d1(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),di.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function S7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var A7=class extends I0{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??k_(r,e);let s=this.get(i);return s||(s=new _7({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){di.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>zC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>zC(t,n)):e}notify(t){di.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){di.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){di.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},I7=class extends I4{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||C7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})};this.#n=A4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#i({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)n();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#i({type:"pending",context:o,variables:e,isPaused:i})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#i({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#i({type:"error",error:s})}}finally{this.#t.runNext(this)}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),di.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function C7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var R7=class extends I0{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new I7({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=tg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=tg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=tg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=tg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){di.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>WC(e,n))}findAll(t={}){return this.getAll().filter(e=>WC(t,e))}notify(t){di.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return di.batch(()=>Promise.all(t.map(e=>e.continue().catch(As))))}};function tg(t){return t.options.scope?.id}function HC(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},v=E4(e.options,e.fetchOptions),x=async(T,_,E)=>{if(f)return Promise.reject();if(_==null&&T.pages.length)return Promise.resolve(T);const L=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:_,direction:E?"backward":"forward",meta:e.options.meta};return p(re),re})(),M=await v(L),{maxPages:Z}=e.options,J=E?g7:m7;return{pages:J(T.pages,M,Z),pageParams:J(T.pageParams,_,Z)}};if(i&&s.length){const T=i==="backward",_=T?M7:KC,E={pages:s,pageParams:o},N=_(r,E);l=await x(E,N,T)}else{const T=t??s.length;do{const _=u===0?o[0]??r.initialPageParam:KC(r,l);if(u>0&&_==null)break;l=await x(l,_),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function KC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function M7(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var N7=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new A7,this.#t=t.mutationCache||new R7,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=_4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=by.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(wb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=c7(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return di.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;di.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return di.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=di.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(As).catch(As)}invalidateQueries(t,e={}){return di.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=di.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(As)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(As)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(wb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(As).catch(As)}fetchInfiniteQuery(t){return t.behavior=HC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(As).catch(As)}ensureInfiniteQueryData(t){return t.behavior=HC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return by.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Fh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Vh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Fh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Vh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=k_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===P_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},k7=C.createContext(void 0),P7=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(k7.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}var yl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yl||(yl={}));const GC="popstate";function L7(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return xb("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ey(i)}return O7(e,n,null,t)}function yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D7(){return Math.random().toString(36).substr(2,8)}function YC(t,e){return{usr:t.state,key:t.key,idx:e}}function xb(t,e,n,r){return n===void 0&&(n=null),Uh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tf(e):e,{state:n,key:e&&e.key||r||D7()})}function Ey(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function O7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=yl.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(Uh({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=yl.Pop;let E=f(),N=E==null?null:E-d;d=E,u&&u({action:l,location:_.location,delta:N})}function v(E,N){l=yl.Push;let L=xb(_.location,E,N);d=f()+1;let M=YC(L,d),Z=_.createHref(L);try{o.pushState(M,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(Z)}s&&u&&u({action:l,location:_.location,delta:1})}function x(E,N){l=yl.Replace;let L=xb(_.location,E,N);d=f();let M=YC(L,d),Z=_.createHref(L);o.replaceState(M,"",Z),s&&u&&u({action:l,location:_.location,delta:0})}function T(E){let N=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof E=="string"?E:Ey(E);return L=L.replace(/ $/,"%20"),yr(N,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,N)}let _={get action(){return l},get location(){return t(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(GC,p),u=E,()=>{i.removeEventListener(GC,p),u=null}},createHref(E){return e(i,E)},createURL:T,encodeLocation(E){let N=T(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:x,go(E){return o.go(E)}};return _}var QC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QC||(QC={}));function j7(t,e,n){return n===void 0&&(n="/"),B7(t,e,n)}function B7(t,e,n,r){let i=typeof e=="string"?tf(e):e,s=L_(i.pathname||"/",n);if(s==null)return null;let o=R4(t);F7(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=X7(s);l=G7(o[u],d)}return l}function R4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(yr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=xl([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(yr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),R4(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:H7(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of M4(s.path))i(s,o,u)}),e}function M4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=M4(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function F7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V7=/^:[\w-]+$/,U7=3,z7=2,W7=1,$7=10,q7=-2,XC=t=>t==="*";function H7(t,e){let n=t.split("/"),r=n.length;return n.some(XC)&&(r+=q7),e&&(r+=z7),n.filter(i=>!XC(i)).reduce((i,s)=>i+(V7.test(s)?U7:s===""?W7:$7),r)}function K7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G7(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Y7({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),v=u.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:xl([s,p.pathname]),pathnameBase:tW(xl([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=xl([s,p.pathnameBase]))}return o}function Y7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:v,isOptional:x}=f;if(v==="*"){let _=l[p]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const T=l[p];return x&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function Q7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Z7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tf(t):t;return{pathname:n?n.startsWith("/")?n:J7(n,e):e,search:nW(r),hash:rW(i)}}function J7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function f1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N4(t,e){let n=eW(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tf(t):(i=Uh({},t),yr(!i.pathname||!i.pathname.includes("?"),f1("?","pathname","search",i)),yr(!i.pathname||!i.pathname.includes("#"),f1("#","pathname","hash",i)),yr(!i.search||!i.search.includes("#"),f1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let u=Z7(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const xl=t=>t.join("/").replace(/\/\/+/g,"/"),tW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P4=["post","put","patch","delete"];new Set(P4);const sW=["get",...P4];new Set(sW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}const D_=C.createContext(null),oW=C.createContext(null),Jc=C.createContext(null),R0=C.createContext(null),jl=C.createContext({outlet:null,matches:[],isDataRoute:!1}),L4=C.createContext(null);function aW(t,e){let{relative:n}=e===void 0?{}:e;vp()||yr(!1);let{basename:r,navigator:i}=C.useContext(Jc),{hash:s,pathname:o,search:l}=j4(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:xl([r,o])),i.createHref({pathname:u,search:l,hash:s})}function vp(){return C.useContext(R0)!=null}function xp(){return vp()||yr(!1),C.useContext(R0).location}function D4(t){C.useContext(Jc).static||C.useLayoutEffect(t)}function O_(){let{isDataRoute:t}=C.useContext(jl);return t?xW():lW()}function lW(){vp()||yr(!1);let t=C.useContext(D_),{basename:e,future:n,navigator:r}=C.useContext(Jc),{matches:i}=C.useContext(jl),{pathname:s}=xp(),o=JSON.stringify(N4(i,n.v7_relativeSplatPath)),l=C.useRef(!1);return D4(()=>{l.current=!0}),C.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=k4(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xl([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function O4(){let{matches:t}=C.useContext(jl),e=t[t.length-1];return e?e.params:{}}function j4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Jc),{matches:i}=C.useContext(jl),{pathname:s}=xp(),o=JSON.stringify(N4(i,r.v7_relativeSplatPath));return C.useMemo(()=>k4(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cW(t,e){return uW(t,e)}function uW(t,e,n,r){vp()||yr(!1);let{navigator:i}=C.useContext(Jc),{matches:s}=C.useContext(jl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=xp(),f;if(e){var p;let E=typeof e=="string"?tf(e):e;u==="/"||(p=E.pathname)!=null&&p.startsWith(u)||yr(!1),f=E}else f=d;let v=f.pathname||"/",x=v;if(u!=="/"){let E=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=j7(t,{pathname:x}),_=mW(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:xl([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:xl([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?C.createElement(R0.Provider,{value:{location:zh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:yl.Pop}},_):_}function dW(){let t=vW(),e=iW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const fW=C.createElement(dW,null);class hW extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(jl.Provider,{value:this.props.routeContext},C.createElement(L4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pW(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(D_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(jl.Provider,{value:e},r)}function mW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||yr(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:x}=n,T=p.route.loader&&v[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let x,T=!1,_=null,E=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||fW,u&&(d<0&&v===0?(bW("route-fallback"),T=!0,E=null):d===v&&(T=!0,E=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,v+1)),L=()=>{let M;return x?M=_:T?M=E:p.route.Component?M=C.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=f,C.createElement(pW,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?C.createElement(hW,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}var B4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(B4||{}),F4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(F4||{});function gW(t){let e=C.useContext(D_);return e||yr(!1),e}function yW(t){let e=C.useContext(oW);return e||yr(!1),e}function wW(t){let e=C.useContext(jl);return e||yr(!1),e}function V4(t){let e=wW(),n=e.matches[e.matches.length-1];return n.route.id||yr(!1),n.route.id}function vW(){var t;let e=C.useContext(L4),n=yW(),r=V4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xW(){let{router:t}=gW(B4.UseNavigateStable),e=V4(F4.UseNavigateStable),n=C.useRef(!1);return D4(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zh({fromRouteId:e},s)))},[t,e])}const ZC={};function bW(t,e,n){ZC[t]||(ZC[t]=!0)}function EW(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Zo(t){yr(!1)}function _W(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yl.Pop,navigator:s,static:o=!1,future:l}=t;vp()&&yr(!1);let u=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:s,static:o,future:zh({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=tf(r));let{pathname:f="/",search:p="",hash:v="",state:x=null,key:T="default"}=r,_=C.useMemo(()=>{let E=L_(f,u);return E==null?null:{location:{pathname:E,search:p,hash:v,state:x,key:T},navigationType:i}},[u,f,p,v,x,T,i]);return _==null?null:C.createElement(Jc.Provider,{value:d},C.createElement(R0.Provider,{children:n,value:_}))}function SW(t){let{children:e,location:n}=t;return cW(bb(e),n)}new Promise(()=>{});function bb(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,bb(r.props.children,s));return}r.type!==Zo&&yr(!1),!r.props.index||!r.props.children||yr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function TW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IW(t,e){return t.button===0&&(!e||e==="_self")&&!AW(t)}const CW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RW="6";try{window.__reactRouterVersion=RW}catch{}const MW="startTransition",JC=d_[MW];function NW(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=L7({window:i,v5Compat:!0}));let o=s.current,[l,u]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=C.useCallback(p=>{d&&JC?JC(()=>u(p)):u(p)},[u,d]);return C.useLayoutEffect(()=>o.listen(f),[o,f]),C.useEffect(()=>EW(r),[r]),C.createElement(_W,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const kW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M0=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,v=TW(e,CW),{basename:x}=C.useContext(Jc),T,_=!1;if(typeof d=="string"&&PW.test(d)&&(T=d,kW))try{let M=new URL(window.location.href),Z=d.startsWith("//")?new URL(M.protocol+d):new URL(d),J=L_(Z.pathname,x);Z.origin===M.origin&&J!=null?d=J+Z.search+Z.hash:_=!0}catch{}let E=aW(d,{relative:i}),N=LW(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function L(M){r&&r(M),M.defaultPrevented||N(M)}return C.createElement("a",Eb({},v,{href:T||E,onClick:_||s?r:L,ref:n,target:u}))});var e2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e2||(e2={}));var t2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t2||(t2={}));function LW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=O_(),d=xp(),f=j4(t,{relative:o});return C.useCallback(p=>{if(IW(p,n)){p.preventDefault();let v=r!==void 0?r:Ey(d)===Ey(f);u(t,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,r,i,n,t,s,o,l])}const Fc=globalThis||void 0||self;function DW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U4={exports:{}},ir=U4.exports={},lo,co;function _b(){throw new Error("setTimeout has not been defined")}function Sb(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?lo=setTimeout:lo=_b}catch{lo=_b}try{typeof clearTimeout=="function"?co=clearTimeout:co=Sb}catch{co=Sb}})();function z4(t){if(lo===setTimeout)return setTimeout(t,0);if((lo===_b||!lo)&&setTimeout)return lo=setTimeout,setTimeout(t,0);try{return lo(t,0)}catch{try{return lo.call(null,t,0)}catch{return lo.call(this,t,0)}}}function OW(t){if(co===clearTimeout)return clearTimeout(t);if((co===Sb||!co)&&clearTimeout)return co=clearTimeout,clearTimeout(t);try{return co(t)}catch{try{return co.call(null,t)}catch{return co.call(this,t)}}}var aa=[],bd=!1,gc,Rg=-1;function jW(){!bd||!gc||(bd=!1,gc.length?aa=gc.concat(aa):Rg=-1,aa.length&&W4())}function W4(){if(!bd){var t=z4(jW);bd=!0;for(var e=aa.length;e;){for(gc=aa,aa=[];++Rg<e;)gc&&gc[Rg].run();Rg=-1,e=aa.length}gc=null,bd=!1,OW(t)}}ir.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];aa.push(new $4(t,e)),aa.length===1&&!bd&&z4(W4)};function $4(t,e){this.fun=t,this.array=e}$4.prototype.run=function(){this.fun.apply(null,this.array)};ir.title="browser";ir.browser=!0;ir.env={};ir.argv=[];ir.version="";ir.versions={};function Aa(){}ir.on=Aa;ir.addListener=Aa;ir.once=Aa;ir.off=Aa;ir.removeListener=Aa;ir.removeAllListeners=Aa;ir.emit=Aa;ir.prependListener=Aa;ir.prependOnceListener=Aa;ir.listeners=function(t){return[]};ir.binding=function(t){throw new Error("process.binding is not supported")};ir.cwd=function(){return"/"};ir.chdir=function(t){throw new Error("process.chdir is not supported")};ir.umask=function(){return 0};var BW=U4.exports;const FW=DW(BW),VW=()=>{};var n2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},H4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let v=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(v=64)),r.push(n[f],n[p],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||p==null)throw new zW;const v=s<<2|l>>4;if(r.push(v),d!==64){const x=l<<4&240|d>>2;if(r.push(x),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WW=function(t){const e=q4(t);return H4.encodeByteArray(e,!0)},_y=function(t){return WW(t).replace(/\./g,"")},K4=function(t){try{return H4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Fc<"u")return Fc;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=()=>$W().__FIREBASE_DEFAULTS__,HW=()=>{if(typeof FW>"u"||typeof n2>"u")return;const t=n2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&K4(t[1]);return e&&JSON.parse(e)},N0=()=>{try{return VW()||qW()||HW()||KW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G4=t=>N0()?.emulatorHosts?.[t],GW=t=>{const e=G4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y4=()=>N0()?.config,Q4=t=>N0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_y(JSON.stringify(n)),_y(JSON.stringify(o)),""].join(".")}const bh={};function XW(){const t={prod:[],emulator:[]};for(const e of Object.keys(bh))bh[e]?t.emulator.push(e):t.prod.push(e);return t}function ZW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r2=!1;function Z4(t,e){if(typeof window>"u"||typeof document>"u"||!nf(window.location.host)||bh[t]===e||bh[t]||r2)return;bh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=XW().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{r2=!0,o()},v}function f(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=ZW(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),N=n("preprendIcon"),L=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;l(M),f(E,_);const Z=d();u(L,N),M.append(L,T,E,Z),document.body.appendChild(M)}s?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function e$(){const t=N0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(Fc.process)==="[object process]"}catch{return!1}}function t$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i$(){const t=li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s$(){return!e$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o$(){try{return typeof indexedDB=="object"}catch{return!1}}function a$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="FirebaseError";class Ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l$,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bp.prototype.create)}}class bp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?c$(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ia(i,l,r)}}function c$(t,e){return t.replace(u$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u$=/\{\$([^}]+)}/g;function d$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i2(s)&&i2(o)){if(!Vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function f$(t,e){const n=new h$(t,e);return n.subscribe.bind(n)}class h${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h1),i.error===void 0&&(i.error=h1),i.complete===void 0&&(i.complete=h1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function h1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class Uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y$(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uc){return this.instances.has(e)}getOptions(e=uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uc){return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g$(t){return t===uc?void 0:t}function y$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));const v$={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},x$=Ht.INFO,b$={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},E$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=b$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j_{constructor(e){this.name=e,this._logLevel=x$,this._logHandler=E$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const _$=(t,e)=>e.some(n=>t instanceof n);let s2,o2;function S$(){return s2||(s2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T$(){return o2||(o2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J4=new WeakMap,Tb=new WeakMap,eL=new WeakMap,p1=new WeakMap,B_=new WeakMap;function A$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&J4.set(n,t)}).catch(()=>{}),B_.set(e,t),e}function I$(t){if(Tb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tb.set(t,e)}let Ab={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C$(t){Ab=t(Ab)}function R$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(m1(this),e,...n);return eL.set(r,e.sort?e.sort():[e]),bl(r)}:T$().includes(t)?function(...e){return t.apply(m1(this),e),bl(J4.get(this))}:function(...e){return bl(t.apply(m1(this),e))}}function M$(t){return typeof t=="function"?R$(t):(t instanceof IDBTransaction&&I$(t),_$(t,S$())?new Proxy(t,Ab):t)}function bl(t){if(t instanceof IDBRequest)return A$(t);if(p1.has(t))return p1.get(t);const e=M$(t);return e!==t&&(p1.set(t,e),B_.set(e,t)),e}const m1=t=>B_.get(t);function N$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=bl(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bl(o.result),u.oldVersion,u.newVersion,bl(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const k$=["get","getKey","getAll","getAllKeys","count"],P$=["put","add","delete","clear"],g1=new Map;function a2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g1.get(e))return g1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k$.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return g1.set(e,s),s}C$(t=>({...t,get:(e,n,r)=>a2(e,n)||t.get(e,n,r),has:(e,n)=>!!a2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D$(t){return t.getComponent()?.type==="VERSION"}const Ib="@firebase/app",l2="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new j_("@firebase/app"),O$="@firebase/app-compat",j$="@firebase/analytics-compat",B$="@firebase/analytics",F$="@firebase/app-check-compat",V$="@firebase/app-check",U$="@firebase/auth",z$="@firebase/auth-compat",W$="@firebase/database",$$="@firebase/data-connect",q$="@firebase/database-compat",H$="@firebase/functions",K$="@firebase/functions-compat",G$="@firebase/installations",Y$="@firebase/installations-compat",Q$="@firebase/messaging",X$="@firebase/messaging-compat",Z$="@firebase/performance",J$="@firebase/performance-compat",eq="@firebase/remote-config",tq="@firebase/remote-config-compat",nq="@firebase/storage",rq="@firebase/storage-compat",iq="@firebase/firestore",sq="@firebase/ai",oq="@firebase/firestore-compat",aq="firebase",lq="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="[DEFAULT]",cq={[Ib]:"fire-core",[O$]:"fire-core-compat",[B$]:"fire-analytics",[j$]:"fire-analytics-compat",[V$]:"fire-app-check",[F$]:"fire-app-check-compat",[U$]:"fire-auth",[z$]:"fire-auth-compat",[W$]:"fire-rtdb",[$$]:"fire-data-connect",[q$]:"fire-rtdb-compat",[H$]:"fire-fn",[K$]:"fire-fn-compat",[G$]:"fire-iid",[Y$]:"fire-iid-compat",[Q$]:"fire-fcm",[X$]:"fire-fcm-compat",[Z$]:"fire-perf",[J$]:"fire-perf-compat",[eq]:"fire-rc",[tq]:"fire-rc-compat",[nq]:"fire-gcs",[rq]:"fire-gcs-compat",[iq]:"fire-fst",[oq]:"fire-fst-compat",[sq]:"fire-vertex","fire-js":"fire-js",[aq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Map,uq=new Map,Rb=new Map;function c2(t,e){try{t.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ld(t){const e=t.name;if(Rb.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Rb.set(e,t);for(const n of Sy.values())c2(n,t);for(const n of uq.values())c2(n,t);return!0}function F_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},El=new bp("app","Firebase",dq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw El.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=lq;function tL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw El.create("bad-app-name",{appName:String(i)});if(n||(n=Y4()),!n)throw El.create("no-options");const s=Sy.get(i);if(s){if(Vc(n,s.options)&&Vc(r,s.config))return s;throw El.create("duplicate-app",{appName:i})}const o=new w$(i);for(const u of Rb.values())o.addComponent(u);const l=new fq(n,r,o);return Sy.set(i,l),l}function nL(t=Cb){const e=Sy.get(t);if(!e&&t===Cb&&Y4())return tL();if(!e)throw El.create("no-app",{appName:t});return e}function _l(t,e,n){let r=cq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(o.join(" "));return}Ld(new Uc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="firebase-heartbeat-database",pq=1,Wh="firebase-heartbeat-store";let y1=null;function rL(){return y1||(y1=N$(hq,pq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wh)}catch(n){console.warn(n)}}}}).catch(t=>{throw El.create("idb-open",{originalErrorMessage:t.message})})),y1}async function mq(t){try{const n=(await rL()).transaction(Wh),r=await n.objectStore(Wh).get(iL(t));return await n.done,r}catch(e){if(e instanceof Ia)ga.warn(e.message);else{const n=El.create("idb-get",{originalErrorMessage:e?.message});ga.warn(n.message)}}}async function u2(t,e){try{const r=(await rL()).transaction(Wh,"readwrite");await r.objectStore(Wh).put(e,iL(t)),await r.done}catch(n){if(n instanceof Ia)ga.warn(n.message);else{const r=El.create("idb-set",{originalErrorMessage:n?.message});ga.warn(r.message)}}}function iL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=1024,yq=30;class wq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>yq){const i=bq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ga.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d2(),{heartbeatsToSend:n,unsentEntries:r}=vq(this._heartbeatsCache.heartbeats),i=_y(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ga.warn(e),""}}}function d2(){return new Date().toISOString().substring(0,10)}function vq(t,e=gq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o$()?a$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function f2(t){return _y(JSON.stringify({version:2,heartbeats:t})).length}function bq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){Ld(new Uc("platform-logger",e=>new L$(e),"PRIVATE")),Ld(new Uc("heartbeat",e=>new wq(e),"PRIVATE")),_l(Ib,l2,t),_l(Ib,l2,"esm2020"),_l("fire-js","")}Eq("");function sL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _q=sL,oL=new bp("auth","Firebase",sL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new j_("@firebase/auth");function Sq(t,...e){Ty.logLevel<=Ht.WARN&&Ty.warn(`Auth (${rf}): ${t}`,...e)}function Mg(t,...e){Ty.logLevel<=Ht.ERROR&&Ty.error(`Auth (${rf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,...e){throw U_(t,...e)}function Ps(t,...e){return U_(t,...e)}function V_(t,e,n){const r={..._q(),[e]:n};return new bp("auth","Firebase",r).create(e,{appName:t.name})}function Mc(t){return V_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ao(t,"argument-error"),V_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oL.create(t,...e)}function It(t,e,...n){if(!t)throw U_(e,...n)}function la(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mg(e),new Error(e)}function ya(t,e){t||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof self<"u"&&self.location?.href||""}function Aq(){return h2()==="http:"||h2()==="https:"}function h2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aq()||n$()||"connection"in navigator)?navigator.onLine:!0}function Cq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.shortDelay=e,this.longDelay=n,ya(n>e,"Short delay should be less than long delay!"),this.isMobile=JW()||r$()}get(){return Iq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){ya(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nq=new _p(3e4,6e4);function W_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sf(t,e,n,r,i={}){return lL(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ep({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...s};return t$()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&nf(t.emulatorConfig.host)&&(d.credentials="include"),aL.fetch()(await cL(t,t.config.apiHost,n,l),d)})}async function lL(t,e,n){t._canInitEmulator=!1;const r={...Rq,...e};try{const i=new Pq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ng(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ng(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ng(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ng(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw V_(t,f,d);Ao(t,f)}}catch(i){if(i instanceof Ia)throw i;Ao(t,"network-request-failed",{message:String(i)})}}async function kq(t,e,n,r,i={}){const s=await sf(t,e,n,r,i);return"mfaPendingCredential"in s&&Ao(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function cL(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?z_(t.config,i):`${t.config.apiScheme}://${i}`;return Mq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Pq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ps(this.auth,"network-request-failed")),Nq.get())})}}function ng(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ps(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lq(t,e){return sf(t,"POST","/v1/accounts:delete",e)}async function Ay(t,e){return sf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dq(t,e=!1){const n=ds(t),r=await n.getIdToken(e),i=$_(r);It(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Eh(w1(i.auth_time)),issuedAtTime:Eh(w1(i.iat)),expirationTime:Eh(w1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function w1(t){return Number(t)*1e3}function $_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mg("JWT malformed, contained fewer than 3 sections"),null;try{const i=K4(n);return i?JSON.parse(i):(Mg("Failed to decode base64 JWT payload"),null)}catch(i){return Mg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function p2(t){const e=$_(t);return It(e,"internal-error"),It(typeof e.exp<"u","internal-error"),It(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ia&&Oq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Oq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){const e=t.auth,n=await t.getIdToken(),r=await $h(t,Ay(e,{idToken:n}));It(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?uL(i.providerUserInfo):[],o=Fq(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!o?.length,d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nb(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Bq(t){const e=ds(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,e){const n=await lL(t,{},async()=>{const r=Ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await cL(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&nf(t.emulatorConfig.host)&&(u.credentials="include"),aL.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Uq(t,e){return sf(t,"POST","/v2/accounts:revokeToken",W_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){It(e.idToken,"internal-error"),It(typeof e.idToken<"u","internal-error"),It(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){It(e.length!==0,"internal-error");const n=p2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Vq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ed;return r&&(It(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(It(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(It(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){It(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new jq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $h(this,this.stsTokenManager.getToken(this.auth,e));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dq(this,e)}reload(){return Bq(this)}_assign(e){this!==e&&(It(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(Mc(this.auth));const e=await this.getIdToken();return await $h(this,Lq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:x,providerData:T,stsTokenManager:_}=n;It(p&&_,e,"internal-error");const E=Ed.fromJSON(this.name,_);It(typeof p=="string",e,"internal-error"),Ja(r,e.name),Ja(i,e.name),It(typeof v=="boolean",e,"internal-error"),It(typeof x=="boolean",e,"internal-error"),Ja(s,e.name),Ja(o,e.name),Ja(l,e.name),Ja(u,e.name),Ja(d,e.name),Ja(f,e.name);const N=new Rs({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:E,createdAt:d,lastLoginAt:f});return T&&Array.isArray(T)&&(N.providerData=T.map(L=>({...L}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ed;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];It(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Ed;l.updateFromIdToken(r);const u=new Rs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map;function ca(t){ya(t instanceof Function,"Expected a class definition");let e=m2.get(t);return e?(ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dL.type="NONE";const g2=dL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e,n){return`firebase:${t}:${e}:${n}`}class _d{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ng(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ng("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ay(this.auth,{idToken:e}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _d(ca(g2),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ca(g2);const o=Ng(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const v=await Ay(e,{idToken:f}).catch(()=>{});if(!v)break;p=await Rs._fromGetAccountInfoResponse(e,v,f)}else p=Rs._fromJSON(e,f);d!==s&&(l=p),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new _d(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new _d(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yL(e))return"Blackberry";if(wL(e))return"Webos";if(hL(e))return"Safari";if((e.includes("chrome/")||pL(e))&&!e.includes("edge/"))return"Chrome";if(gL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fL(t=li()){return/firefox\//i.test(t)}function hL(t=li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pL(t=li()){return/crios\//i.test(t)}function mL(t=li()){return/iemobile/i.test(t)}function gL(t=li()){return/android/i.test(t)}function yL(t=li()){return/blackberry/i.test(t)}function wL(t=li()){return/webos/i.test(t)}function q_(t=li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zq(t=li()){return q_(t)&&!!window.navigator?.standalone}function Wq(){return i$()&&document.documentMode===10}function vL(t=li()){return q_(t)||gL(t)||wL(t)||yL(t)||/windows phone/i.test(t)||mL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e=[]){let n;switch(t){case"Browser":n=y2(li());break;case"Worker":n=`${y2(li())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e={}){return sf(t,"GET","/v2/passwordPolicy",W_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=6;class Kq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Hq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w2(this),this.idTokenSubscription=new w2(this),this.beforeStateQueue=new $q(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ca(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ay(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(Mc(this));const n=e?ds(e):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&It(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(Mc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(Mc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qq(this),n=new Kq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Uq(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ca(e)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[ca(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function k0(t){return ds(t)}class w2{constructor(e){this.auth=e,this.observer=null,this.addObserver=f$(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yq(t){H_=t}function Qq(t){return H_.loadJS(t)}function Xq(){return H_.gapiScript}function Zq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e){const n=F_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vc(s,e??{}))return i;Ao(i,"already-initialized")}return n.initialize({options:e})}function eH(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ca);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tH(t,e,n){const r=k0(t);It(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bL(e),{host:o,port:l}=nH(e),u=l===null?"":`:${l}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){It(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),It(Vc(d,r.config.emulator)&&Vc(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,nf(o)?(X4(`${s}//${o}${u}`),Z4("Auth",!0)):rH()}function bL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nH(t){const e=bL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v2(o)}}}function v2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,n){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t,e){return kq(t,"POST","/v1/accounts:signInWithIdp",W_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="http://localhost";class zc extends EL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new zc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sd(e,n)}buildRequest(){const e={requestUri:iH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ep(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends K_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Sp{constructor(){super("facebook.com")}static credential(e){return zc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zc._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return na.credential(n,r)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Sp{constructor(){super("github.com")}static credential(e){return zc._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.GITHUB_SIGN_IN_METHOD="github.com";hl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Sp{constructor(){super("twitter.com")}static credential(e,n){return zc._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pl.credential(n,r)}catch{return null}}}pl.TWITTER_SIGN_IN_METHOD="twitter.com";pl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),o=x2(r);return new Dd({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x2(r);return new Dd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ia{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cy(e,n,r,i)}}function _L(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cy._fromErrorAndOperation(t,s,e,r):s})}async function sH(t,e,n=!1){const r=await $h(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Dd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e,n=!1){const{auth:r}=t;if(Cs(r.app))return Promise.reject(Mc(r));const i="reauthenticate";try{const s=await $h(t,_L(r,i,e,t),n);It(s.idToken,r,"internal-error");const o=$_(s.idToken);It(o,r,"internal-error");const{sub:l}=o;return It(t.uid===l,r,"user-mismatch"),Dd._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ao(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(t,e,n=!1){if(Cs(t.app))return Promise.reject(Mc(t));const r="signIn",i=await _L(t,r,e),s=await Dd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function lH(t,e,n,r){return ds(t).onIdTokenChanged(e,n,r)}function cH(t,e,n){return ds(t).beforeAuthStateChanged(e,n)}function uH(t,e,n,r){return ds(t).onAuthStateChanged(e,n,r)}function dH(t){return ds(t).signOut()}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1e3,hH=10;class TL extends SL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Wq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TL.type="LOCAL";const pH=TL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL extends SL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AL.type="SESSION";const IL=AL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new P0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await mH(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}P0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=G_("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(v.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return window}function yH(t){wo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof wo().WorkerGlobalScope<"u"&&typeof wo().importScripts=="function"}async function wH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vH(){return navigator?.serviceWorker?.controller||null}function xH(){return CL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebaseLocalStorageDb",bH=1,My="firebaseLocalStorage",ML="fbase_key";class Tp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function L0(t,e){return t.transaction([My],e?"readwrite":"readonly").objectStore(My)}function EH(){const t=indexedDB.deleteDatabase(RL);return new Tp(t).toPromise()}function kb(){const t=indexedDB.open(RL,bH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(My,{keyPath:ML})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(My)?e(r):(r.close(),await EH(),e(await kb()))})})}async function b2(t,e,n){const r=L0(t,!0).put({[ML]:e,value:n});return new Tp(r).toPromise()}async function _H(t,e){const n=L0(t,!1).get(e),r=await new Tp(n).toPromise();return r===void 0?null:r.value}function E2(t,e){const n=L0(t,!0).delete(e);return new Tp(n).toPromise()}const SH=800,TH=3;class NL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=P0._getInstance(xH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wH(),!this.activeServiceWorker)return;this.sender=new gH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kb();return await b2(e,Ry,"1"),await E2(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_H(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=L0(i,!1).getAll();return new Tp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NL.type="LOCAL";const AH=NL;new _p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){return e?ca(e):(It(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends EL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IH(t){return aH(t.auth,new Y_(t),t.bypassAuthState)}function CH(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),oH(n,new Y_(t),t.bypassAuthState)}async function RH(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),sH(n,new Y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IH;case"linkViaPopup":case"linkViaRedirect":return RH;case"reauthViaPopup":case"reauthViaRedirect":return CH;default:Ao(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new _p(2e3,1e4);async function NH(t,e,n){if(Cs(t.app))return Promise.reject(Ps(t,"operation-not-supported-in-this-environment"));const r=k0(t);Tq(t,e,K_);const i=kL(r,n);return new yc(r,"signInViaPopup",e,i).executeNotNull()}class yc extends PL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,yc.currentPopupAction&&yc.currentPopupAction.cancel(),yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return It(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MH.get())};e()}}yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="pendingRedirect",kg=new Map;class PH extends PL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kg.get(this.auth._key());if(!e){try{const r=await LH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kg.set(this.auth._key(),e)}return this.bypassAuthState||kg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LH(t,e){const n=jH(e),r=OH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DH(t,e){kg.set(t._key(),e)}function OH(t){return ca(t._redirectPersistence)}function jH(t){return Ng(kH,t.config.apiKey,t.name)}async function BH(t,e,n=!1){if(Cs(t.app))return Promise.reject(Mc(t));const r=k0(t),i=kL(r,e),o=await new PH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=600*1e3;class VH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LL(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ps(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FH&&this.cachedEventUids.clear(),this.cachedEventUids.has(_2(e))}saveEventToCache(e){this.cachedEventUids.add(_2(e)),this.lastProcessedEventTime=Date.now()}}function _2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e={}){return sf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$H=/^https?/;async function qH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zH(t);for(const n of e)try{if(HH(n))return}catch{}Ao(t,"unauthorized-domain")}function HH(t){const e=Mb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$H.test(n))return!1;if(WH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=new _p(3e4,6e4);function S2(){const t=wo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GH(t){return new Promise((e,n)=>{function r(){S2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S2(),n(Ps(t,"network-request-failed"))},timeout:KH.get()})}if(wo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wo().gapi?.load)r();else{const i=Zq("iframefcb");return wo()[i]=()=>{gapi.load?r():n(Ps(t,"network-request-failed"))},Qq(`${Xq()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Pg=null,e})}let Pg=null;function YH(t){return Pg=Pg||GH(t),Pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=new _p(5e3,15e3),XH="__/auth/iframe",ZH="emulator/auth/iframe",JH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tK(t){const e=t.config;It(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z_(e,ZH):`https://${t.config.authDomain}/${XH}`,r={apiKey:e.apiKey,appName:t.name,v:rf},i=eK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ep(r).slice(1)}`}async function nK(t){const e=await YH(t),n=wo().gapi;return It(n,t,"internal-error"),e.open({where:document.body,url:tK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ps(t,"network-request-failed"),l=wo().setTimeout(()=>{s(o)},QH.get());function u(){wo().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iK=500,sK=600,oK="_blank",aK="http://localhost";class T2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lK(t,e,n,r=iK,i=sK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...rK,width:r.toString(),height:i.toString(),top:s,left:o},d=li().toLowerCase();n&&(l=pL(d)?oK:n),fL(d)&&(e=e||aK,u.scrollbars="yes");const f=Object.entries(u).reduce((v,[x,T])=>`${v}${x}=${T},`,"");if(zq(d)&&l!=="_self")return cK(e||"",l),new T2(null);const p=window.open(e||"",l,f);It(p,t,"popup-blocked");try{p.focus()}catch{}return new T2(p)}function cK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="__/auth/handler",dK="emulator/auth/handler",fK=encodeURIComponent("fac");async function A2(t,e,n,r,i,s){It(t.config.authDomain,t,"auth-domain-config-required"),It(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rf,eventId:i};if(e instanceof K_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Sp){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${fK}=${encodeURIComponent(u)}`:"";return`${hK(t)}?${Ep(l).slice(1)}${d}`}function hK({config:t}){return t.emulator?z_(t,dK):`https://${t.authDomain}/${uK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="webStorageSupport";class pK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IL,this._completeRedirectFn=BH,this._overrideRedirectResult=DH}async _openPopup(e,n,r,i){ya(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await A2(e,n,r,Mb(),i);return lK(e,s,G_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A2(e,n,r,Mb(),i);return yH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ya(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nK(e),r=new VH(e);return n.register("authEvent",i=>(It(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(v1,{type:v1},i=>{const s=i?.[0]?.[v1];s!==void 0&&n(!!s),Ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vL()||hL()||q_()}}const mK=pK;var I2="@firebase/auth",C2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wK(t){Ld(new Uc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;It(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xL(t)},d=new Gq(r,i,s,u);return eH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ld(new Uc("auth-internal",e=>{const n=k0(e.getProvider("auth").getImmediate());return(r=>new gK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_l(I2,C2,yK(t)),_l(I2,C2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=300,xK=Q4("authIdTokenMaxAge")||vK;let R2=null;const bK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xK)return;const i=n?.token;R2!==i&&(R2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EK(t=nL()){const e=F_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jq(t,{popupRedirectResolver:mK,persistence:[AH,pH,IL]}),r=Q4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=bK(s.toString());cH(n,o,()=>o(n.currentUser)),lH(n,l=>o(l))}}const i=G4("auth");return i&&tH(n,`http://${i}`),n}function _K(){return document.getElementsByTagName("head")?.[0]??document}Yq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ps("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_K().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wK("Browser");var SK="firebase",TK="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_l(SK,TK,"app");const Ny=!0,AK={apiKey:"AIzaSyAVZLE9L_O9WNj_aHSwVKYisn7WQA5Oc9E",authDomain:"generiba9.firebaseapp.com",projectId:"generiba9",storageBucket:"generiba9.firebasestorage.app",messagingSenderId:"1085577577643",appId:"1:1085577577643:web:419b0f7a880550387723ee"};let x1,_h,Lg;try{x1=tL(AK),_h=EK(x1),Lg=new na,Lg.setCustomParameters({prompt:"select_account"})}catch(t){console.error("Firebase initialization failed. Running in GUEST MODE:",t),x1={},_h={},Lg={}}const Pb={baseURL:"http://localhost:3000/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},retry:{maxRetries:3,retryDelay:1e3}},b1={AUTH:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh"}},DL=()=>localStorage.getItem("auth_token"),M2=async t=>{localStorage.setItem("auth_token",t)},N2=()=>{localStorage.removeItem("auth_token")};async function th(t,e={}){const n=DL(),r={...e,headers:{...Pb.headers,...n&&{Authorization:`Bearer ${n}`},...e.headers}};try{const i=await fetch(`${Pb.baseURL}${t}`,r);if(!i.ok){const o=await i.json().catch(()=>({message:i.statusText||"An error occurred"}));throw{message:o.message||"Request failed",status:i.status,code:o.code}}return await i.json()}catch(i){throw i.status?i:{message:i.message||"Network error occurred",code:"NETWORK_ERROR"}}}const E1={get:(t,e)=>th(t,{...e,method:"GET"}),post:(t,e,n)=>th(t,{...n,method:"POST",body:e?JSON.stringify(e):void 0}),put:(t,e,n)=>th(t,{...n,method:"PUT",body:e?JSON.stringify(e):void 0}),patch:(t,e,n)=>th(t,{...n,method:"PATCH",body:e?JSON.stringify(e):void 0}),delete:(t,e)=>th(t,{...e,method:"DELETE"}),upload:(t,e,n)=>{const r=DL();return fetch(`${Pb.baseURL}${t}`,{...n,method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`},...n?.headers},body:e}).then(async i=>{if(!i.ok)throw{message:(await i.json().catch(()=>({message:i.statusText}))).message||"Upload failed",status:i.status};return i.json()})}},IK={login:async t=>E1.post(b1.AUTH.LOGIN,t),logout:async()=>E1.post(b1.AUTH.LOGOUT),refreshToken:async()=>E1.post(b1.AUTH.REFRESH)};var Q_={},D0={};D0.byteLength=MK;D0.toByteArray=kK;D0.fromByteArray=DK;var fo=[],is=[],CK=typeof Uint8Array<"u"?Uint8Array:Array,_1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $u=0,RK=_1.length;$u<RK;++$u)fo[$u]=_1[$u],is[_1.charCodeAt($u)]=$u;is[45]=62;is[95]=63;function OL(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function MK(t){var e=OL(t),n=e[0],r=e[1];return(n+r)*3/4-r}function NK(t,e,n){return(e+n)*3/4-n}function kK(t){var e,n=OL(t),r=n[0],i=n[1],s=new CK(NK(t,r,i)),o=0,l=i>0?r-4:r,u;for(u=0;u<l;u+=4)e=is[t.charCodeAt(u)]<<18|is[t.charCodeAt(u+1)]<<12|is[t.charCodeAt(u+2)]<<6|is[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=is[t.charCodeAt(u)]<<2|is[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=is[t.charCodeAt(u)]<<10|is[t.charCodeAt(u+1)]<<4|is[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function PK(t){return fo[t>>18&63]+fo[t>>12&63]+fo[t>>6&63]+fo[t&63]}function LK(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(PK(r));return i.join("")}function DK(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,l=n-r;o<l;o+=s)i.push(LK(t,o,o+s>l?l:o+s));return r===1?(e=t[n-1],i.push(fo[e>>2]+fo[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(fo[e>>10]+fo[e>>4&63]+fo[e<<2&63]+"=")),i.join("")}var X_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */X_.read=function(t,e,n,r,i){var s,o,l=i*8-r-1,u=(1<<l)-1,d=u>>1,f=-7,p=n?i-1:0,v=n?-1:1,x=t[e+p];for(p+=v,s=x&(1<<-f)-1,x>>=-f,f+=l;f>0;s=s*256+t[e+p],p+=v,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=o*256+t[e+p],p+=v,f-=8);if(s===0)s=1-d;else{if(s===u)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-d}return(x?-1:1)*o*Math.pow(2,s-r)};X_.write=function(t,e,n,r,i,s){var o,l,u,d=s*8-i-1,f=(1<<d)-1,p=f>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:s-1,T=r?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=v/u:e+=v*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(e*u-1)*Math.pow(2,i),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+x]=l&255,x+=T,l/=256,i-=8);for(o=o<<i|l,d+=i;d>0;t[n+x]=o&255,x+=T,o/=256,d-=8);t[n+x-T]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=D0,n=X_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=J,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:l}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const ne=new s(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,s.prototype),Object.setPrototypeOf(ne,j),ne.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function d(ne){if(ne>i)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const j=new s(ne);return Object.setPrototypeOf(j,f.prototype),j}function f(ne,j,V){if(typeof ne=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(ne)}return p(ne,j,V)}f.poolSize=8192;function p(ne,j,V){if(typeof ne=="string")return _(ne,j);if(o.isView(ne))return N(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(wn(ne,o)||ne&&wn(ne.buffer,o)||typeof l<"u"&&(wn(ne,l)||ne&&wn(ne.buffer,l)))return L(ne,j,V);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=ne.valueOf&&ne.valueOf();if(le!=null&&le!==ne)return f.from(le,j,V);const he=M(ne);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return f.from(ne[Symbol.toPrimitive]("string"),j,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}f.from=function(ne,j,V){return p(ne,j,V)},Object.setPrototypeOf(f.prototype,s.prototype),Object.setPrototypeOf(f,s);function v(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function x(ne,j,V){return v(ne),ne<=0?d(ne):j!==void 0?typeof V=="string"?d(ne).fill(j,V):d(ne).fill(j):d(ne)}f.alloc=function(ne,j,V){return x(ne,j,V)};function T(ne){return v(ne),d(ne<0?0:Z(ne)|0)}f.allocUnsafe=function(ne){return T(ne)},f.allocUnsafeSlow=function(ne){return T(ne)};function _(ne,j){if((typeof j!="string"||j==="")&&(j="utf8"),!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const V=re(ne,j)|0;let le=d(V);const he=le.write(ne,j);return he!==V&&(le=le.slice(0,he)),le}function E(ne){const j=ne.length<0?0:Z(ne.length)|0,V=d(j);for(let le=0;le<j;le+=1)V[le]=ne[le]&255;return V}function N(ne){if(wn(ne,s)){const j=new s(ne);return L(j.buffer,j.byteOffset,j.byteLength)}return E(ne)}function L(ne,j,V){if(j<0||ne.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<j+(V||0))throw new RangeError('"length" is outside of buffer bounds');let le;return j===void 0&&V===void 0?le=new s(ne):V===void 0?le=new s(ne,j):le=new s(ne,j,V),Object.setPrototypeOf(le,f.prototype),le}function M(ne){if(f.isBuffer(ne)){const j=Z(ne.length)|0,V=d(j);return V.length===0||ne.copy(V,0,0,j),V}if(ne.length!==void 0)return typeof ne.length!="number"||Ct(ne.length)?d(0):E(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return E(ne.data)}function Z(ne){if(ne>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ne|0}function J(ne){return+ne!=ne&&(ne=0),f.alloc(+ne)}f.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==f.prototype},f.compare=function(j,V){if(wn(j,s)&&(j=f.from(j,j.offset,j.byteLength)),wn(V,s)&&(V=f.from(V,V.offset,V.byteLength)),!f.isBuffer(j)||!f.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===V)return 0;let le=j.length,he=V.length;for(let ye=0,Te=Math.min(le,he);ye<Te;++ye)if(j[ye]!==V[ye]){le=j[ye],he=V[ye];break}return le<he?-1:he<le?1:0},f.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(j,V){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return f.alloc(0);let le;if(V===void 0)for(V=0,le=0;le<j.length;++le)V+=j[le].length;const he=f.allocUnsafe(V);let ye=0;for(le=0;le<j.length;++le){let Te=j[le];if(wn(Te,s))ye+Te.length>he.length?(f.isBuffer(Te)||(Te=f.from(Te)),Te.copy(he,ye)):s.prototype.set.call(he,Te,ye);else if(f.isBuffer(Te))Te.copy(he,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=Te.length}return he};function re(ne,j){if(f.isBuffer(ne))return ne.length;if(o.isView(ne)||wn(ne,o))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const V=ne.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&V===0)return 0;let he=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return vt(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return ft(ne).length;default:if(he)return le?-1:vt(ne).length;j=(""+j).toLowerCase(),he=!0}}f.byteLength=re;function q(ne,j,V){let le=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,j>>>=0,V<=j))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return b(this,j,V);case"utf8":case"utf-8":return Y(this,j,V);case"ascii":return se(this,j,V);case"latin1":case"binary":return $(this,j,V);case"base64":return W(this,j,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,j,V);default:if(le)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),le=!0}}f.prototype._isBuffer=!0;function U(ne,j,V){const le=ne[j];ne[j]=ne[V],ne[V]=le}f.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<j;V+=2)U(this,V,V+1);return this},f.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<j;V+=4)U(this,V,V+3),U(this,V+1,V+2);return this},f.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<j;V+=8)U(this,V,V+7),U(this,V+1,V+6),U(this,V+2,V+5),U(this,V+3,V+4);return this},f.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?Y(this,0,j):q.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(j){if(!f.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:f.compare(this,j)===0},f.prototype.inspect=function(){let j="";const V=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(j+=" ... "),"<Buffer "+j+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(j,V,le,he,ye){if(wn(j,s)&&(j=f.from(j,j.offset,j.byteLength)),!f.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(V===void 0&&(V=0),le===void 0&&(le=j?j.length:0),he===void 0&&(he=0),ye===void 0&&(ye=this.length),V<0||le>j.length||he<0||ye>this.length)throw new RangeError("out of range index");if(he>=ye&&V>=le)return 0;if(he>=ye)return-1;if(V>=le)return 1;if(V>>>=0,le>>>=0,he>>>=0,ye>>>=0,this===j)return 0;let Te=ye-he,xt=le-V;const it=Math.min(Te,xt),at=this.slice(he,ye),jt=j.slice(V,le);for(let Je=0;Je<it;++Je)if(at[Je]!==jt[Je]){Te=at[Je],xt=jt[Je];break}return Te<xt?-1:xt<Te?1:0};function P(ne,j,V,le,he){if(ne.length===0)return-1;if(typeof V=="string"?(le=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,Ct(V)&&(V=he?0:ne.length-1),V<0&&(V=ne.length+V),V>=ne.length){if(he)return-1;V=ne.length-1}else if(V<0)if(he)V=0;else return-1;if(typeof j=="string"&&(j=f.from(j,le)),f.isBuffer(j))return j.length===0?-1:z(ne,j,V,le,he);if(typeof j=="number")return j=j&255,typeof s.prototype.indexOf=="function"?he?s.prototype.indexOf.call(ne,j,V):s.prototype.lastIndexOf.call(ne,j,V):z(ne,[j],V,le,he);throw new TypeError("val must be string, number or Buffer")}function z(ne,j,V,le,he){let ye=1,Te=ne.length,xt=j.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(ne.length<2||j.length<2)return-1;ye=2,Te/=2,xt/=2,V/=2}function it(jt,Je){return ye===1?jt[Je]:jt.readUInt16BE(Je*ye)}let at;if(he){let jt=-1;for(at=V;at<Te;at++)if(it(ne,at)===it(j,jt===-1?0:at-jt)){if(jt===-1&&(jt=at),at-jt+1===xt)return jt*ye}else jt!==-1&&(at-=at-jt),jt=-1}else for(V+xt>Te&&(V=Te-xt),at=V;at>=0;at--){let jt=!0;for(let Je=0;Je<xt;Je++)if(it(ne,at+Je)!==it(j,Je)){jt=!1;break}if(jt)return at}return-1}f.prototype.includes=function(j,V,le){return this.indexOf(j,V,le)!==-1},f.prototype.indexOf=function(j,V,le){return P(this,j,V,le,!0)},f.prototype.lastIndexOf=function(j,V,le){return P(this,j,V,le,!1)};function H(ne,j,V,le){V=Number(V)||0;const he=ne.length-V;le?(le=Number(le),le>he&&(le=he)):le=he;const ye=j.length;le>ye/2&&(le=ye/2);let Te;for(Te=0;Te<le;++Te){const xt=parseInt(j.substr(Te*2,2),16);if(Ct(xt))return Te;ne[V+Te]=xt}return Te}function k(ne,j,V,le){return Qt(vt(j,ne.length-V),ne,V,le)}function S(ne,j,V,le){return Qt(Lt(j),ne,V,le)}function g(ne,j,V,le){return Qt(ft(j),ne,V,le)}function I(ne,j,V,le){return Qt(rn(j,ne.length-V),ne,V,le)}f.prototype.write=function(j,V,le,he){if(V===void 0)he="utf8",le=this.length,V=0;else if(le===void 0&&typeof V=="string")he=V,le=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(le)?(le=le>>>0,he===void 0&&(he="utf8")):(he=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-V;if((le===void 0||le>ye)&&(le=ye),j.length>0&&(le<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let Te=!1;for(;;)switch(he){case"hex":return H(this,j,V,le);case"utf8":case"utf-8":return k(this,j,V,le);case"ascii":case"latin1":case"binary":return S(this,j,V,le);case"base64":return g(this,j,V,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,j,V,le);default:if(Te)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),Te=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(ne,j,V){return j===0&&V===ne.length?e.fromByteArray(ne):e.fromByteArray(ne.slice(j,V))}function Y(ne,j,V){V=Math.min(ne.length,V);const le=[];let he=j;for(;he<V;){const ye=ne[he];let Te=null,xt=ye>239?4:ye>223?3:ye>191?2:1;if(he+xt<=V){let it,at,jt,Je;switch(xt){case 1:ye<128&&(Te=ye);break;case 2:it=ne[he+1],(it&192)===128&&(Je=(ye&31)<<6|it&63,Je>127&&(Te=Je));break;case 3:it=ne[he+1],at=ne[he+2],(it&192)===128&&(at&192)===128&&(Je=(ye&15)<<12|(it&63)<<6|at&63,Je>2047&&(Je<55296||Je>57343)&&(Te=Je));break;case 4:it=ne[he+1],at=ne[he+2],jt=ne[he+3],(it&192)===128&&(at&192)===128&&(jt&192)===128&&(Je=(ye&15)<<18|(it&63)<<12|(at&63)<<6|jt&63,Je>65535&&Je<1114112&&(Te=Je))}}Te===null?(Te=65533,xt=1):Te>65535&&(Te-=65536,le.push(Te>>>10&1023|55296),Te=56320|Te&1023),le.push(Te),he+=xt}return X(le)}const K=4096;function X(ne){const j=ne.length;if(j<=K)return String.fromCharCode.apply(String,ne);let V="",le=0;for(;le<j;)V+=String.fromCharCode.apply(String,ne.slice(le,le+=K));return V}function se(ne,j,V){let le="";V=Math.min(ne.length,V);for(let he=j;he<V;++he)le+=String.fromCharCode(ne[he]&127);return le}function $(ne,j,V){let le="";V=Math.min(ne.length,V);for(let he=j;he<V;++he)le+=String.fromCharCode(ne[he]);return le}function b(ne,j,V){const le=ne.length;(!j||j<0)&&(j=0),(!V||V<0||V>le)&&(V=le);let he="";for(let ye=j;ye<V;++ye)he+=Vt[ne[ye]];return he}function R(ne,j,V){const le=ne.slice(j,V);let he="";for(let ye=0;ye<le.length-1;ye+=2)he+=String.fromCharCode(le[ye]+le[ye+1]*256);return he}f.prototype.slice=function(j,V){const le=this.length;j=~~j,V=V===void 0?le:~~V,j<0?(j+=le,j<0&&(j=0)):j>le&&(j=le),V<0?(V+=le,V<0&&(V=0)):V>le&&(V=le),V<j&&(V=j);const he=this.subarray(j,V);return Object.setPrototypeOf(he,f.prototype),he};function Q(ne,j,V){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+j>V)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(j,V,le){j=j>>>0,V=V>>>0,le||Q(j,V,this.length);let he=this[j],ye=1,Te=0;for(;++Te<V&&(ye*=256);)he+=this[j+Te]*ye;return he},f.prototype.readUintBE=f.prototype.readUIntBE=function(j,V,le){j=j>>>0,V=V>>>0,le||Q(j,V,this.length);let he=this[j+--V],ye=1;for(;V>0&&(ye*=256);)he+=this[j+--V]*ye;return he},f.prototype.readUint8=f.prototype.readUInt8=function(j,V){return j=j>>>0,V||Q(j,1,this.length),this[j]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(j,V){return j=j>>>0,V||Q(j,2,this.length),this[j]|this[j+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(j,V){return j=j>>>0,V||Q(j,2,this.length),this[j]<<8|this[j+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},f.prototype.readBigUInt64LE=In(function(j){j=j>>>0,xn(j,"offset");const V=this[j],le=this[j+7];(V===void 0||le===void 0)&&Pt(j,this.length-8);const he=V+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,ye=this[++j]+this[++j]*2**8+this[++j]*2**16+le*2**24;return BigInt(he)+(BigInt(ye)<<BigInt(32))}),f.prototype.readBigUInt64BE=In(function(j){j=j>>>0,xn(j,"offset");const V=this[j],le=this[j+7];(V===void 0||le===void 0)&&Pt(j,this.length-8);const he=V*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],ye=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+le;return(BigInt(he)<<BigInt(32))+BigInt(ye)}),f.prototype.readIntLE=function(j,V,le){j=j>>>0,V=V>>>0,le||Q(j,V,this.length);let he=this[j],ye=1,Te=0;for(;++Te<V&&(ye*=256);)he+=this[j+Te]*ye;return ye*=128,he>=ye&&(he-=Math.pow(2,8*V)),he},f.prototype.readIntBE=function(j,V,le){j=j>>>0,V=V>>>0,le||Q(j,V,this.length);let he=V,ye=1,Te=this[j+--he];for(;he>0&&(ye*=256);)Te+=this[j+--he]*ye;return ye*=128,Te>=ye&&(Te-=Math.pow(2,8*V)),Te},f.prototype.readInt8=function(j,V){return j=j>>>0,V||Q(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},f.prototype.readInt16LE=function(j,V){j=j>>>0,V||Q(j,2,this.length);const le=this[j]|this[j+1]<<8;return le&32768?le|4294901760:le},f.prototype.readInt16BE=function(j,V){j=j>>>0,V||Q(j,2,this.length);const le=this[j+1]|this[j]<<8;return le&32768?le|4294901760:le},f.prototype.readInt32LE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},f.prototype.readInt32BE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},f.prototype.readBigInt64LE=In(function(j){j=j>>>0,xn(j,"offset");const V=this[j],le=this[j+7];(V===void 0||le===void 0)&&Pt(j,this.length-8);const he=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(le<<24);return(BigInt(he)<<BigInt(32))+BigInt(V+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),f.prototype.readBigInt64BE=In(function(j){j=j>>>0,xn(j,"offset");const V=this[j],le=this[j+7];(V===void 0||le===void 0)&&Pt(j,this.length-8);const he=(V<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(he)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+le)}),f.prototype.readFloatLE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),n.read(this,j,!0,23,4)},f.prototype.readFloatBE=function(j,V){return j=j>>>0,V||Q(j,4,this.length),n.read(this,j,!1,23,4)},f.prototype.readDoubleLE=function(j,V){return j=j>>>0,V||Q(j,8,this.length),n.read(this,j,!0,52,8)},f.prototype.readDoubleBE=function(j,V){return j=j>>>0,V||Q(j,8,this.length),n.read(this,j,!1,52,8)};function ie(ne,j,V,le,he,ye){if(!f.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>he||j<ye)throw new RangeError('"value" argument is out of bounds');if(V+le>ne.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(j,V,le,he){if(j=+j,V=V>>>0,le=le>>>0,!he){const xt=Math.pow(2,8*le)-1;ie(this,j,V,le,xt,0)}let ye=1,Te=0;for(this[V]=j&255;++Te<le&&(ye*=256);)this[V+Te]=j/ye&255;return V+le},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(j,V,le,he){if(j=+j,V=V>>>0,le=le>>>0,!he){const xt=Math.pow(2,8*le)-1;ie(this,j,V,le,xt,0)}let ye=le-1,Te=1;for(this[V+ye]=j&255;--ye>=0&&(Te*=256);)this[V+ye]=j/Te&255;return V+le},f.prototype.writeUint8=f.prototype.writeUInt8=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,1,255,0),this[V]=j&255,V+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,2,65535,0),this[V]=j&255,this[V+1]=j>>>8,V+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,2,65535,0),this[V]=j>>>8,this[V+1]=j&255,V+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,4,4294967295,0),this[V+3]=j>>>24,this[V+2]=j>>>16,this[V+1]=j>>>8,this[V]=j&255,V+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,4,4294967295,0),this[V]=j>>>24,this[V+1]=j>>>16,this[V+2]=j>>>8,this[V+3]=j&255,V+4};function ue(ne,j,V,le,he){Wt(j,le,he,ne,V,7);let ye=Number(j&BigInt(4294967295));ne[V++]=ye,ye=ye>>8,ne[V++]=ye,ye=ye>>8,ne[V++]=ye,ye=ye>>8,ne[V++]=ye;let Te=Number(j>>BigInt(32)&BigInt(4294967295));return ne[V++]=Te,Te=Te>>8,ne[V++]=Te,Te=Te>>8,ne[V++]=Te,Te=Te>>8,ne[V++]=Te,V}function ce(ne,j,V,le,he){Wt(j,le,he,ne,V,7);let ye=Number(j&BigInt(4294967295));ne[V+7]=ye,ye=ye>>8,ne[V+6]=ye,ye=ye>>8,ne[V+5]=ye,ye=ye>>8,ne[V+4]=ye;let Te=Number(j>>BigInt(32)&BigInt(4294967295));return ne[V+3]=Te,Te=Te>>8,ne[V+2]=Te,Te=Te>>8,ne[V+1]=Te,Te=Te>>8,ne[V]=Te,V+8}f.prototype.writeBigUInt64LE=In(function(j,V=0){return ue(this,j,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=In(function(j,V=0){return ce(this,j,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(j,V,le,he){if(j=+j,V=V>>>0,!he){const it=Math.pow(2,8*le-1);ie(this,j,V,le,it-1,-it)}let ye=0,Te=1,xt=0;for(this[V]=j&255;++ye<le&&(Te*=256);)j<0&&xt===0&&this[V+ye-1]!==0&&(xt=1),this[V+ye]=(j/Te>>0)-xt&255;return V+le},f.prototype.writeIntBE=function(j,V,le,he){if(j=+j,V=V>>>0,!he){const it=Math.pow(2,8*le-1);ie(this,j,V,le,it-1,-it)}let ye=le-1,Te=1,xt=0;for(this[V+ye]=j&255;--ye>=0&&(Te*=256);)j<0&&xt===0&&this[V+ye+1]!==0&&(xt=1),this[V+ye]=(j/Te>>0)-xt&255;return V+le},f.prototype.writeInt8=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,1,127,-128),j<0&&(j=255+j+1),this[V]=j&255,V+1},f.prototype.writeInt16LE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,2,32767,-32768),this[V]=j&255,this[V+1]=j>>>8,V+2},f.prototype.writeInt16BE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,2,32767,-32768),this[V]=j>>>8,this[V+1]=j&255,V+2},f.prototype.writeInt32LE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,4,2147483647,-2147483648),this[V]=j&255,this[V+1]=j>>>8,this[V+2]=j>>>16,this[V+3]=j>>>24,V+4},f.prototype.writeInt32BE=function(j,V,le){return j=+j,V=V>>>0,le||ie(this,j,V,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[V]=j>>>24,this[V+1]=j>>>16,this[V+2]=j>>>8,this[V+3]=j&255,V+4},f.prototype.writeBigInt64LE=In(function(j,V=0){return ue(this,j,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=In(function(j,V=0){return ce(this,j,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(ne,j,V,le,he,ye){if(V+le>ne.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function Me(ne,j,V,le,he){return j=+j,V=V>>>0,he||_e(ne,j,V,4),n.write(ne,j,V,le,23,4),V+4}f.prototype.writeFloatLE=function(j,V,le){return Me(this,j,V,!0,le)},f.prototype.writeFloatBE=function(j,V,le){return Me(this,j,V,!1,le)};function Ve(ne,j,V,le,he){return j=+j,V=V>>>0,he||_e(ne,j,V,8),n.write(ne,j,V,le,52,8),V+8}f.prototype.writeDoubleLE=function(j,V,le){return Ve(this,j,V,!0,le)},f.prototype.writeDoubleBE=function(j,V,le){return Ve(this,j,V,!1,le)},f.prototype.copy=function(j,V,le,he){if(!f.isBuffer(j))throw new TypeError("argument should be a Buffer");if(le||(le=0),!he&&he!==0&&(he=this.length),V>=j.length&&(V=j.length),V||(V=0),he>0&&he<le&&(he=le),he===le||j.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),j.length-V<he-le&&(he=j.length-V+le);const ye=he-le;return this===j&&typeof s.prototype.copyWithin=="function"?this.copyWithin(V,le,he):s.prototype.set.call(j,this.subarray(le,he),V),ye},f.prototype.fill=function(j,V,le,he){if(typeof j=="string"){if(typeof V=="string"?(he=V,V=0,le=this.length):typeof le=="string"&&(he=le,le=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!f.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(j.length===1){const Te=j.charCodeAt(0);(he==="utf8"&&Te<128||he==="latin1")&&(j=Te)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(V<0||this.length<V||this.length<le)throw new RangeError("Out of range index");if(le<=V)return this;V=V>>>0,le=le===void 0?this.length:le>>>0,j||(j=0);let ye;if(typeof j=="number")for(ye=V;ye<le;++ye)this[ye]=j;else{const Te=f.isBuffer(j)?j:f.from(j,he),xt=Te.length;if(xt===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ye=0;ye<le-V;++ye)this[ye+V]=Te[ye%xt]}return this};const We={};function tt(ne,j,V){We[ne]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}tt("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tt("ERR_INVALID_ARG_TYPE",function(ne,j){return`The "${ne}" argument must be of type number. Received type ${typeof j}`},TypeError),tt("ERR_OUT_OF_RANGE",function(ne,j,V){let le=`The value of "${ne}" is out of range.`,he=V;return Number.isInteger(V)&&Math.abs(V)>2**32?he=Yt(String(V)):typeof V=="bigint"&&(he=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(he=Yt(he)),he+="n"),le+=` It must be ${j}. Received ${he}`,le},RangeError);function Yt(ne){let j="",V=ne.length;const le=ne[0]==="-"?1:0;for(;V>=le+4;V-=3)j=`_${ne.slice(V-3,V)}${j}`;return`${ne.slice(0,V)}${j}`}function Dt(ne,j,V){xn(j,"offset"),(ne[j]===void 0||ne[j+V]===void 0)&&Pt(j,ne.length-(V+1))}function Wt(ne,j,V,le,he,ye){if(ne>V||ne<j){const Te=typeof j=="bigint"?"n":"";let xt;throw j===0||j===BigInt(0)?xt=`>= 0${Te} and < 2${Te} ** ${(ye+1)*8}${Te}`:xt=`>= -(2${Te} ** ${(ye+1)*8-1}${Te}) and < 2 ** ${(ye+1)*8-1}${Te}`,new We.ERR_OUT_OF_RANGE("value",xt,ne)}Dt(le,he,ye)}function xn(ne,j){if(typeof ne!="number")throw new We.ERR_INVALID_ARG_TYPE(j,"number",ne)}function Pt(ne,j,V){throw Math.floor(ne)!==ne?(xn(ne,V),new We.ERR_OUT_OF_RANGE("offset","an integer",ne)):j<0?new We.ERR_BUFFER_OUT_OF_BOUNDS:new We.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,ne)}const en=/[^+/0-9A-Za-z-_]/g;function fn(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(en,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function vt(ne,j){j=j||1/0;let V;const le=ne.length;let he=null;const ye=[];for(let Te=0;Te<le;++Te){if(V=ne.charCodeAt(Te),V>55295&&V<57344){if(!he){if(V>56319){(j-=3)>-1&&ye.push(239,191,189);continue}else if(Te+1===le){(j-=3)>-1&&ye.push(239,191,189);continue}he=V;continue}if(V<56320){(j-=3)>-1&&ye.push(239,191,189),he=V;continue}V=(he-55296<<10|V-56320)+65536}else he&&(j-=3)>-1&&ye.push(239,191,189);if(he=null,V<128){if((j-=1)<0)break;ye.push(V)}else if(V<2048){if((j-=2)<0)break;ye.push(V>>6|192,V&63|128)}else if(V<65536){if((j-=3)<0)break;ye.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((j-=4)<0)break;ye.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return ye}function Lt(ne){const j=[];for(let V=0;V<ne.length;++V)j.push(ne.charCodeAt(V)&255);return j}function rn(ne,j){let V,le,he;const ye=[];for(let Te=0;Te<ne.length&&!((j-=2)<0);++Te)V=ne.charCodeAt(Te),le=V>>8,he=V%256,ye.push(he),ye.push(le);return ye}function ft(ne){return e.toByteArray(fn(ne))}function Qt(ne,j,V,le){let he;for(he=0;he<le&&!(he+V>=j.length||he>=ne.length);++he)j[he+V]=ne[he];return he}function wn(ne,j){return ne instanceof j||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===j.name}function Ct(ne){return ne!==ne}const Vt=(function(){const ne="0123456789abcdef",j=new Array(256);for(let V=0;V<16;++V){const le=V*16;for(let he=0;he<16;++he)j[le+he]=ne[V]+ne[he]}return j})();function In(ne){return typeof BigInt>"u"?qt:ne}function qt(){throw new Error("BigInt not supported")}})(Q_);const Jn=Q_.Buffer,Ft=Q_.Buffer;var k2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Fc<"u"?Fc:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sl,jL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,U){function P(){}P.prototype=U.prototype,q.F=U.prototype,q.prototype=new P,q.prototype.constructor=q,q.D=function(z,H,k){for(var S=Array(arguments.length-2),g=2;g<arguments.length;g++)S[g-2]=arguments[g];return U.prototype[H].apply(z,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,U,P){P||(P=0);const z=Array(16);if(typeof U=="string")for(var H=0;H<16;++H)z[H]=U.charCodeAt(P++)|U.charCodeAt(P++)<<8|U.charCodeAt(P++)<<16|U.charCodeAt(P++)<<24;else for(H=0;H<16;++H)z[H]=U[P++]|U[P++]<<8|U[P++]<<16|U[P++]<<24;U=q.g[0],P=q.g[1],H=q.g[2];let k=q.g[3],S;S=U+(k^P&(H^k))+z[0]+3614090360&4294967295,U=P+(S<<7&4294967295|S>>>25),S=k+(H^U&(P^H))+z[1]+3905402710&4294967295,k=U+(S<<12&4294967295|S>>>20),S=H+(P^k&(U^P))+z[2]+606105819&4294967295,H=k+(S<<17&4294967295|S>>>15),S=P+(U^H&(k^U))+z[3]+3250441966&4294967295,P=H+(S<<22&4294967295|S>>>10),S=U+(k^P&(H^k))+z[4]+4118548399&4294967295,U=P+(S<<7&4294967295|S>>>25),S=k+(H^U&(P^H))+z[5]+1200080426&4294967295,k=U+(S<<12&4294967295|S>>>20),S=H+(P^k&(U^P))+z[6]+2821735955&4294967295,H=k+(S<<17&4294967295|S>>>15),S=P+(U^H&(k^U))+z[7]+4249261313&4294967295,P=H+(S<<22&4294967295|S>>>10),S=U+(k^P&(H^k))+z[8]+1770035416&4294967295,U=P+(S<<7&4294967295|S>>>25),S=k+(H^U&(P^H))+z[9]+2336552879&4294967295,k=U+(S<<12&4294967295|S>>>20),S=H+(P^k&(U^P))+z[10]+4294925233&4294967295,H=k+(S<<17&4294967295|S>>>15),S=P+(U^H&(k^U))+z[11]+2304563134&4294967295,P=H+(S<<22&4294967295|S>>>10),S=U+(k^P&(H^k))+z[12]+1804603682&4294967295,U=P+(S<<7&4294967295|S>>>25),S=k+(H^U&(P^H))+z[13]+4254626195&4294967295,k=U+(S<<12&4294967295|S>>>20),S=H+(P^k&(U^P))+z[14]+2792965006&4294967295,H=k+(S<<17&4294967295|S>>>15),S=P+(U^H&(k^U))+z[15]+1236535329&4294967295,P=H+(S<<22&4294967295|S>>>10),S=U+(H^k&(P^H))+z[1]+4129170786&4294967295,U=P+(S<<5&4294967295|S>>>27),S=k+(P^H&(U^P))+z[6]+3225465664&4294967295,k=U+(S<<9&4294967295|S>>>23),S=H+(U^P&(k^U))+z[11]+643717713&4294967295,H=k+(S<<14&4294967295|S>>>18),S=P+(k^U&(H^k))+z[0]+3921069994&4294967295,P=H+(S<<20&4294967295|S>>>12),S=U+(H^k&(P^H))+z[5]+3593408605&4294967295,U=P+(S<<5&4294967295|S>>>27),S=k+(P^H&(U^P))+z[10]+38016083&4294967295,k=U+(S<<9&4294967295|S>>>23),S=H+(U^P&(k^U))+z[15]+3634488961&4294967295,H=k+(S<<14&4294967295|S>>>18),S=P+(k^U&(H^k))+z[4]+3889429448&4294967295,P=H+(S<<20&4294967295|S>>>12),S=U+(H^k&(P^H))+z[9]+568446438&4294967295,U=P+(S<<5&4294967295|S>>>27),S=k+(P^H&(U^P))+z[14]+3275163606&4294967295,k=U+(S<<9&4294967295|S>>>23),S=H+(U^P&(k^U))+z[3]+4107603335&4294967295,H=k+(S<<14&4294967295|S>>>18),S=P+(k^U&(H^k))+z[8]+1163531501&4294967295,P=H+(S<<20&4294967295|S>>>12),S=U+(H^k&(P^H))+z[13]+2850285829&4294967295,U=P+(S<<5&4294967295|S>>>27),S=k+(P^H&(U^P))+z[2]+4243563512&4294967295,k=U+(S<<9&4294967295|S>>>23),S=H+(U^P&(k^U))+z[7]+1735328473&4294967295,H=k+(S<<14&4294967295|S>>>18),S=P+(k^U&(H^k))+z[12]+2368359562&4294967295,P=H+(S<<20&4294967295|S>>>12),S=U+(P^H^k)+z[5]+4294588738&4294967295,U=P+(S<<4&4294967295|S>>>28),S=k+(U^P^H)+z[8]+2272392833&4294967295,k=U+(S<<11&4294967295|S>>>21),S=H+(k^U^P)+z[11]+1839030562&4294967295,H=k+(S<<16&4294967295|S>>>16),S=P+(H^k^U)+z[14]+4259657740&4294967295,P=H+(S<<23&4294967295|S>>>9),S=U+(P^H^k)+z[1]+2763975236&4294967295,U=P+(S<<4&4294967295|S>>>28),S=k+(U^P^H)+z[4]+1272893353&4294967295,k=U+(S<<11&4294967295|S>>>21),S=H+(k^U^P)+z[7]+4139469664&4294967295,H=k+(S<<16&4294967295|S>>>16),S=P+(H^k^U)+z[10]+3200236656&4294967295,P=H+(S<<23&4294967295|S>>>9),S=U+(P^H^k)+z[13]+681279174&4294967295,U=P+(S<<4&4294967295|S>>>28),S=k+(U^P^H)+z[0]+3936430074&4294967295,k=U+(S<<11&4294967295|S>>>21),S=H+(k^U^P)+z[3]+3572445317&4294967295,H=k+(S<<16&4294967295|S>>>16),S=P+(H^k^U)+z[6]+76029189&4294967295,P=H+(S<<23&4294967295|S>>>9),S=U+(P^H^k)+z[9]+3654602809&4294967295,U=P+(S<<4&4294967295|S>>>28),S=k+(U^P^H)+z[12]+3873151461&4294967295,k=U+(S<<11&4294967295|S>>>21),S=H+(k^U^P)+z[15]+530742520&4294967295,H=k+(S<<16&4294967295|S>>>16),S=P+(H^k^U)+z[2]+3299628645&4294967295,P=H+(S<<23&4294967295|S>>>9),S=U+(H^(P|~k))+z[0]+4096336452&4294967295,U=P+(S<<6&4294967295|S>>>26),S=k+(P^(U|~H))+z[7]+1126891415&4294967295,k=U+(S<<10&4294967295|S>>>22),S=H+(U^(k|~P))+z[14]+2878612391&4294967295,H=k+(S<<15&4294967295|S>>>17),S=P+(k^(H|~U))+z[5]+4237533241&4294967295,P=H+(S<<21&4294967295|S>>>11),S=U+(H^(P|~k))+z[12]+1700485571&4294967295,U=P+(S<<6&4294967295|S>>>26),S=k+(P^(U|~H))+z[3]+2399980690&4294967295,k=U+(S<<10&4294967295|S>>>22),S=H+(U^(k|~P))+z[10]+4293915773&4294967295,H=k+(S<<15&4294967295|S>>>17),S=P+(k^(H|~U))+z[1]+2240044497&4294967295,P=H+(S<<21&4294967295|S>>>11),S=U+(H^(P|~k))+z[8]+1873313359&4294967295,U=P+(S<<6&4294967295|S>>>26),S=k+(P^(U|~H))+z[15]+4264355552&4294967295,k=U+(S<<10&4294967295|S>>>22),S=H+(U^(k|~P))+z[6]+2734768916&4294967295,H=k+(S<<15&4294967295|S>>>17),S=P+(k^(H|~U))+z[13]+1309151649&4294967295,P=H+(S<<21&4294967295|S>>>11),S=U+(H^(P|~k))+z[4]+4149444226&4294967295,U=P+(S<<6&4294967295|S>>>26),S=k+(P^(U|~H))+z[11]+3174756917&4294967295,k=U+(S<<10&4294967295|S>>>22),S=H+(U^(k|~P))+z[2]+718787259&4294967295,H=k+(S<<15&4294967295|S>>>17),S=P+(k^(H|~U))+z[9]+3951481745&4294967295,q.g[0]=q.g[0]+U&4294967295,q.g[1]=q.g[1]+(H+(S<<21&4294967295|S>>>11))&4294967295,q.g[2]=q.g[2]+H&4294967295,q.g[3]=q.g[3]+k&4294967295}r.prototype.v=function(q,U){U===void 0&&(U=q.length);const P=U-this.blockSize,z=this.C;let H=this.h,k=0;for(;k<U;){if(H==0)for(;k<=P;)i(this,q,k),k+=this.blockSize;if(typeof q=="string"){for(;k<U;)if(z[H++]=q.charCodeAt(k++),H==this.blockSize){i(this,z),H=0;break}}else for(;k<U;)if(z[H++]=q[k++],H==this.blockSize){i(this,z),H=0;break}}this.h=H,this.o+=U},r.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var U=1;U<q.length-8;++U)q[U]=0;U=this.o*8;for(var P=q.length-8;P<q.length;++P)q[P]=U&255,U/=256;for(this.v(q),q=Array(16),U=0,P=0;P<4;++P)for(let z=0;z<32;z+=8)q[U++]=this.g[P]>>>z&255;return q};function s(q,U){var P=l;return Object.prototype.hasOwnProperty.call(P,q)?P[q]:P[q]=U(q)}function o(q,U){this.h=U;const P=[];let z=!0;for(let H=q.length-1;H>=0;H--){const k=q[H]|0;z&&k==U||(P[H]=k,z=!1)}this.g=P}var l={};function u(q){return-128<=q&&q<128?s(q,function(U){return new o([U|0],U<0?-1:0)}):new o([q|0],q<0?-1:0)}function d(q){if(isNaN(q)||!isFinite(q))return p;if(q<0)return E(d(-q));const U=[];let P=1;for(let z=0;q>=P;z++)U[z]=q/P|0,P*=4294967296;return new o(U,0)}function f(q,U){if(q.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(q.charAt(0)=="-")return E(f(q.substring(1),U));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(U,8));let z=p;for(let k=0;k<q.length;k+=8){var H=Math.min(8,q.length-k);const S=parseInt(q.substring(k,k+H),U);H<8?(H=d(Math.pow(U,H)),z=z.j(H).add(d(S))):(z=z.j(P),z=z.add(d(S)))}return z}var p=u(0),v=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let q=0,U=1;for(let P=0;P<this.g.length;P++){const z=this.i(P);q+=(z>=0?z:4294967296+z)*U,U*=4294967296}return q},t.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(T(this))return"0";if(_(this))return"-"+E(this).toString(q);const U=d(Math.pow(q,6));var P=this;let z="";for(;;){const H=Z(P,U).g;P=N(P,H.j(U));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(q);if(P=H,T(P))return k+z;for(;k.length<6;)k="0"+k;z=k+z}},t.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function T(q){if(q.h!=0)return!1;for(let U=0;U<q.g.length;U++)if(q.g[U]!=0)return!1;return!0}function _(q){return q.h==-1}t.l=function(q){return q=N(this,q),_(q)?-1:T(q)?0:1};function E(q){const U=q.g.length,P=[];for(let z=0;z<U;z++)P[z]=~q.g[z];return new o(P,~q.h).add(v)}t.abs=function(){return _(this)?E(this):this},t.add=function(q){const U=Math.max(this.g.length,q.g.length),P=[];let z=0;for(let H=0;H<=U;H++){let k=z+(this.i(H)&65535)+(q.i(H)&65535),S=(k>>>16)+(this.i(H)>>>16)+(q.i(H)>>>16);z=S>>>16,k&=65535,S&=65535,P[H]=S<<16|k}return new o(P,P[P.length-1]&-2147483648?-1:0)};function N(q,U){return q.add(E(U))}t.j=function(q){if(T(this)||T(q))return p;if(_(this))return _(q)?E(this).j(E(q)):E(E(this).j(q));if(_(q))return E(this.j(E(q)));if(this.l(x)<0&&q.l(x)<0)return d(this.m()*q.m());const U=this.g.length+q.g.length,P=[];for(var z=0;z<2*U;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(let H=0;H<q.g.length;H++){const k=this.i(z)>>>16,S=this.i(z)&65535,g=q.i(H)>>>16,I=q.i(H)&65535;P[2*z+2*H]+=S*I,L(P,2*z+2*H),P[2*z+2*H+1]+=k*I,L(P,2*z+2*H+1),P[2*z+2*H+1]+=S*g,L(P,2*z+2*H+1),P[2*z+2*H+2]+=k*g,L(P,2*z+2*H+2)}for(q=0;q<U;q++)P[q]=P[2*q+1]<<16|P[2*q];for(q=U;q<2*U;q++)P[q]=0;return new o(P,0)};function L(q,U){for(;(q[U]&65535)!=q[U];)q[U+1]+=q[U]>>>16,q[U]&=65535,U++}function M(q,U){this.g=q,this.h=U}function Z(q,U){if(T(U))throw Error("division by zero");if(T(q))return new M(p,p);if(_(q))return U=Z(E(q),U),new M(E(U.g),E(U.h));if(_(U))return U=Z(q,E(U)),new M(E(U.g),U.h);if(q.g.length>30){if(_(q)||_(U))throw Error("slowDivide_ only works with positive integers.");for(var P=v,z=U;z.l(q)<=0;)P=J(P),z=J(z);var H=re(P,1),k=re(z,1);for(z=re(z,2),P=re(P,2);!T(z);){var S=k.add(z);S.l(q)<=0&&(H=H.add(P),k=S),z=re(z,1),P=re(P,1)}return U=N(q,H.j(U)),new M(H,U)}for(H=p;q.l(U)>=0;){for(P=Math.max(1,Math.floor(q.m()/U.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),k=d(P),S=k.j(U);_(S)||S.l(q)>0;)P-=z,k=d(P),S=k.j(U);T(k)&&(k=v),H=H.add(k),q=N(q,S)}return new M(H,q)}t.B=function(q){return Z(this,q).h},t.and=function(q){const U=Math.max(this.g.length,q.g.length),P=[];for(let z=0;z<U;z++)P[z]=this.i(z)&q.i(z);return new o(P,this.h&q.h)},t.or=function(q){const U=Math.max(this.g.length,q.g.length),P=[];for(let z=0;z<U;z++)P[z]=this.i(z)|q.i(z);return new o(P,this.h|q.h)},t.xor=function(q){const U=Math.max(this.g.length,q.g.length),P=[];for(let z=0;z<U;z++)P[z]=this.i(z)^q.i(z);return new o(P,this.h^q.h)};function J(q){const U=q.g.length+1,P=[];for(let z=0;z<U;z++)P[z]=q.i(z)<<1|q.i(z-1)>>>31;return new o(P,q.h)}function re(q,U){const P=U>>5;U%=32;const z=q.g.length-P,H=[];for(let k=0;k<z;k++)H[k]=U>0?q.i(k+P)>>>U|q.i(k+P+1)<<32-U:q.i(k+P);return new o(H,q.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Sl=o}).apply(typeof k2<"u"?k2:typeof self<"u"?self:typeof window<"u"?window:{});var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Fc<"u"?Fc:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BL,oh,FL,Dg,Lb,VL,UL,zL;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof rg=="object"&&rg];for(var B=0;B<m.length;++B){var G=m[B];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(m,B){if(B)e:{var G=r;m=m.split(".");for(var oe=0;oe<m.length-1;oe++){var be=m[oe];if(!(be in G))break e;G=G[be]}m=m[m.length-1],oe=G[m],B=B(oe),B!=oe&&B!=null&&e(G,m,{configurable:!0,writable:!0,value:B})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(B){var G=[],oe;for(oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&G.push([oe,B[oe]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(m){var B=typeof m;return B=="object"&&m!=null||B=="function"}function u(m,B,G){return m.call.apply(m.bind,arguments)}function d(m,B,G){return d=u,d.apply(null,arguments)}function f(m,B){var G=Array.prototype.slice.call(arguments,1);return function(){var oe=G.slice();return oe.push.apply(oe,arguments),m.apply(this,oe)}}function p(m,B){function G(){}G.prototype=B.prototype,m.Z=B.prototype,m.prototype=new G,m.prototype.constructor=m,m.Ob=function(oe,be,Re){for(var Ue=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ue[Nt-2]=arguments[Nt];return B.prototype[be].apply(oe,Ue)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const B=m.length;if(B>0){const G=Array(B);for(let oe=0;oe<B;oe++)G[oe]=m[oe];return G}return[]}function T(m,B){for(let oe=1;oe<arguments.length;oe++){const be=arguments[oe];var G=typeof be;if(G=G!="object"?G:be?Array.isArray(be)?"array":G:"null",G=="array"||G=="object"&&typeof be.length=="number"){G=m.length||0;const Re=be.length||0;m.length=G+Re;for(let Ue=0;Ue<Re;Ue++)m[G+Ue]=be[Ue]}else m.push(be)}}class _{constructor(B,G){this.i=B,this.j=G,this.h=0,this.g=null}get(){let B;return this.h>0?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function E(m){o.setTimeout(()=>{throw m},0)}function N(){var m=q;let B=null;return m.g&&(B=m.g,m.g=m.g.next,m.g||(m.h=null),B.next=null),B}class L{constructor(){this.h=this.g=null}add(B,G){const oe=M.get();oe.set(B,G),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var M=new _(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(B,G){this.h=B,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let J,re=!1,q=new L,U=()=>{const m=Promise.resolve(void 0);J=()=>{m.then(P)}};function P(){for(var m;m=N();){try{m.h.call(m.g)}catch(G){E(G)}var B=M;B.j(m),B.h<100&&(B.h++,m.next=B.g,B.g=m)}re=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,B){this.type=m,this.g=this.target=B,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,B=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const G=()=>{};o.addEventListener("test",G,B),o.removeEventListener("test",G,B)}catch{}return m})();function S(m){return/^[\s\xa0]*$/.test(m)}function g(m,B){H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,B)}p(g,H),g.prototype.init=function(m,B){const G=this.type=m.type,oe=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=B,B=m.relatedTarget,B||(G=="mouseover"?B=m.fromElement:G=="mouseout"&&(B=m.toElement)),this.relatedTarget=B,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&g.Z.h.call(this)},g.prototype.h=function(){g.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var I="closure_listenable_"+(Math.random()*1e6|0),W=0;function Y(m,B,G,oe,be){this.listener=m,this.proxy=null,this.src=B,this.type=G,this.capture=!!oe,this.ha=be,this.key=++W,this.da=this.fa=!1}function K(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function X(m,B,G){for(const oe in m)B.call(G,m[oe],oe,m)}function se(m,B){for(const G in m)B.call(void 0,m[G],G,m)}function $(m){const B={};for(const G in m)B[G]=m[G];return B}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,B){let G,oe;for(let be=1;be<arguments.length;be++){oe=arguments[be];for(G in oe)m[G]=oe[G];for(let Re=0;Re<b.length;Re++)G=b[Re],Object.prototype.hasOwnProperty.call(oe,G)&&(m[G]=oe[G])}}function Q(m){this.src=m,this.g={},this.h=0}Q.prototype.add=function(m,B,G,oe,be){const Re=m.toString();m=this.g[Re],m||(m=this.g[Re]=[],this.h++);const Ue=ue(m,B,oe,be);return Ue>-1?(B=m[Ue],G||(B.fa=!1)):(B=new Y(B,this.src,Re,!!oe,be),B.fa=G,m.push(B)),B};function ie(m,B){const G=B.type;if(G in m.g){var oe=m.g[G],be=Array.prototype.indexOf.call(oe,B,void 0),Re;(Re=be>=0)&&Array.prototype.splice.call(oe,be,1),Re&&(K(B),m.g[G].length==0&&(delete m.g[G],m.h--))}}function ue(m,B,G,oe){for(let be=0;be<m.length;++be){const Re=m[be];if(!Re.da&&Re.listener==B&&Re.capture==!!G&&Re.ha==oe)return be}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),_e={};function Me(m,B,G,oe,be){if(Array.isArray(B)){for(let Re=0;Re<B.length;Re++)Me(m,B[Re],G,oe,be);return null}return G=en(G),m&&m[I]?m.J(B,G,l(oe)?!!oe.capture:!1,be):Ve(m,B,G,!1,oe,be)}function Ve(m,B,G,oe,be,Re){if(!B)throw Error("Invalid event type");const Ue=l(be)?!!be.capture:!!be;let Nt=xn(m);if(Nt||(m[ce]=Nt=new Q(m)),G=Nt.add(B,G,oe,Ue,Re),G.proxy)return G;if(oe=We(),G.proxy=oe,oe.src=m,oe.listener=G,m.addEventListener)k||(be=Ue),be===void 0&&(be=!1),m.addEventListener(B.toString(),oe,be);else if(m.attachEvent)m.attachEvent(Dt(B.toString()),oe);else if(m.addListener&&m.removeListener)m.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return G}function We(){function m(G){return B.call(m.src,m.listener,G)}const B=Wt;return m}function tt(m,B,G,oe,be){if(Array.isArray(B))for(var Re=0;Re<B.length;Re++)tt(m,B[Re],G,oe,be);else oe=l(oe)?!!oe.capture:!!oe,G=en(G),m&&m[I]?(m=m.i,Re=String(B).toString(),Re in m.g&&(B=m.g[Re],G=ue(B,G,oe,be),G>-1&&(K(B[G]),Array.prototype.splice.call(B,G,1),B.length==0&&(delete m.g[Re],m.h--)))):m&&(m=xn(m))&&(B=m.g[B.toString()],m=-1,B&&(m=ue(B,G,oe,be)),(G=m>-1?B[m]:null)&&Yt(G))}function Yt(m){if(typeof m!="number"&&m&&!m.da){var B=m.src;if(B&&B[I])ie(B.i,m);else{var G=m.type,oe=m.proxy;B.removeEventListener?B.removeEventListener(G,oe,m.capture):B.detachEvent?B.detachEvent(Dt(G),oe):B.addListener&&B.removeListener&&B.removeListener(oe),(G=xn(B))?(ie(G,m),G.h==0&&(G.src=null,B[ce]=null)):K(m)}}}function Dt(m){return m in _e?_e[m]:_e[m]="on"+m}function Wt(m,B){if(m.da)m=!0;else{B=new g(B,this);const G=m.listener,oe=m.ha||m.src;m.fa&&Yt(m),m=G.call(oe,B)}return m}function xn(m){return m=m[ce],m instanceof Q?m:null}var Pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(m){return typeof m=="function"?m:(m[Pt]||(m[Pt]=function(B){return m.handleEvent(B)}),m[Pt])}function fn(){z.call(this),this.i=new Q(this),this.M=this,this.G=null}p(fn,z),fn.prototype[I]=!0,fn.prototype.removeEventListener=function(m,B,G,oe){tt(this,m,B,G,oe)};function vt(m,B){var G,oe=m.G;if(oe)for(G=[];oe;oe=oe.G)G.push(oe);if(m=m.M,oe=B.type||B,typeof B=="string")B=new H(B,m);else if(B instanceof H)B.target=B.target||m;else{var be=B;B=new H(oe,m),R(B,be)}be=!0;let Re,Ue;if(G)for(Ue=G.length-1;Ue>=0;Ue--)Re=B.g=G[Ue],be=Lt(Re,oe,!0,B)&&be;if(Re=B.g=m,be=Lt(Re,oe,!0,B)&&be,be=Lt(Re,oe,!1,B)&&be,G)for(Ue=0;Ue<G.length;Ue++)Re=B.g=G[Ue],be=Lt(Re,oe,!1,B)&&be}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var m=this.i;for(const B in m.g){const G=m.g[B];for(let oe=0;oe<G.length;oe++)K(G[oe]);delete m.g[B],m.h--}}this.G=null},fn.prototype.J=function(m,B,G,oe){return this.i.add(String(m),B,!1,G,oe)},fn.prototype.K=function(m,B,G,oe){return this.i.add(String(m),B,!0,G,oe)};function Lt(m,B,G,oe){if(B=m.i.g[String(B)],!B)return!0;B=B.concat();let be=!0;for(let Re=0;Re<B.length;++Re){const Ue=B[Re];if(Ue&&!Ue.da&&Ue.capture==G){const Nt=Ue.listener,Xn=Ue.ha||Ue.src;Ue.fa&&ie(m.i,Ue),be=Nt.call(Xn,oe)!==!1&&be}}return be&&!oe.defaultPrevented}function rn(m,B){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(B)>2147483647?-1:o.setTimeout(m,B||0)}function ft(m){m.g=rn(()=>{m.g=null,m.i&&(m.i=!1,ft(m))},m.l);const B=m.h;m.h=null,m.m.apply(null,B)}class Qt extends z{constructor(B,G){super(),this.m=B,this.l=G,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(m){z.call(this),this.h=m,this.g={}}p(wn,z);var Ct=[];function Vt(m){X(m.g,function(B,G){this.g.hasOwnProperty(G)&&Yt(B)},m),m.g={}}wn.prototype.N=function(){wn.Z.N.call(this),Vt(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=o.JSON.stringify,qt=o.JSON.parse,ne=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function j(){}function V(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){H.call(this,"d")}p(he,H);function ye(){H.call(this,"c")}p(ye,H);var Te={},xt=null;function it(){return xt=xt||new fn}Te.Ia="serverreachability";function at(m){H.call(this,Te.Ia,m)}p(at,H);function jt(m){const B=it();vt(B,new at(B))}Te.STAT_EVENT="statevent";function Je(m,B){H.call(this,Te.STAT_EVENT,m),this.stat=B}p(Je,H);function ht(m){const B=it();vt(B,new Je(B,m))}Te.Ja="timingevent";function yn(m,B){H.call(this,Te.Ja,m),this.size=B}p(yn,H);function Xt(m,B){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},B)}function $e(){this.g=!0}$e.prototype.ua=function(){this.g=!1};function Rt(m,B,G,oe,be,Re){m.info(function(){if(m.g)if(Re){var Ue="",Nt=Re.split("&");for(let pn=0;pn<Nt.length;pn++){var Xn=Nt[pn].split("=");if(Xn.length>1){const sr=Xn[0];Xn=Xn[1];const Oi=sr.split("_");Ue=Oi.length>=2&&Oi[1]=="type"?Ue+(sr+"="+Xn+"&"):Ue+(sr+"=redacted&")}}}else Ue=null;else Ue=Re;return"XMLHTTP REQ ("+oe+") [attempt "+be+"]: "+B+`
`+G+`
`+Ue})}function pt(m,B,G,oe,be,Re,Ue){m.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+be+"]: "+B+`
`+G+`
`+Re+" "+Ue})}function ee(m,B,G,oe){m.info(function(){return"XMLHTTP TEXT ("+B+"): "+F(m,G)+(oe?" "+oe:"")})}function D(m,B){m.info(function(){return"TIMEOUT: "+B})}$e.prototype.info=function(){};function F(m,B){if(!m.g)return B;if(!B)return null;try{const Re=JSON.parse(B);if(Re){for(m=0;m<Re.length;m++)if(Array.isArray(Re[m])){var G=Re[m];if(!(G.length<2)){var oe=G[1];if(Array.isArray(oe)&&!(oe.length<1)){var be=oe[0];if(be!="noop"&&be!="stop"&&be!="close")for(let Ue=1;Ue<oe.length;Ue++)oe[Ue]=""}}}}return In(Re)}catch{return B}}var ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},we;function Ce(){}p(Ce,j),Ce.prototype.g=function(){return new XMLHttpRequest},we=new Ce;function bt(m){return encodeURIComponent(String(m))}function Et(m){var B=1;m=m.split(":");const G=[];for(;B>0&&m.length;)G.push(m.shift()),B--;return m.length&&G.push(m.join(":")),G}function st(m,B,G,oe){this.j=m,this.i=B,this.l=G,this.S=oe||1,this.V=new wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var dt={},bn={};function wi(m,B,G){m.M=1,m.A=Do(Ki(B)),m.u=G,m.R=!0,En(m,null)}function En(m,B){m.F=Date.now(),fs(m),m.B=Ki(m.A);var G=m.B,oe=m.S;Array.isArray(oe)||(oe=[String(oe)]),Ef(G.i,"t",oe),m.C=0,G=m.j.L,m.h=new un,m.g=em(m.j,G?B:null,!m.u),m.P>0&&(m.O=new Qt(d(m.Y,m,m.g),m.P)),B=m.V,G=m.g,oe=m.ba;var be="readystatechange";Array.isArray(be)||(be&&(Ct[0]=be.toString()),be=Ct);for(let Re=0;Re<be.length;Re++){const Ue=Me(G,be[Re],oe||B.handleEvent,!1,B.h||B);if(!Ue)break;B.g[Ue.key]=Ue}B=m.J?$(m.J):{},m.u?(m.v||(m.v="POST"),B["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,B)):(m.v="GET",m.g.ea(m.B,m.v,null,B)),jt(),Rt(m.i,m.v,m.B,m.l,m.S,m.u)}st.prototype.ba=function(m){m=m.target;const B=this.O;B&&Qs(m)==3?B.j():this.Y(m)},st.prototype.Y=function(m){try{if(m==this.g)e:{const Nt=Qs(this.g),Xn=this.g.ya(),pn=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Zp(this.g)))){this.K||Nt!=4||Xn==7||(Xn==8||pn<=0?jt(3):jt(2)),zs(this);var B=this.g.ca();this.X=B;var G=Cn(this);if(this.o=B==200,pt(this.i,this.v,this.B,this.l,this.S,Nt,B),this.o){if(this.U&&!this.L){t:{if(this.g){var oe,be=this.g;if((oe=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(oe)){var Re=oe;break t}}Re=null}if(m=Re)ee(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hn(this,m);else{this.o=!1,this.m=3,ht(12),ki(this),hs(this);break e}}if(this.R){m=!0;let sr;for(;!this.K&&this.C<G.length;)if(sr=Ra(this,G),sr==bn){Nt==4&&(this.m=4,ht(14),m=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==dt){this.m=4,ht(15),ee(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else ee(this.i,this.l,sr,null),hn(this,sr);if(Ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||G.length!=0||this.h.h||(this.m=1,ht(16),m=!1),this.o=this.o&&m,!m)ee(this.i,this.l,G,"[Invalid Chunked Response]"),ki(this),hs(this);else if(G.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Gl(Ue),Ue.P=!0,ht(11))}}else ee(this.i,this.l,G,null),hn(this,G);Nt==4&&ki(this),this.o&&!this.K&&(Nt==4?xu(this.j,this):(this.o=!1,fs(this)))}else Sf(this.g),B==400&&G.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),ki(this),hs(this)}}}catch{}finally{}};function Cn(m){if(!Ca(m))return m.g.la();const B=Zp(m.g);if(B==="")return"";let G="";const oe=B.length,be=Qs(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ki(m),hs(m),"";m.h.i=new o.TextDecoder}for(let Re=0;Re<oe;Re++)m.h.h=!0,G+=m.h.i.decode(B[Re],{stream:!(be&&Re==oe-1)});return B.length=0,m.h.g+=G,m.C=0,m.h.g}function Ca(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ra(m,B){var G=m.C,oe=B.indexOf(`
`,G);return oe==-1?bn:(G=Number(B.substring(G,oe)),isNaN(G)?dt:(oe+=1,oe+G>B.length?bn:(B=B.slice(oe,oe+G),m.C=oe+G,B)))}st.prototype.cancel=function(){this.K=!0,ki(this)};function fs(m){m.T=Date.now()+m.H,ko(m,m.H)}function ko(m,B){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Xt(d(m.aa,m),B)}function zs(m){m.D&&(o.clearTimeout(m.D),m.D=null)}st.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(D(this.i,this.B),this.M!=2&&(jt(),ht(17)),ki(this),this.m=2,hs(this)):ko(this,this.T-m)};function hs(m){m.j.I==0||m.K||xu(m.j,m)}function ki(m){zs(m);var B=m.O;B&&typeof B.dispose=="function"&&B.dispose(),m.O=null,Vt(m.V),m.g&&(B=m.g,m.g=null,B.abort(),B.dispose())}function hn(m,B){try{var G=m.j;if(G.I!=0&&(G.g==m||Lo(G.h,m))){if(!m.L&&Lo(G.h,m)&&G.I==3){try{var oe=G.Ba.g.parse(B)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var be=oe;if(be[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<m.F)vu(G),Li(G);else break e;Js(G),ht(18)}}else G.xa=be[1],0<G.xa-G.K&&be[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=Xt(d(G.Va,G),6e3));ps(G.h)<=1&&G.ta&&(G.ta=void 0)}else Di(G,11)}else if((m.L||G.g==m)&&vu(G),!S(B))for(be=G.Ba.g.parse(B),B=0;B<be.length;B++){let pn=be[B];const sr=pn[0];if(!(sr<=G.K))if(G.K=sr,pn=pn[1],G.I==2)if(pn[0]=="c"){G.M=pn[1],G.ba=pn[2];const Oi=pn[3];Oi!=null&&(G.ka=Oi,G.j.info("VER="+G.ka));const Vo=pn[4];Vo!=null&&(G.za=Vo,G.j.info("SVER="+G.za));const eo=pn[5];eo!=null&&typeof eo=="number"&&eo>0&&(oe=1.5*eo,G.O=oe,G.j.info("backChannelRequestTimeoutMs_="+oe)),oe=G;const to=m.g;if(to){const _u=to.g?to.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var Re=oe.h;Re.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&($s(Re,Re.h),Re.h=null))}if(oe.G){const If=to.g?to.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(oe.wa=If,ln(oe.J,oe.G,If))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-m.F,G.j.info("Handshake RTT: "+G.T+"ms")),oe=G;var Ue=m;if(oe.na=Af(oe,oe.L?oe.ba:null,oe.W),Ue.L){ms(oe.h,Ue);var Nt=Ue,Xn=oe.O;Xn&&(Nt.H=Xn),Nt.D&&(zs(Nt),fs(Nt)),oe.g=Ue}else Kr(oe);G.i.length>0&&Fo(G)}else pn[0]!="stop"&&pn[0]!="close"||Di(G,7);else G.I==3&&(pn[0]=="stop"||pn[0]=="close"?pn[0]=="stop"?Di(G,7):yu(G):pn[0]!="noop"&&G.l&&G.l.qa(pn),G.A=0)}}jt(4)}catch{}}var Ul=class{constructor(m,B){this.g=m,this.map=B}};function Ws(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ps(m){return m.h?1:m.g?m.g.size:0}function Lo(m,B){return m.h?m.h==B:m.g?m.g.has(B):!1}function $s(m,B){m.g?m.g.add(B):m.h=B}function ms(m,B){m.h&&m.h==B?m.h=null:m.g&&m.g.has(B)&&m.g.delete(B)}Ws.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function kr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let B=m.i;for(const G of m.g.values())B=B.concat(G.G);return B}return x(m.i)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pr(m,B){if(m){m=m.split("&");for(let G=0;G<m.length;G++){const oe=m[G].indexOf("=");let be,Re=null;oe>=0?(be=m[G].substring(0,oe),Re=m[G].substring(oe+1)):be=m[G],B(be,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function vi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let B;m instanceof vi?(this.l=m.l,zl(this,m.j),this.o=m.o,this.g=m.g,qs(this,m.u),this.h=m.h,Na(this,_f(m.i)),this.m=m.m):m&&(B=String(m).match(Ma))?(this.l=!1,zl(this,B[1]||"",!0),this.o=Wl(B[2]||""),this.g=Wl(B[3]||"",!0),qs(this,B[4]),this.h=Wl(B[5]||"",!0),Na(this,B[6]||"",!0),this.m=Wl(B[7]||"")):(this.l=!1,this.i=new Zt(null,this.l))}vi.prototype.toString=function(){const m=[];var B=this.j;B&&m.push($l(B,yf,!0),":");var G=this.g;return(G||B=="file")&&(m.push("//"),(B=this.o)&&m.push($l(B,yf,!0),"@"),m.push(bt(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&m.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&m.push("/"),m.push($l(G,G.charAt(0)=="/"?ql:wf,!0))),(G=this.i.toString())&&m.push("?",G),(G=this.m)&&m.push("#",$l(G,vf)),m.join("")},vi.prototype.resolve=function(m){const B=Ki(this);let G=!!m.j;G?zl(B,m.j):G=!!m.o,G?B.o=m.o:G=!!m.g,G?B.g=m.g:G=m.u!=null;var oe=m.h;if(G)qs(B,m.u);else if(G=!!m.h){if(oe.charAt(0)!="/")if(this.g&&!this.h)oe="/"+oe;else{var be=B.h.lastIndexOf("/");be!=-1&&(oe=B.h.slice(0,be+1)+oe)}if(be=oe,be==".."||be==".")oe="";else if(be.indexOf("./")!=-1||be.indexOf("/.")!=-1){oe=be.lastIndexOf("/",0)==0,be=be.split("/");const Re=[];for(let Ue=0;Ue<be.length;){const Nt=be[Ue++];Nt=="."?oe&&Ue==be.length&&Re.push(""):Nt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),oe&&Ue==be.length&&Re.push("")):(Re.push(Nt),oe=!0)}oe=Re.join("/")}else oe=be}return G?B.h=oe:G=m.i.toString()!=="",G?Na(B,_f(m.i)):G=!!m.m,G&&(B.m=m.m),B};function Ki(m){return new vi(m)}function zl(m,B,G){m.j=G?Wl(B,!0):B,m.j&&(m.j=m.j.replace(/:$/,""))}function qs(m,B){if(B){if(B=Number(B),isNaN(B)||B<0)throw Error("Bad port number "+B);m.u=B}else m.u=null}function Na(m,B,G){B instanceof Zt?(m.i=B,pu(m.i,m.l)):(G||(B=$l(B,kw)),m.i=new Zt(B,m.l))}function ln(m,B,G){m.i.set(B,G)}function Do(m){return ln(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Wl(m,B){return m?B?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function $l(m,B,G){return typeof m=="string"?(m=encodeURI(m).replace(B,gf),G&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function gf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yf=/[#\/\?@]/g,wf=/[#\?:]/g,ql=/[#\?]/g,kw=/[#\?@]/g,vf=/#/g;function Zt(m,B){this.h=this.g=null,this.i=m||null,this.j=!!B}function Hs(m){m.g||(m.g=new Map,m.h=0,m.i&&Pr(m.i,function(B,G){m.add(decodeURIComponent(B.replace(/\+/g," ")),G)}))}t=Zt.prototype,t.add=function(m,B){Hs(this),this.i=null,m=Ks(this,m);let G=this.g.get(m);return G||this.g.set(m,G=[]),G.push(B),this.h+=1,this};function xf(m,B){Hs(m),B=Ks(m,B),m.g.has(B)&&(m.i=null,m.h-=m.g.get(B).length,m.g.delete(B))}function hu(m,B){return Hs(m),B=Ks(m,B),m.g.has(B)}t.forEach=function(m,B){Hs(this),this.g.forEach(function(G,oe){G.forEach(function(be){m.call(B,be,oe,this)},this)},this)};function bf(m,B){Hs(m);let G=[];if(typeof B=="string")hu(m,B)&&(G=G.concat(m.g.get(Ks(m,B))));else for(m=Array.from(m.g.values()),B=0;B<m.length;B++)G=G.concat(m[B]);return G}t.set=function(m,B){return Hs(this),this.i=null,m=Ks(this,m),hu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[B]),this.h+=1,this},t.get=function(m,B){return m?(m=bf(this,m),m.length>0?String(m[0]):B):B};function Ef(m,B,G){xf(m,B),G.length>0&&(m.i=null,m.g.set(Ks(m,B),x(G)),m.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],B=Array.from(this.g.keys());for(let oe=0;oe<B.length;oe++){var G=B[oe];const be=bt(G);G=bf(this,G);for(let Re=0;Re<G.length;Re++){let Ue=be;G[Re]!==""&&(Ue+="="+bt(G[Re])),m.push(Ue)}}return this.i=m.join("&")};function _f(m){const B=new Zt;return B.i=m.i,m.g&&(B.g=new Map(m.g),B.h=m.h),B}function Ks(m,B){return B=String(B),m.j&&(B=B.toLowerCase()),B}function pu(m,B){B&&!m.j&&(Hs(m),m.i=null,m.g.forEach(function(G,oe){const be=oe.toLowerCase();oe!=be&&(xf(this,oe),Ef(this,be,G))},m)),m.j=B}function Gs(m,B){const G=new $e;if(o.Image){const oe=new Image;oe.onload=f(Lr,G,"TestLoadImage: loaded",!0,B,oe),oe.onerror=f(Lr,G,"TestLoadImage: error",!1,B,oe),oe.onabort=f(Lr,G,"TestLoadImage: abort",!1,B,oe),oe.ontimeout=f(Lr,G,"TestLoadImage: timeout",!1,B,oe),o.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=m}else B(!1)}function Ys(m,B){const G=new $e,oe=new AbortController,be=setTimeout(()=>{oe.abort(),Lr(G,"TestPingServer: timeout",!1,B)},1e4);fetch(m,{signal:oe.signal}).then(Re=>{clearTimeout(be),Re.ok?Lr(G,"TestPingServer: ok",!0,B):Lr(G,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(be),Lr(G,"TestPingServer: error",!1,B)})}function Lr(m,B,G,oe,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),oe(G)}catch{}}function Hl(){this.g=new ne}function Oo(m){this.i=m.Sb||null,this.h=m.ab||!1}p(Oo,j),Oo.prototype.g=function(){return new Pi(this.i,this.h)};function Pi(m,B){fn.call(this),this.H=m,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Pi,fn),t=Pi.prototype,t.open=function(m,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=B,this.readyState=1,gs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const B={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(B.body=m),(this.H||o).fetch(new Request(this.D,B)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yp(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yp(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var B=m.value?m.value:new Uint8Array(0);(B=this.B.decode(B,{stream:!m.done}))&&(this.response=this.responseText+=B)}m.done?ka(this):gs(this),this.readyState==3&&Yp(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ka(this))},t.Na=function(m){this.g&&(this.response=m,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(m){m.readyState=4,m.l=null,m.j=null,m.B=null,gs(m)}t.setRequestHeader=function(m,B){this.A.append(m,B)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],B=this.h.entries();for(var G=B.next();!G.done;)G=G.value,m.push(G[0]+": "+G[1]),G=B.next();return m.join(`\r
`)};function gs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Qp(m){let B="";return X(m,function(G,oe){B+=oe,B+=":",B+=G,B+=`\r
`}),B}function mu(m,B,G){e:{for(oe in G){var oe=!1;break e}oe=!0}oe||(G=Qp(G),typeof m=="string"?G!=null&&bt(G):ln(m,B,G))}function vn(m){fn.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(vn,fn);var Xp=/^https?$/i,Pw=["POST","PUT"];t=vn.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,B,G,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);B=B?B.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():we.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(B,String(m),!0),this.B=!1}catch(Re){Pa(this,Re);return}if(m=G||"",G=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var be in oe)G.set(be,oe[be]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const Re of oe.keys())G.set(Re,oe.get(Re));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(G.keys()).find(Re=>Re.toLowerCase()=="content-type"),be=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(Pw,B,void 0)>=0)||oe||be||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Ue]of G)this.g.setRequestHeader(Re,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Re){Pa(this,Re)}};function Pa(m,B){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=B,m.o=5,La(m),Bo(m)}function La(m){m.A||(m.A=!0,vt(m,"complete"),vt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,vt(this,"complete"),vt(this,"abort"),Bo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bo(this,!0)),vn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jo(this):this.Xa())},t.Xa=function(){jo(this)};function jo(m){if(m.h&&typeof s<"u"){if(m.v&&Qs(m)==4)setTimeout(m.Ca.bind(m),0);else if(vt(m,"readystatechange"),Qs(m)==4){m.h=!1;try{const Re=m.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var G;if(!(G=B)){var oe;if(oe=Re===0){let Ue=String(m.D).match(Ma)[1]||null;!Ue&&o.self&&o.self.location&&(Ue=o.self.location.protocol.slice(0,-1)),oe=!Xp.test(Ue?Ue.toLowerCase():"")}G=oe}if(G)vt(m,"complete"),vt(m,"success");else{m.o=6;try{var be=Qs(m)>2?m.g.statusText:""}catch{be=""}m.l=be+" ["+m.ca()+"]",La(m)}}finally{Bo(m)}}}}function Bo(m,B){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const G=m.g;m.g=null,B||vt(m,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qs(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Qs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var B=this.g.responseText;return m&&B.indexOf(m)==0&&(B=B.substring(m.length)),qt(B)}};function Zp(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(m){const B={};m=(m.g&&Qs(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<m.length;oe++){if(S(m[oe]))continue;var G=Et(m[oe]);const be=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Re=B[be]||[];B[be]=Re,Re.push(G)}se(B,function(oe){return oe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(m,B,G){return G&&G.internalChannelParams&&G.internalChannelParams[m]||B}function gu(m){this.za=0,this.i=[],this.j=new $e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xs("baseRetryDelayMs",5e3,m),this.Za=Xs("retryDelaySeedMs",1e4,m),this.Ta=Xs("forwardChannelMaxRetries",2,m),this.va=Xs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ws(m&&m.concurrentRequestLimit),this.Ba=new Hl,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gu.prototype,t.ka=8,t.I=1,t.connect=function(m,B,G,oe){ht(0),this.W=m,this.H=B||{},G&&oe!==void 0&&(this.H.OSID=G,this.H.OAID=oe),this.F=this.X,this.J=Af(this,null,this.W),Fo(this)};function yu(m){if(wu(m),m.I==3){var B=m.V++,G=Ki(m.J);if(ln(G,"SID",m.M),ln(G,"RID",B),ln(G,"TYPE","terminate"),Zs(m,G),B=new st(m,m.j,B),B.M=2,B.A=Do(Ki(G)),G=!1,o.navigator&&o.navigator.sendBeacon)try{G=o.navigator.sendBeacon(B.A.toString(),"")}catch{}!G&&o.Image&&(new Image().src=B.A,G=!0),G||(B.g=em(B.j,null),B.g.ea(B.A)),B.F=Date.now(),fs(B)}Yl(m)}function Li(m){m.g&&(Gl(m),m.g.cancel(),m.g=null)}function wu(m){Li(m),m.v&&(o.clearTimeout(m.v),m.v=null),vu(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Fo(m){if(!Po(m.h)&&!m.m){m.m=!0;var B=m.Ea;J||U(),re||(J(),re=!0),q.add(B,m),m.D=0}}function Jp(m,B){return ps(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=B.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Xt(d(m.Ea,m,B),bu(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const be=new st(this,this.j,m);let Re=this.o;if(this.U&&(Re?(Re=$(Re),R(Re,this.U)):Re=this.U),this.u!==null||this.R||(be.J=Re,Re=null),this.S)e:{for(var B=0,G=0;G<this.i.length;G++){t:{var oe=this.i[G];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(B+=oe,B>4096){B=G;break e}if(B===4096||G===this.i.length-1){B=G+1;break e}}B=1e3}else B=1e3;B=Tf(this,be,B),G=Ki(this.J),ln(G,"RID",m),ln(G,"CVER",22),this.G&&ln(G,"X-HTTP-Session-Id",this.G),Zs(this,G),Re&&(this.R?B="headers="+bt(Qp(Re))+"&"+B:this.u&&mu(G,this.u,Re)),$s(this.h,be),this.Ra&&ln(G,"TYPE","init"),this.S?(ln(G,"$req",B),ln(G,"SID","null"),be.U=!0,wi(be,G,null)):wi(be,G,B),this.I=2}}else this.I==3&&(m?Kl(this,m):this.i.length==0||Po(this.h)||Kl(this))};function Kl(m,B){var G;B?G=B.l:G=m.V++;const oe=Ki(m.J);ln(oe,"SID",m.M),ln(oe,"RID",G),ln(oe,"AID",m.K),Zs(m,oe),m.u&&m.o&&mu(oe,m.u,m.o),G=new st(m,m.j,G,m.D+1),m.u===null&&(G.J=m.o),B&&(m.i=B.G.concat(m.i)),B=Tf(m,G,1e3),G.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),$s(m.h,G),wi(G,oe,B)}function Zs(m,B){m.H&&X(m.H,function(G,oe){ln(B,oe,G)}),m.l&&X({},function(G,oe){ln(B,oe,G)})}function Tf(m,B,G){G=Math.min(m.i.length,G);const oe=m.l?d(m.l.Ka,m.l,m):null;e:{var be=m.i;let Nt=-1;for(;;){const Xn=["count="+G];Nt==-1?G>0?(Nt=be[0].g,Xn.push("ofs="+Nt)):Nt=0:Xn.push("ofs="+Nt);let pn=!0;for(let sr=0;sr<G;sr++){var Re=be[sr].g;const Oi=be[sr].map;if(Re-=Nt,Re<0)Nt=Math.max(0,be[sr].g-100),pn=!1;else try{Re="req"+Re+"_"||"";try{var Ue=Oi instanceof Map?Oi:Object.entries(Oi);for(const[Vo,eo]of Ue){let to=eo;l(eo)&&(to=In(eo)),Xn.push(Re+Vo+"="+encodeURIComponent(to))}}catch(Vo){throw Xn.push(Re+"type="+encodeURIComponent("_badmap")),Vo}}catch{oe&&oe(Oi)}}if(pn){Ue=Xn.join("&");break e}}Ue=void 0}return m=m.i.splice(0,G),B.G=m,Ue}function Kr(m){if(!m.g&&!m.v){m.Y=1;var B=m.Da;J||U(),re||(J(),re=!0),q.add(B,m),m.A=0}}function Js(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Xt(d(m.Da,m),bu(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Da(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Xt(d(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),Li(this),Da(this))};function Gl(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function Da(m){m.g=new st(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var B=Ki(m.na);ln(B,"RID","rpc"),ln(B,"SID",m.M),ln(B,"AID",m.K),ln(B,"CI",m.F?"0":"1"),!m.F&&m.ia&&ln(B,"TO",m.ia),ln(B,"TYPE","xmlhttp"),Zs(m,B),m.u&&m.o&&mu(B,m.u,m.o),m.O&&(m.g.H=m.O);var G=m.g;m=m.ba,G.M=1,G.A=Do(Ki(B)),G.u=null,G.R=!0,En(G,m)}t.Va=function(){this.C!=null&&(this.C=null,Li(this),Js(this),ht(19))};function vu(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function xu(m,B){var G=null;if(m.g==B){vu(m),Gl(m),m.g=null;var oe=2}else if(Lo(m.h,B))G=B.G,ms(m.h,B),oe=1;else return;if(m.I!=0){if(B.o)if(oe==1){G=B.u?B.u.length:0,B=Date.now()-B.F;var be=m.D;oe=it(),vt(oe,new yn(oe,G)),Fo(m)}else Kr(m);else if(be=B.m,be==3||be==0&&B.X>0||!(oe==1&&Jp(m,B)||oe==2&&Js(m)))switch(G&&G.length>0&&(B=m.h,B.i=B.i.concat(G)),be){case 1:Di(m,5);break;case 4:Di(m,10);break;case 3:Di(m,6);break;default:Di(m,2)}}}function bu(m,B){let G=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(G*=2),G*B}function Di(m,B){if(m.j.info("Error code "+B),B==2){var G=d(m.bb,m),oe=m.Ua;const be=!oe;oe=new vi(oe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||zl(oe,"https"),Do(oe),be?Gs(oe.toString(),G):Ys(oe.toString(),G)}else ht(2);m.I=0,m.l&&m.l.pa(B),Yl(m),wu(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Yl(m){if(m.I=0,m.ja=[],m.l){const B=kr(m.h);(B.length!=0||m.i.length!=0)&&(T(m.ja,B),T(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function Af(m,B,G){var oe=G instanceof vi?Ki(G):new vi(G);if(oe.g!="")B&&(oe.g=B+"."+oe.g),qs(oe,oe.u);else{var be=o.location;oe=be.protocol,B=B?B+"."+be.hostname:be.hostname,be=+be.port;const Re=new vi(null);oe&&zl(Re,oe),B&&(Re.g=B),be&&qs(Re,be),G&&(Re.h=G),oe=Re}return G=m.G,B=m.wa,G&&B&&ln(oe,G,B),ln(oe,"VER",m.ka),Zs(m,oe),oe}function em(m,B,G){if(B&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return B=m.Aa&&!m.ma?new vn(new Oo({ab:G})):new vn(m.ma),B.Fa(m.L),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tm(){}t=tm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Eu(){}Eu.prototype.g=function(m,B){return new Dr(m,B)};function Dr(m,B){fn.call(this),this.g=new gu(B),this.l=m,this.h=B&&B.messageUrlParams||null,m=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(m?m["X-WebChannel-Content-Type"]=B.messageContentType:m={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.sa&&(m?m["X-WebChannel-Client-Profile"]=B.sa:m={"X-WebChannel-Client-Profile":B.sa}),this.g.U=m,(m=B&&B.Qb)&&!S(m)&&(this.g.u=m),this.A=B&&B.supportsCrossDomainXhr||!1,this.v=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!S(B)&&(this.g.G=B,m=this.h,m!==null&&B in m&&(m=this.h,B in m&&delete m[B])),this.j=new Oa(this)}p(Dr,fn),Dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dr.prototype.close=function(){yu(this.g)},Dr.prototype.o=function(m){var B=this.g;if(typeof m=="string"){var G={};G.__data__=m,m=G}else this.v&&(G={},G.__data__=In(m),m=G);B.i.push(new Ul(B.Ya++,m)),B.I==3&&Fo(B)},Dr.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,Dr.Z.N.call(this)};function nm(m){he.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var B=m.__sm__;if(B){e:{for(const G in B){m=G;break e}m=void 0}(this.i=m)&&(m=this.i,B=B!==null&&m in B?B[m]:void 0),this.data=B}else this.data=m}p(nm,he);function rm(){ye.call(this),this.status=1}p(rm,ye);function Oa(m){this.g=m}p(Oa,tm),Oa.prototype.ra=function(){vt(this.g,"a")},Oa.prototype.qa=function(m){vt(this.g,new nm(m))},Oa.prototype.pa=function(m){vt(this.g,new rm)},Oa.prototype.oa=function(){vt(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Dr.prototype.send=Dr.prototype.o,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,zL=function(){return new Eu},UL=function(){return it()},VL=Te,Lb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Dg=ae,pe.COMPLETE="complete",FL=pe,V.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",fn.prototype.listen=fn.prototype.J,oh=V,vn.prototype.listenOnce=vn.prototype.K,vn.prototype.getLastError=vn.prototype.Ha,vn.prototype.getLastErrorCode=vn.prototype.ya,vn.prototype.getStatus=vn.prototype.ca,vn.prototype.getResponseJson=vn.prototype.La,vn.prototype.getResponseText=vn.prototype.la,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Fa,BL=vn}).apply(typeof rg<"u"?rg:typeof self<"u"?self:typeof window<"u"?window:{});const P2="@firebase/firestore",L2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new j_("@firebase/firestore");function ed(){return Wc.logLevel}function Ye(t,...e){if(Wc.logLevel<=Ht.DEBUG){const n=e.map(Z_);Wc.debug(`Firestore (${of}): ${t}`,...n)}}function wa(t,...e){if(Wc.logLevel<=Ht.ERROR){const n=e.map(Z_);Wc.error(`Firestore (${of}): ${t}`,...n)}}function Od(t,...e){if(Wc.logLevel<=Ht.WARN){const n=e.map(Z_);Wc.warn(`Firestore (${of}): ${t}`,...n)}}function Z_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WL(t,r,n)}function WL(t,e,n){let r=`FIRESTORE (${of}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wa(r),new Error(r)}function dn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WL(e,i,r)}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(oi.UNAUTHENTICATED)))}shutdown(){}}class jK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BK{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tl,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tl)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dn(typeof r.accessToken=="string",31837,{l:r}),new $L(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new oi(e)}}class FK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(oi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function Db(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return S1(i)===S1(s)?Kt(i,s):S1(i)?1:-1}return Kt(t.length,e.length)}const WK=55296,$K=57343;function S1(t){const e=t.charCodeAt(0);return e>=WK&&e<=$K}function jd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__name__";class uo{constructor(e,n,r){n===void 0?n=0:n>e.length&&_t(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_t(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=uo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Kt(e.length,n.length)}static compareSegments(e,n){const r=uo.isNumericId(e),i=uo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?uo.extractNumericId(e).compare(uo.extractNumericId(n)):Db(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sl.fromString(e.substring(4,e.length-2))}}class Wn extends uo{construct(e,n,r){return new Wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Wn(n)}static emptyPath(){return new Wn([])}}const qK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends uo{construct(e,n,r){return new $r(e,n,r)}static isValidIdentifier(e){return qK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new $r([O2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new lt(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new lt(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new lt(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new lt(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(n)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Wn.fromString(e))}static fromName(e){return new wt(Wn.fromString(e).popFirst(5))}static empty(){return new wt(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t,e,n){if(!n)throw new lt(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KK(t,e,n,r){if(e===!0&&r===!0)throw new lt(De.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j2(t){if(!wt.isDocumentKey(t))throw new lt(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t(12329,{type:typeof t})}function qh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eS(t);throw new lt(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ap(t,e){if(!qL(t))throw new lt(De.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new lt(De.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=-62135596800,F2=1e6;class Pn{static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F2);return new Pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B2)throw new lt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F2}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ap(e,Pn._jsonSchema))return new Pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pn._jsonSchemaVersion="firestore/timestamp/1.0",Pn._jsonSchema={type:mr("string",Pn._jsonSchemaVersion),seconds:mr("number"),nanoseconds:mr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Pn(0,0))}static max(){return new Mt(new Pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=-1;function GK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(r===1e9?new Pn(n+1,0):new Pn(n,r));return new Rl(i,wt.empty(),e)}function YK(t){return new Rl(t.readTime,t.key,Hh)}class Rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rl(Mt.min(),wt.empty(),Hh)}static max(){return new Rl(Mt.max(),wt.empty(),Hh)}}function QK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wt.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==XK)throw t;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ne.reject(n)}static resolve(e){return new Ne(((n,r)=>{n(e)}))}static reject(e){return new Ne(((n,r)=>{r(e)}))}static waitFor(e){return new Ne(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(u=>r(u)))})),o=!0,s===i&&n()}))}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next((i=>i?Ne.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ne(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next((f=>{o[d]=f,++l,l===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new Ne(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function JK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}O0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=-1;function j0(t){return t==null}function ky(t){return t===0&&1/t==-1/0}function eG(t){return typeof t=="number"&&Number.isInteger(t)&&!ky(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="";function tG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=V2(e)),e=nG(t.get(n),e);return V2(e)}function nG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case HL:n+="";break;default:n+=s}}return n}function V2(t){return t+HL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.comparator=e,this.root=n||zr.EMPTY}insert(e,n){return new $n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zr.RED,this.left=i??zr.EMPTY,this.right=s??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1;zr.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new zr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Ms([])}unionWith(e){let n=new _r($r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GL("Invalid base64 string: "+s):s}})(e);return new Hr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const rG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(t){if(dn(!!t,39018),typeof t=="string"){let e=0;const n=rG.exec(t);if(dn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nl(t){return typeof t=="string"?Hr.fromBase64String(t):Hr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="server_timestamp",QL="__type__",XL="__previous_value__",ZL="__local_write_time__";function nS(t){return(t?.mapValue?.fields||{})[QL]?.stringValue===YL}function B0(t){const e=t.mapValue.fields[XL];return nS(e)?B0(e):e}function Kh(t){const e=Ml(t.mapValue.fields[ZL].timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,n,r,i,s,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const Py="(default)";class Gh{constructor(e,n){this.projectId=e,this.database=n||Py}static empty(){return new Gh("","")}get isDefaultDatabase(){return this.database===Py}isEqual(e){return e instanceof Gh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="__type__",sG="__max__",sg={mapValue:{}},eD="__vector__",Ly="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nS(t)?4:aG(t)?9007199254740991:oG(t)?10:11:_t(28295,{value:t})}function Io(t,e){if(t===e)return!0;const n=kl(t);if(n!==kl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kh(t).isEqual(Kh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ml(i.timestampValue),l=Ml(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Nl(i.bytesValue).isEqual(Nl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return tr(i.geoPointValue.latitude)===tr(s.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return tr(i.integerValue)===tr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tr(i.doubleValue),l=tr(s.doubleValue);return o===l?ky(o)===ky(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return jd(t.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(U2(o)!==U2(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Io(o[u],l[u])))return!1;return!0})(t,e);default:return _t(52216,{left:t})}}function Yh(t,e){return(t.values||[]).find((n=>Io(n,e)))!==void 0}function Bd(t,e){if(t===e)return 0;const n=kl(t),r=kl(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=tr(s.integerValue||s.doubleValue),u=tr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return W2(t.timestampValue,e.timestampValue);case 4:return W2(Kh(t),Kh(e));case 5:return Db(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Nl(s),u=Nl(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=Kt(l[d],u[d]);if(f!==0)return f}return Kt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Kt(tr(s.latitude),tr(o.latitude));return l!==0?l:Kt(tr(s.longitude),tr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $2(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const l=s.fields||{},u=o.fields||{},d=l[Ly]?.arrayValue,f=u[Ly]?.arrayValue,p=Kt(d?.values?.length||0,f?.values?.length||0);return p!==0?p:$2(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===sg.mapValue&&o===sg.mapValue)return 0;if(s===sg.mapValue)return 1;if(o===sg.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const v=Db(u[p],f[p]);if(v!==0)return v;const x=Bd(l[u[p]],d[f[p]]);if(x!==0)return x}return Kt(u.length,f.length)})(t.mapValue,e.mapValue);default:throw _t(23264,{he:n})}}function W2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=Ml(t),r=Ml(e),i=Kt(n.seconds,r.seconds);return i!==0?i:Kt(n.nanos,r.nanos)}function $2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bd(n[i],r[i]);if(s)return s}return Kt(n.length,r.length)}function Fd(t){return Ob(t)}function Ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ml(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return wt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ob(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ob(n.fields[o])}`;return i+"}"})(t.mapValue):_t(61005,{value:t})}function Og(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B0(t);return e?16+Og(e):16;case 5:return 2*t.stringValue.length;case 6:return Nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Og(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return eu(r.fields,((s,o)=>{i+=s.length+Og(o)})),i})(t.mapValue);default:throw _t(13486,{value:t})}}function jb(t){return!!t&&"integerValue"in t}function rS(t){return!!t&&"arrayValue"in t}function q2(t){return!!t&&"nullValue"in t}function H2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jg(t){return!!t&&"mapValue"in t}function oG(t){return(t?.mapValue?.fields||{})[JL]?.stringValue===eD}function Sh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Sh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sh(t.arrayValue.values[n]);return e}return{...t}}function aG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(n)}setAll(e){let n=$r.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Sh(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eu(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new os(Sh(this.value))}}function tD(t){const e=[];return eu(t.fields,((n,r)=>{const i=new $r([n]);if(jg(r)){const s=tD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ai(e,0,Mt.min(),Mt.min(),Mt.min(),os.empty(),0)}static newFoundDocument(e,n,r,i){return new ai(e,1,n,Mt.min(),r,i,0)}static newNoDocument(e,n){return new ai(e,2,n,Mt.min(),Mt.min(),os.empty(),0)}static newUnknownDocument(e,n){return new ai(e,3,n,Mt.min(),Mt.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.position=e,this.inclusive=n}}function K2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=wt.comparator(wt.fromName(o.referenceValue),n.key):r=Bd(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function G2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n="asc"){this.field=e,this.dir=n}}function lG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class Er extends nD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uG(e,n,r):n==="array-contains"?new hG(e,r):n==="in"?new pG(e,r):n==="not-in"?new mG(e,r):n==="array-contains-any"?new gG(e,r):new Er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dG(e,r):new fG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bd(n,this.value)):n!==null&&kl(this.value)===kl(n)&&this.matchesComparison(Bd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Co extends nD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Co(e,n)}matches(e){return rD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rD(t){return t.op==="and"}function iD(t){return cG(t)&&rD(t)}function cG(t){for(const e of t.filters)if(e instanceof Co)return!1;return!0}function Bb(t){if(t instanceof Er)return t.field.canonicalString()+t.op.toString()+Fd(t.value);if(iD(t))return t.filters.map((e=>Bb(e))).join(",");{const e=t.filters.map((n=>Bb(n))).join(",");return`${t.op}(${e})`}}function sD(t,e){return t instanceof Er?(function(r,i){return i instanceof Er&&r.op===i.op&&r.field.isEqual(i.field)&&Io(r.value,i.value)})(t,e):t instanceof Co?(function(r,i){return i instanceof Co&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&sD(o,i.filters[l])),!0):!1})(t,e):void _t(19439)}function oD(t){return t instanceof Er?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fd(n.value)}`})(t):t instanceof Co?(function(n){return n.op.toString()+" {"+n.getFilters().map(oD).join(" ,")+"}"})(t):"Filter"}class uG extends Er{constructor(e,n,r){super(e,n,r),this.key=wt.fromName(r.referenceValue)}matches(e){const n=wt.comparator(e.key,this.key);return this.matchesComparison(n)}}class dG extends Er{constructor(e,n){super(e,"in",n),this.keys=aD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fG extends Er{constructor(e,n){super(e,"not-in",n),this.keys=aD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aD(t,e){return(e.arrayValue?.values||[]).map((n=>wt.fromName(n.referenceValue)))}class hG extends Er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rS(n)&&Yh(n.arrayValue,this.value)}}class pG extends Er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yh(this.value.arrayValue,n)}}class mG extends Er{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yh(this.value.arrayValue,n)}}class gG extends Er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function Y2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yG(t,e,n,r,i,s,o)}function iS(t){const e=kt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Bb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),j0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fd(r))).join(",")),e.Te=n}return e.Te}function sS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G2(t.startAt,e.startAt)&&G2(t.endAt,e.endAt)}function Fb(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wG(t,e,n,r,i,s,o,l){return new F0(t,e,n,r,i,s,o,l)}function oS(t){return new F0(t)}function Q2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vG(t){return t.collectionGroup!==null}function Th(t){const e=kt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _r($r.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Oy(s,r))})),n.has($r.keyField().canonicalString())||e.Ie.push(new Oy($r.keyField(),r))}return e.Ie}function vo(t){const e=kt(t);return e.Ee||(e.Ee=xG(e,Th(t))),e.Ee}function xG(t,e){if(t.limitType==="F")return Y2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Oy(i.field,s)}));const n=t.endAt?new Dy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dy(t.startAt.position,t.startAt.inclusive):null;return Y2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vb(t,e,n){return new F0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V0(t,e){return sS(vo(t),vo(e))&&t.limitType===e.limitType}function lD(t){return`${iS(vo(t))}|lt:${t.limitType}`}function td(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>oD(i))).join(", ")}]`),j0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Fd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Fd(i))).join(",")),`Target(${r})`})(vo(t))}; limitType=${t.limitType})`}function U0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):wt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Th(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,u){const d=K2(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Th(r),i)||r.endAt&&!(function(o,l,u){const d=K2(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Th(r),i))})(t,e)}function bG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cD(t){return(e,n)=>{let r=!1;for(const i of Th(t)){const s=EG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function EG(t,e,n){const r=t.field.isKeyField()?wt.comparator(e.key,n.key):(function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Bd(u,d):_t(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return KL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=new $n(wt.comparator);function va(){return _G}const uD=new $n(wt.comparator);function ah(...t){let e=uD;for(const n of t)e=e.insert(n.key,n);return e}function dD(t){let e=uD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wc(){return Ah()}function fD(){return Ah()}function Ah(){return new tu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SG=new $n(wt.comparator),TG=new _r(wt.comparator);function Gt(...t){let e=TG;for(const n of t)e=e.add(n);return e}const AG=new _r(Kt);function IG(){return AG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ky(e)?"-0":e}}function hD(t){return{integerValue:""+t}}function CG(t,e){return eG(e)?hD(e):aS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this._=void 0}}function RG(t,e,n){return t instanceof jy?(function(i,s){const o={fields:{[QL]:{stringValue:YL},[ZL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nS(s)&&(s=B0(s)),s&&(o.fields[XL]=s),{mapValue:o}})(n,e):t instanceof Qh?mD(t,e):t instanceof Xh?gD(t,e):(function(i,s){const o=pD(i,s),l=X2(o)+X2(i.Ae);return jb(o)&&jb(i.Ae)?hD(l):aS(i.serializer,l)})(t,e)}function MG(t,e,n){return t instanceof Qh?mD(t,e):t instanceof Xh?gD(t,e):n}function pD(t,e){return t instanceof By?(function(r){return jb(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class jy extends z0{}class Qh extends z0{constructor(e){super(),this.elements=e}}function mD(t,e){const n=yD(e);for(const r of t.elements)n.some((i=>Io(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xh extends z0{constructor(e){super(),this.elements=e}}function gD(t,e){let n=yD(e);for(const r of t.elements)n=n.filter((i=>!Io(i,r)));return{arrayValue:{values:n}}}class By extends z0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X2(t){return tr(t.integerValue||t.doubleValue)}function yD(t){return rS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NG(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qh&&i instanceof Qh||r instanceof Xh&&i instanceof Xh?jd(r.elements,i.elements,Io):r instanceof By&&i instanceof By?Io(r.Ae,i.Ae):r instanceof jy&&i instanceof jy})(t.transform,e.transform)}class kG{constructor(e,n){this.version=e,this.transformResults=n}}class ha{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ha}static exists(e){return new ha(void 0,e)}static updateTime(e){return new ha(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class W0{}function wD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xD(t.key,ha.none()):new Ip(t.key,t.data,ha.none());{const n=t.data,r=os.empty();let i=new _r($r.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nu(t.key,r,new Ms(i.toArray()),ha.none())}}function PG(t,e,n){t instanceof Ip?(function(i,s,o){const l=i.value.clone(),u=J2(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof nu?(function(i,s,o){if(!Bg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=J2(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(vD(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Ih(t,e,n,r){return t instanceof Ip?(function(s,o,l,u){if(!Bg(s.precondition,o))return l;const d=s.value.clone(),f=eR(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof nu?(function(s,o,l,u){if(!Bg(s.precondition,o))return l;const d=eR(s.fieldTransforms,u,o),f=o.data;return f.setAll(vD(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,o,l){return Bg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function LG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pD(r.transform,i||null);s!=null&&(n===null&&(n=os.empty()),n.set(r.field,s))}return n||null}function Z2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jd(r,i,((s,o)=>NG(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ip extends W0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nu extends W0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function J2(t,e,n){const r=new Map;dn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,MG(o,l,n[i]))}return r}function eR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RG(s,o,e))}return r}class xD extends W0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DG extends W0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fD();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=wD(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,((n,r)=>Z2(n,r)))&&jd(this.baseMutations,e.baseMutations,((n,r)=>Z2(n,r)))}}class lS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return SG})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,tn;function FG(t){switch(t){case De.OK:return _t(64938);case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return _t(15467,{code:t})}}function bD(t){if(t===void 0)return wa("GRPC error has no .code"),De.UNKNOWN;switch(t){case ar.OK:return De.OK;case ar.CANCELLED:return De.CANCELLED;case ar.UNKNOWN:return De.UNKNOWN;case ar.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case ar.INTERNAL:return De.INTERNAL;case ar.UNAVAILABLE:return De.UNAVAILABLE;case ar.UNAUTHENTICATED:return De.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case ar.NOT_FOUND:return De.NOT_FOUND;case ar.ALREADY_EXISTS:return De.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return De.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case ar.ABORTED:return De.ABORTED;case ar.OUT_OF_RANGE:return De.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return De.UNIMPLEMENTED;case ar.DATA_LOSS:return De.DATA_LOSS;default:return _t(39323,{code:t})}}(tn=ar||(ar={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Sl([4294967295,4294967295],0);function tR(t){const e=VG().encode(t),n=new jL;return n.update(e),new Uint8Array(n.digest())}function nR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sl([n,r],0),new Sl([i,s],0)]}class cS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(r<0)throw new lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Sl.fromNumber(r)));return i.compare(UG)===1&&(i=new Sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tR(e),[r,i]=nR(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cS(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=tR(e),[r,i]=nR(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $0(Mt.min(),i,new $n(Kt),va(),Gt())}}class Cp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cp(r,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ED{constructor(e,n){this.targetId=e,this.Ce=n}}class _D{constructor(e,n,r=Hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rR{constructor(){this.ve=0,this.Fe=iR(),this.Me=Hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),n=Gt(),r=Gt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_t(38017,{changeType:s})}})),new Cp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=iR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zG{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.Je=og(),this.He=og(),this.Ye=new $n(Kt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Fb(s))if(r===0){const o=new wt(s.path);this.et(n,o,ai.newNoDocument(o,Mt.min()))}else dn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Nl(r).toUint8Array()}catch(u){if(u instanceof GL)return Od("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new cS(o,i,s)}catch(u){return Od(u instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Fb(l.target)){const u=new wt(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ai.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Gt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new $0(e,n,this.Ye,this.je,r);return this.je=va(),this.Je=og(),this.He=og(),this.Ye=new $n(Kt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _r(Kt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _r(Kt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function og(){return new $n(wt.comparator)}function iR(){return new $n(wt.comparator)}const WG={asc:"ASCENDING",desc:"DESCENDING"},$G={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qG={and:"AND",or:"OR"};class HG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ub(t,e){return t.useProto3Json||j0(e)?e:{value:e}}function Fy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KG(t,e){return Fy(t,e.toTimestamp())}function xo(t){return dn(!!t,49232),Mt.fromTimestamp((function(n){const r=Ml(n);return new Pn(r.seconds,r.nanos)})(t))}function uS(t,e){return zb(t,e).canonicalString()}function zb(t,e){const n=(function(i){return new Wn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TD(t){const e=Wn.fromString(t);return dn(MD(e),10190,{key:e.toString()}),e}function Wb(t,e){return uS(t.databaseId,e.path)}function T1(t,e){const n=TD(e);if(n.get(1)!==t.databaseId.projectId)throw new lt(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new lt(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wt(ID(n))}function AD(t,e){return uS(t.databaseId,e)}function GG(t){const e=TD(t);return e.length===4?Wn.emptyPath():ID(e)}function $b(t){return new Wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ID(t){return dn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sR(t,e,n){return{name:Wb(t,e),fields:n.value.mapValue.fields}}function YG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:_t(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(dn(f===void 0||typeof f=="string",58123),Hr.fromBase64String(f||"")):(dn(f===void 0||f instanceof Jn||f instanceof Uint8Array,16193),Hr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?De.UNKNOWN:bD(d.code);return new lt(f,d.message||"")})(o);n=new _D(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=T1(t,r.document.name),s=xo(r.document.updateTime),o=r.document.createTime?xo(r.document.createTime):Mt.min(),l=new os({mapValue:{fields:r.document.fields}}),u=ai.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Fg(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=T1(t,r.document),s=r.readTime?xo(r.readTime):Mt.min(),o=ai.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Fg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=T1(t,r.document),s=r.removedTargetIds||[];n=new Fg([],s,i,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BG(i,s),l=r.targetId;n=new ED(l,o)}}return n}function QG(t,e){let n;if(e instanceof Ip)n={update:sR(t,e.key,e.value)};else if(e instanceof xD)n={delete:Wb(t,e.key)};else if(e instanceof nu)n={update:sR(t,e.key,e.data),updateMask:sY(e.fieldMask)};else{if(!(e instanceof DG))return _t(16599,{Vt:e.type});n={verify:Wb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof jy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof By)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw _t(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:KG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_t(27497)})(t,e.precondition)),n}function XG(t,e){return t&&t.length>0?(dn(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?xo(i.updateTime):xo(s);return o.isEqual(Mt.min())&&(o=xo(s)),new kG(o,i.transformResults||[])})(n,e)))):[]}function ZG(t,e){return{documents:[AD(t,e.path)]}}function JG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AD(t,i);const s=(function(d){if(d.length!==0)return RD(Co.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(v){return{field:nd(v.field),direction:nY(v.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Ub(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function eY(t){let e=GG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(p){const v=CD(p);return v instanceof Co&&iD(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((v=>(function(T){return new Oy(rd(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,j0(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(p){const v=!!p.before,x=p.values||[];return new Dy(x,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const v=!p.before,x=p.values||[];return new Dy(x,v)})(n.endAt)),wG(e,i,o,s,l,"F",u,d)}function tY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rd(n.unaryFilter.field);return Er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rd(n.unaryFilter.field);return Er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rd(n.unaryFilter.field);return Er.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rd(n.unaryFilter.field);return Er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Er.create(rd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Co.create(n.compositeFilter.filters.map((r=>CD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(t):_t(30097,{filter:t})}function nY(t){return WG[t]}function rY(t){return $G[t]}function iY(t){return qG[t]}function nd(t){return{fieldPath:t.canonicalString()}}function rd(t){return $r.fromServerFormat(t.fieldPath)}function RD(t){return t instanceof Er?(function(n){if(n.op==="=="){if(H2(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NAN"}};if(q2(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H2(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NAN"}};if(q2(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(n.field),op:rY(n.op),value:n.value}}})(t):t instanceof Co?(function(n){const r=n.getFilters().map((i=>RD(i)));return r.length===1?r[0]:{compositeFilter:{op:iY(n.op),filters:r}}})(t):_t(54877,{filter:t})}function sY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i,s=Mt.min(),o=Mt.min(),l=Hr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e){this.yt=e}}function aY(t){const e=eY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(){this.Cn=new cY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Rl.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Rl.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class cY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(Wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(Wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ND=41943040;class Ii{static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(ND,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vd(0)}static cr(){return new Vd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="LruGarbageCollector",uY=1048576;function lR([t,e],[n,r]){const i=Kt(t,n);return i===0?Kt(e,r):i}class dY{constructor(e){this.Ir=e,this.buffer=new _r(lR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ye(aR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lf(n)?Ye(aR,"Ignoring IndexedDB error during garbage collection: ",n):await af(n)}await this.Vr(3e5)}))}}class hY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(O0.ce);const r=new dY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(oR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),ed()<=Ht.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function pY(t,e){return new hY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.changes=new tu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ih(r.mutation,i,Ms.empty(),Pn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Gt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Gt()){const i=wc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=ah();return s.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=wc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Gt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=va();const o=Ah(),l=(function(){return Ah()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof nu)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ih(f.mutation,d,f.mutation.getFieldMask(),Pn.now())):o.set(d.key,Ms.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>l.set(d,new gY(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Ah();let i=new $n(((o,l)=>o-l)),s=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Ms.empty();f=l.applyToLocalView(d,f),r.set(u,f);const p=(i.get(l.batchId)||Gt()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,p=fD();f.forEach((v=>{if(!s.has(v)){const x=wD(n.get(v),r.get(v));x!==null&&p.set(v,x),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Ne.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(wc());let l=Hh,u=s;return o.next((d=>Ne.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?Ne.resolve():this.remoteDocumentCache.getEntry(e,f).next((v=>{u=u.insert(f,v)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,Gt()))).next((f=>({batchId:l,changes:dD(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wt(n)).next((r=>{let i=ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ah();return this.indexManager.getCollectionParents(e,s).next((l=>Ne.forEach(l,(u=>{const d=(function(p,v){return new F0(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ai.newInvalidDocument(f)))}));let l=ah();return o.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&Ih(f.mutation,d,Ms.empty(),Pn.now()),U0(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:xo(i.createTime)}})(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:aY(i.bundledQuery),readTime:xo(i.readTime)}})(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(){this.overlays=new $n(wt.comparator),this.qr=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wc();return Ne.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=wc(),s=n.length+1,o=new wt(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $n(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=wc(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=wc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return Ne.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jG(n,r));let s=this.qr.get(n);s===void 0&&(s=Gt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this.sessionToken=Hr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Qr=new _r(Rr.$r),this.Ur=new _r(Rr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Rr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new wt(new Wn([])),r=new Rr(n,e),i=new Rr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new wt(new Wn([])),r=new Rr(n,e),i=new Rr(n,e+1);let s=Gt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new Rr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return wt.comparator(e.key,n.key)||Kt(e.Yr,n.Yr)}static Kr(e,n){return Kt(e.Yr,n.Yr)||wt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _r(Rr.$r)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OG(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Rr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?tS:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rr(n,0),i=new Rr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(Kt);return n.forEach((i=>{const s=new Rr(i,0),o=new Rr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),Ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;wt.isDocumentKey(s)||(s=s.child(""));const o=new Rr(new wt(s),0);let l=new _r(Kt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),o),Ne.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){dn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ne.forEach(n.mutations,(i=>{const s=new Rr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Rr(n,0),i=this.Zr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.ri=e,this.docs=(function(){return new $n(wt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(e,n){let r=va();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ai.newInvalidDocument(i))})),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=va();const o=n.path,l=new wt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||QK(YK(f),r)<=0||(i.has(f.key)||U0(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_t(9500)}ii(e,n){return Ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _Y(this)}getSize(e){return Ne.resolve(this.size)}}class _Y extends mY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e){this.persistence=e,this.si=new tu((n=>iS(n)),sS),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new dS,this.targetCount=0,this.ai=Vd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Pr(n),Ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ne.waitFor(s).next((()=>i))}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.ui={},this.overlays={},this.ci=new O0(0),this.li=!1,this.li=!0,this.hi=new xY,this.referenceDelegate=e(this),this.Pi=new SY(this),this.indexManager=new lY,this.remoteDocumentCache=(function(i){return new EY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new oY(n),this.Ii=new wY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ye("MemoryPersistence","Starting transaction:",e);const i=new TY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class TY extends ZK{constructor(e){super(),this.currentSequenceNumber=e}}class fS{constructor(e){this.persistence=e,this.Ri=new dS,this.Vi=null}static mi(e){return new fS(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,(r=>{const i=wt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Mt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vy{constructor(e,n){this.persistence=e,this.pi=new tu((r=>tG(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=pY(this,n)}static mi(e,n){return new Vy(e,n)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ne.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ne.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,Mt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Og(e.data.value)),n}br(e,n,r){return Ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Gt(),i=Gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s$()?8:JK(li())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new AY;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ed()<=Ht.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(ed()<=Ht.DEBUG&&Ye("QueryEngine","Query:",td(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ed()<=Ht.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(n))):Ne.resolve())}ys(e,n){if(Q2(n))return Ne.resolve(null);let r=vo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Vb(n,null,"F"),r=vo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Gt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Vb(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return Q2(n)||i.isEqual(Mt.min())?Ne.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ne.resolve(null):(ed()<=Ht.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(n)),this.vs(e,o,n,GK(i,Hh)).next((l=>l)))}))}Ds(e,n){let r=new _r(cD(e));return n.forEach(((i,s)=>{U0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ed()<=Ht.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",td(n)),this.ps.getDocumentsMatchingQuery(e,n,Rl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="LocalStore",CY=3e8;class RY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new $n(Kt),this.xs=new tu((s=>iS(s)),sS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MY(t,e,n,r){return new RY(t,e,n,r)}async function PD(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let u=Gt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function NY(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const p=d.batch,v=p.keys();let x=Ne.resolve();return v.forEach((T=>{x=x.next((()=>f.getEntry(u,T))).next((_=>{const E=d.docVersions.get(T);dn(E!==null,48541),_.version.compareTo(E)<0&&(p.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=Gt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function LD(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kY(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p))));let x=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(Hr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),i=i.insert(p,x),(function(_,E,N){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=CY?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(v,x,f)&&l.push(n.Pi.updateTargetData(s,x))}));let u=va(),d=Gt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(PY(s,o,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Mt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return Ne.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function PY(t,e,n){let r=Gt(),i=Gt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=va();return n.forEach(((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Mt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ye(pS,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function LY(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DY(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ne.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new wl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function qb(t,e,n){const r=kt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!lf(o))throw o;Ye(pS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cR(t,e,n){const r=kt(t);let i=Mt.min(),s=Gt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const p=kt(u),v=p.xs.get(f);return v!==void 0?Ne.resolve(p.Ms.get(v)):p.Pi.getTargetData(d,f)})(r,o,vo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Mt.min(),n?s:Gt()))).next((l=>(OY(r,bG(e),l),{documents:l,Qs:s})))))}function OY(t,e,n){let r=t.Os.get(e)||Mt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class uR{constructor(){this.activeTargetIds=IG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jY{constructor(){this.Mo=new uR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="ConnectivityMonitor";class fR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ye(dR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ye(dR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=null;function Hb(){return ag===null?ag=(function(){return 268435456+Math.round(2147483648*Math.random())})():ag++,"0x"+ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="RestConnection",FY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Py?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Hb(),l=this.zo(e,n.toUriEncodedString());Ye(A1,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(l),f=nf(d);return this.Jo(e,l,u,r,f).then((p=>(Ye(A1,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Od(A1,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+of})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=FY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="WebChannelConnection";class zY extends VY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Hb();return new Promise(((l,u)=>{const d=new BL;d.setWithCredentials(!0),d.listenOnce(FL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Dg.NO_ERROR:const p=d.getResponseJson();Ye(Zr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Dg.TIMEOUT:Ye(Zr,`RPC '${e}' ${o} timed out`),u(new lt(De.DEADLINE_EXCEEDED,"Request time out"));break;case Dg.HTTP_ERROR:const v=d.getStatus();if(Ye(Zr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x?.error;if(T&&T.status&&T.message){const _=(function(N){const L=N.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(L)>=0?L:De.UNKNOWN})(T.status);u(new lt(_,T.message))}else u(new lt(De.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new lt(De.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ye(Zr,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Ye(Zr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=Hb(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zL(),l=UL(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Ye(Zr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let v=!1,x=!1;const T=new UY({Yo:E=>{x?Ye(Zr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(Ye(Zr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ye(Zr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),_=(E,N,L)=>{E.listen(N,(M=>{try{L(M)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return _(p,oh.EventType.OPEN,(()=>{x||(Ye(Zr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),_(p,oh.EventType.CLOSE,(()=>{x||(x=!0,Ye(Zr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),_(p,oh.EventType.ERROR,(E=>{x||(x=!0,Od(Zr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new lt(De.UNAVAILABLE,"The operation could not be completed")))})),_(p,oh.EventType.MESSAGE,(E=>{if(!x){const N=E.data[0];dn(!!N,16349);const L=N,M=L?.error||L[0]?.error;if(M){Ye(Zr,`RPC '${e}' stream ${i} received error:`,M);const Z=M.status;let J=(function(U){const P=ar[U];if(P!==void 0)return bD(P)})(Z),re=M.message;J===void 0&&(J=De.INTERNAL,re="Unknown error status: "+Z+" with message "+M.message),x=!0,T.a_(new lt(J,re)),p.close()}else Ye(Zr,`RPC '${e}' stream ${i} received:`,N),T.u_(N)}})),_(l,VL.STAT_EVENT,(E=>{E.stat===Lb.PROXY?Ye(Zr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Lb.NOPROXY&&Ye(Zr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function I1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return new HG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="PersistentStream";class OD{constructor(e,n,r,i,s,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new lt(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ye(hR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ye(hR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WY extends OD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Mt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Mt.min():o.readTime?xo(o.readTime):Mt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$b(this.serializer),n.addTarget=(function(s,o){let l;const u=o.target;if(l=Fb(u)?{documents:ZG(s,u)}:{query:JG(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=SD(s,o.resumeToken);const d=Ub(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Mt.min())>0){l.readTime=Fy(s,o.snapshotVersion.toTimestamp());const d=Ub(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=tY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$b(this.serializer),n.removeTarget=e,this.q_(n)}}class $Y extends OD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XG(e.writeResults,e.commitTime),r=xo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$b(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>QG(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{}class HY extends qY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new lt(De.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,zb(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(De.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,zb(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(De.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(n),this.aa=!1):Ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="RemoteStore";class GY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ru(this)&&(Ye($c,"Restarting streams for network reachability change."),await(async function(u){const d=kt(u);d.Ea.add(4),await Rp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await H0(d)})(this))}))})),this.Ra=new KY(r,i)}}async function H0(t){if(ru(t))for(const e of t.da)await e(!0)}async function Rp(t){for(const e of t.da)await e(!1)}function jD(t,e){const n=kt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wS(n)?yS(n):cf(n).O_()&&gS(n,e))}function mS(t,e){const n=kt(t),r=cf(n);n.Ia.delete(e),r.O_()&&BD(n,e),n.Ia.size===0&&(r.O_()?r.L_():ru(n)&&n.Ra.set("Unknown"))}function gS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cf(t).Y_(e)}function BD(t,e){t.Va.Ue(e),cf(t).Z_(e)}function yS(t){t.Va=new zG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cf(t).start(),t.Ra.ua()}function wS(t){return ru(t)&&!cf(t).x_()&&t.Ia.size>0}function ru(t){return kt(t).Ea.size===0}function FD(t){t.Va=void 0}async function YY(t){t.Ra.set("Online")}async function QY(t){t.Ia.forEach(((e,n)=>{gS(t,e)}))}async function XY(t,e){FD(t),wS(t)?(t.Ra.ha(e),yS(t)):t.Ra.set("Unknown")}async function ZY(t,e,n){if(t.Ra.set("Online"),e instanceof _D&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ye($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uy(t,r)}else if(e instanceof Fg?t.Va.Ze(e):e instanceof ED?t.Va.st(e):t.Va.tt(e),!n.isEqual(Mt.min()))try{const r=await LD(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Hr.EMPTY_BYTE_STRING,f.snapshotVersion)),BD(s,u);const p=new wl(f.target,u,d,f.sequenceNumber);gS(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ye($c,"Failed to raise snapshot:",r),await Uy(t,r)}}async function Uy(t,e,n){if(!lf(e))throw e;t.Ea.add(1),await Rp(t),t.Ra.set("Offline"),n||(n=()=>LD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ye($c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await H0(t)}))}function VD(t,e){return e().catch((n=>Uy(t,n,e)))}async function K0(t){const e=kt(t),n=Pl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tS;for(;JY(e);)try{const i=await LY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,eQ(e,i)}catch(i){await Uy(e,i)}UD(e)&&zD(e)}function JY(t){return ru(t)&&t.Ta.length<10}function eQ(t,e){t.Ta.push(e);const n=Pl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UD(t){return ru(t)&&!Pl(t).x_()&&t.Ta.length>0}function zD(t){Pl(t).start()}async function tQ(t){Pl(t).ra()}async function nQ(t){const e=Pl(t);for(const n of t.Ta)e.ea(n.mutations)}async function rQ(t,e,n){const r=t.Ta.shift(),i=lS.from(r,e,n);await VD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await K0(t)}async function iQ(t,e){e&&Pl(t).X_&&await(async function(r,i){if((function(o){return FG(o)&&o!==De.ABORTED})(i.code)){const s=r.Ta.shift();Pl(r).B_(),await VD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await K0(r)}})(t,e),UD(t)&&zD(t)}async function pR(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),Ye($c,"RemoteStore received new credentials");const r=ru(n);n.Ea.add(3),await Rp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await H0(n)}async function sQ(t,e){const n=kt(t);e?(n.Ea.delete(2),await H0(n)):e||(n.Ea.add(2),await Rp(n),n.Ra.set("Unknown"))}function cf(t){return t.ma||(t.ma=(function(n,r,i){const s=kt(n);return s.sa(),new WY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:YY.bind(null,t),t_:QY.bind(null,t),r_:XY.bind(null,t),H_:ZY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wS(t)?yS(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))}))),t.ma}function Pl(t){return t.fa||(t.fa=(function(n,r,i){const s=kt(n);return s.sa(),new $Y(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tQ.bind(null,t),r_:iQ.bind(null,t),ta:nQ.bind(null,t),na:rQ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await K0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ye($c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new vS(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xS(t,e){if(wa("AsyncQueue",`${e}: ${t}`),lf(t))return new lt(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static emptySet(e){return new Td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||wt.comparator(n.key,r.key):(n,r)=>wt.comparator(n.key,r.key),this.keyedMap=ah(),this.sortedSet=new $n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.ga=new $n(wt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ud{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Ud(e,n,Td.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aQ{constructor(){this.queries=gR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=kt(n),s=i.queries;i.queries=gR(),s.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new lt(De.ABORTED,"Firestore shutting down"))}}function gR(){return new tu((t=>lD(t)),V0)}async function lQ(t,e){const n=kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new oQ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=xS(o,`Initialization of query '${td(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&bS(n)}async function cQ(t,e){const n=kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uQ(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&bS(n)}function dQ(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function bS(t){t.Ca.forEach((e=>{e.next()}))}var Kb,yR;(yR=Kb||(Kb={})).Ma="default",yR.Cache="cache";class fQ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ud(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class hQ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=cD(e),this.tu=new Td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new mR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const v=i.get(f),x=U0(this.query,p)?p:null,T=!!v&&this.mutatedKeys.has(v.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let E=!1;v&&x?v.data.isEqual(x.data)?T!==_&&(r.track({type:3,doc:x}),E=!0):this.su(v,x)||(r.track({type:2,doc:x}),E=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(l=!0)):!v&&x?(r.track({type:0,doc:x}),E=!0):v&&!x&&(r.track({type:1,doc:v}),E=!0,(u||d)&&(l=!0)),E&&(x?(o=o.add(x),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(x,T){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:E})}};return _(x)-_(T)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ud(this.query,e.tu,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $D(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new WD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ud.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ES="SyncEngine";class pQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mQ{constructor(e){this.key=e,this.hu=!1}}class gQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new tu((l=>lD(l)),V0),this.Iu=new Map,this.Eu=new Set,this.du=new $n(wt.comparator),this.Au=new Map,this.Ru=new dS,this.Vu={},this.mu=new Map,this.fu=Vd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yQ(t,e,n=!0){const r=QD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await qD(r,e,n,!0),i}async function wQ(t,e){const n=QD(t);await qD(n,e,!0,!1)}async function qD(t,e,n,r){const i=await DY(t.localStore,vo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await vQ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jD(t.remoteStore,i),l}async function vQ(t,e,n,r,i){t.pu=(p,v,x)=>(async function(_,E,N,L){let M=E.view.ru(N);M.Cs&&(M=await cR(_.localStore,E.query,!1).then((({documents:q})=>E.view.ru(q,M))));const Z=L&&L.targetChanges.get(E.targetId),J=L&&L.targetMismatches.get(E.targetId)!=null,re=E.view.applyChanges(M,_.isPrimaryClient,Z,J);return vR(_,E.targetId,re.au),re.snapshot})(t,p,v,x);const s=await cR(t.localStore,e,!0),o=new hQ(e,s.Qs),l=o.ru(s.documents),u=Cp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);vR(t,n,d.au);const f=new pQ(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function xQ(t,e,n){const r=kt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!V0(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mS(r.remoteStore,i.targetId),Gb(r,i.targetId)})).catch(af)):(Gb(r,i.targetId),await qb(r.localStore,i.targetId,!0))}async function bQ(t,e){const n=kt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mS(n.remoteStore,r.targetId))}async function EQ(t,e,n){const r=RQ(t);try{const i=await(function(o,l){const u=kt(o),d=Pn.now(),f=l.reduce(((x,T)=>x.add(T.key)),Gt());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=va(),_=Gt();return u.Ns.getEntries(x,f).next((E=>{T=E,T.forEach(((N,L)=>{L.isValidDocument()||(_=_.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,T))).next((E=>{p=E;const N=[];for(const L of l){const M=LG(L,p.get(L.key).overlayedDocument);M!=null&&N.push(new nu(L.key,M,tD(M.value.mapValue),ha.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,N,l)})).next((E=>{v=E;const N=E.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(x,E.batchId,N)}))})).then((()=>({batchId:v.batchId,changes:dD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new $n(Kt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Mp(r,i.changes),await K0(r.remoteStore)}catch(i){const s=xS(i,"Failed to persist write");n.reject(s)}}async function HD(t,e){const n=kt(t);try{const r=await kY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?dn(o.hu,14607):i.removedDocuments.size>0&&(dn(o.hu,42227),o.hu=!1))})),await Mp(n,r,e)}catch(r){await af(r)}}function wR(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=kt(o);u.onlineState=l;let d=!1;u.queries.forEach(((f,p)=>{for(const v of p.Sa)v.va(l)&&(d=!0)})),d&&bS(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _Q(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new $n(wt.comparator);o=o.insert(s,ai.newNoDocument(s,Mt.min()));const l=Gt().add(s),u=new $0(Mt.min(),new Map,new $n(Kt),o,l);await HD(r,u),r.du=r.du.remove(s),r.Au.delete(e),_S(r)}else await qb(r.localStore,e,!1).then((()=>Gb(r,e,n))).catch(af)}async function SQ(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await NY(n.localStore,e);GD(n,r,null),KD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mp(n,i)}catch(i){await af(i)}}async function TQ(t,e,n){const r=kt(t);try{const i=await(function(o,l){const u=kt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((p=>(dn(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);GD(r,e,n),KD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mp(r,i)}catch(i){await af(i)}}function KD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GD(t,e,n){const r=kt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Gb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||YD(t,r)}))}function YD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_S(t))}function vR(t,e,n){for(const r of n)r instanceof WD?(t.Ru.addReference(r.key,e),AQ(t,r)):r instanceof $D?(Ye(ES,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YD(t,r.key)):_t(19791,{wu:r})}function AQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ye(ES,"New document in limbo: "+n),t.Eu.add(r),_S(t))}function _S(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new wt(Wn.fromString(e)),r=t.fu.next();t.Au.set(r,new mQ(n)),t.du=t.du.insert(n,r),jD(t.remoteStore,new wl(vo(oS(n.path)),r,"TargetPurposeLimboResolution",O0.ce))}}async function Mp(t,e,n){const r=kt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){i.push(d);const f=hS.As(u.targetId,d);s.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,d){const f=kt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ne.forEach(d,(v=>Ne.forEach(v.Es,(x=>f.persistence.referenceDelegate.addReference(p,v.targetId,x))).next((()=>Ne.forEach(v.ds,(x=>f.persistence.referenceDelegate.removeReference(p,v.targetId,x)))))))))}catch(p){if(!lf(p))throw p;Ye(pS,"Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const x=f.Ms.get(v),T=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(v,_)}}})(r.localStore,s))}async function IQ(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){Ye(ES,"User change. New user:",e.toKey());const r=await PD(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new lt(De.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mp(n,r.Ls)}}function CQ(t,e){const n=kt(t),r=n.Au.get(e);if(r&&r.hu)return Gt().add(r.key);{let i=Gt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function QD(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Q.bind(null,e),e.Pu.H_=uQ.bind(null,e.eventManager),e.Pu.yu=dQ.bind(null,e.eventManager),e}function RQ(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TQ.bind(null,e),e}class zy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MY(this.persistence,new IY,e.initialUser,this.serializer)}Cu(e){return new kD(fS.mi,this.serializer)}Du(e){return new jY}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zy.provider={build:()=>new zy};class MQ extends zy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dn(this.persistence.referenceDelegate instanceof Vy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new kD((r=>Vy.mi(r,n)),this.serializer)}}class Yb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IQ.bind(null,this.syncEngine),await sQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aQ})()}createDatastore(e){const n=q0(e.databaseInfo.databaseId),r=(function(s){return new zY(s)})(e.databaseInfo);return(function(s,o,l,u){return new HY(s,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new GY(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>wR(this.syncEngine,n,0)),(function(){return fR.v()?new fR:new BY})())}createSyncEngine(e,n){return(function(i,s,o,l,u,d,f){const p=new gQ(i,s,o,l,u,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=kt(n);Ye($c,"RemoteStore shutting down."),r.Ea.add(5),await Rp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yb.provider={build:()=>new Yb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="FirestoreClient";class kQ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oi.UNAUTHENTICATED,this.clientId=J_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Ye(Ll,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ye(Ll,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function C1(t,e){t.asyncQueue.verifyOperationInProgress(),Ye(Ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await PD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PQ(t);Ye(Ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>pR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>pR(e.remoteStore,i))),t._onlineComponents=e}async function PQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ye(Ll,"Using user provided OfflineComponentProvider");try{await C1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===De.FAILED_PRECONDITION||i.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Od("Error using user provided cache. Falling back to memory cache: "+n),await C1(t,new zy)}}else Ye(Ll,"Using default OfflineComponentProvider"),await C1(t,new MQ(void 0));return t._offlineComponents}async function XD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ye(Ll,"Using user provided OnlineComponentProvider"),await xR(t,t._uninitializedComponentsProvider._online)):(Ye(Ll,"Using default OnlineComponentProvider"),await xR(t,new Yb))),t._onlineComponents}function LQ(t){return XD(t).then((e=>e.syncEngine))}async function DQ(t){const e=await XD(t),n=e.eventManager;return n.onListen=yQ.bind(null,e.syncEngine),n.onUnlisten=xQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bQ.bind(null,e.syncEngine),n}function OQ(t,e,n={}){const r=new Tl;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,u,d){const f=new NQ({next:v=>{f.Nu(),o.enqueueAndForget((()=>cQ(s,p)));const x=v.docs.has(l);!x&&v.fromCache?d.reject(new lt(De.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&u&&u.source==="server"?d.reject(new lt(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new fQ(oS(l.path),f,{includeMetadataChanges:!0,qa:!0});return lQ(s,p)})(await DQ(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firestore.googleapis.com",ER=!0;class _R{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JD,this.ssl=ER}else this.host=e.host,this.ssl=e.ssl??ER;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ND;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uY)throw new lt(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class SS{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _R({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _R(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OK;switch(r.type){case"firstParty":return new VK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bR.get(n);r&&(Ye("ComponentProvider","Removing Datastore"),bR.delete(n),r.terminate())})(this),Promise.resolve()}}function jQ(t,e,n,r={}){t=qh(t,SS);const i=nf(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(X4(`https://${l}`),Z4("Firestore",!0)),s.host!==JD&&s.host!==l&&Od("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!Vc(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=oi.MOCK_USER;else{d=QW(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new lt(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new oi(p)}t._authCredentials=new jK(new $L(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new TS(this.firestore,e,this._query)}}class Mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}toJSON(){return{type:Mr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ap(n,Mr._jsonSchema))return new Mr(e,r||null,new wt(Wn.fromString(n.referencePath)))}}Mr._jsonSchemaVersion="firestore/documentReference/1.0",Mr._jsonSchema={type:mr("string",Mr._jsonSchemaVersion),referencePath:mr("string")};class Zh extends TS{constructor(e,n,r){super(e,n,oS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new wt(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function BQ(t,e,...n){if(t=ds(t),arguments.length===1&&(e=J_.newId()),HK("doc","path",e),t instanceof SS){const r=Wn.fromString(e,...n);return j2(r),new Mr(t,null,new wt(r))}{if(!(t instanceof Mr||t instanceof Zh))throw new lt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wn.fromString(e,...n));return j2(r),new Mr(t.firestore,t instanceof Zh?t.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="AsyncQueue";class TR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DD(this,"async_queue_retry"),this._c=()=>{const r=I1();r&&Ye(SR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=I1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=I1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Tl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lf(e))throw e;Ye(SR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",AR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=vS.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&_t(47125,{Pc:AR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class AS extends SS{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TR(e),this._firestoreClient=void 0,await e}}}function FQ(t,e){const n=nL(),r=Py,i=F_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GW("firestore");s&&jQ(i,...s)}return i}function eO(t){if(t._terminated)throw new lt(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VQ(t),t._firestoreClient}function VQ(t){const e=t._freezeSettings(),n=(function(i,s,o,l){return new iG(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ZD(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as(Hr.fromBase64String(e))}catch(n){throw new lt(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new as(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ap(e,as._jsonSchema))return as.fromBase64String(e.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:mr("string",as._jsonSchemaVersion),bytes:mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new lt(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bo._jsonSchemaVersion}}static fromJSON(e){if(Ap(e,bo._jsonSchema))return new bo(e.latitude,e.longitude)}}bo._jsonSchemaVersion="firestore/geoPoint/1.0",bo._jsonSchema={type:mr("string",bo._jsonSchemaVersion),latitude:mr("number"),longitude:mr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Eo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ap(e,Eo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Eo(e.vectorValues);throw new lt(De.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Eo._jsonSchemaVersion="firestore/vectorValue/1.0",Eo._jsonSchema={type:mr("string",Eo._jsonSchemaVersion),vectorValues:mr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=/^__.*__$/;class zQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ip(e,this.data,n,this.fieldTransforms)}}function nO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:t})}}class CS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new CS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nO(this.Ac)&&UQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q0(e)}Cc(e,n,r,i=!1){return new CS({Ac:e,methodName:n,Dc:r,path:$r.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $Q(t){const e=t._freezeSettings(),n=q0(t._databaseId);return new WQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qQ(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);oO("Data must be an object, but it was:",o,r);const l=iO(r,o);let u,d;if(s.merge)u=new Ms(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const v=HQ(e,p,n);if(!o.contains(v))throw new lt(De.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);GQ(f,v)||f.push(v)}u=new Ms(f),d=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,d=o.fieldTransforms;return new zQ(new os(l),u,d)}function rO(t,e){if(sO(t=ds(t)))return oO("Unsupported field value:",e,t),iO(t,e);if(t instanceof tO)return(function(r,i){if(!nO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let u=rO(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pn.fromDate(r);return{timestampValue:Fy(i.serializer,s)}}if(r instanceof Pn){const s=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fy(i.serializer,s)}}if(r instanceof bo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof as)return{bytesValue:SD(i.serializer,r._byteString)};if(r instanceof Mr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Eo)return(function(o,l){return{mapValue:{fields:{[JL]:{stringValue:eD},[Ly]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return aS(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${eS(r)}`)})(t,e)}function iO(t,e){const n={};return KL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(t,((r,i)=>{const s=rO(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function sO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof bo||t instanceof as||t instanceof Mr||t instanceof tO||t instanceof Eo)}function oO(t,e,n){if(!sO(n)||!qL(n)){const r=eS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function HQ(t,e,n){if((e=ds(e))instanceof IS)return e._internalPath;if(typeof e=="string")return aO(t,e);throw Wy("Field path arguments must be of type string or ",t,!1,void 0,n)}const KQ=new RegExp("[~\\*/\\[\\]]");function aO(t,e,n){if(e.search(KQ)>=0)throw Wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new IS(...e.split("."))._internalPath}catch{throw Wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new lt(De.INVALID_ARGUMENT,l+t+u)}function GQ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YQ extends lO{data(){return super.data()}}function cO(t,e){return typeof e=="string"?aO(t,e):e instanceof IS?e._internalPath:e._delegate._internalPath}class QQ{convertValue(e,n="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eu(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Ly].arrayValue?.values?.map((r=>tr(r.doubleValue)));return new Eo(n)}convertGeoPoint(e){return new bo(tr(e.latitude),tr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){const n=Ml(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wn.fromString(e);dn(MD(r),9688,{name:e});const i=new Gh(r.get(1),r.get(3)),s=new wt(r.popFirst(5));return i.isEqual(n)||wa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ch{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nc extends lO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(De.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nc._jsonSchema={type:mr("string",Nc._jsonSchemaVersion),bundleSource:mr("string","DocumentSnapshot"),bundleName:mr("string"),bundle:mr("string")};class Vg extends Nc{data(e={}){return super.data(e)}}class Ch{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ch(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vg(this._firestore,this._userDataWriter,r.key,r,new ch(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new Vg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new Vg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:ZQ(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(De.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ch._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){t=qh(t,Mr);const e=qh(t.firestore,AS);return OQ(eO(e),t._key).then((n=>rX(e,t,n)))}Ch._jsonSchemaVersion="firestore/querySnapshot/1.0",Ch._jsonSchema={type:mr("string",Ch._jsonSchemaVersion),bundleSource:mr("string","QuerySnapshot"),bundleName:mr("string"),bundle:mr("string")};class eX extends QQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,n)}}function tX(t,e,n){t=qh(t,Mr);const r=qh(t.firestore,AS),i=XQ(t.converter,e,n);return nX(r,[qQ($Q(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ha.none())])}function nX(t,e){return(function(r,i){const s=new Tl;return r.asyncQueue.enqueueAndForget((async()=>EQ(await LQ(r),i,s))),s.promise})(eO(t),e)}function rX(t,e,n){const r=n.docs.get(e._key),i=new eX(t);return new Nc(t,i,e._key,r,new ch(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){of=i})(rf),Ld(new Uc("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new AS(new BK(r.getProvider("auth-internal")),new UK(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new lt(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(d.options.projectId,f)})(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),_l(P2,L2,e),_l(P2,L2,"esm2020")})();const fr=async(t,e)=>{try{const n=await fetch("https://api.generiba.ai/"+t,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"9C9CC2279D2D26FC915E74288F612"},body:JSON.stringify(e)}),r=await n.json();return n.ok?r:"error"}catch{return"error"}},uO=C.createContext(void 0),iX=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(null),[l]=C.useState(!Ny);C.useEffect(()=>{const v=uH(_h,async x=>{if(x)try{const T=await x.getIdToken();M2(T);try{await IK.login({firebaseToken:T})}catch(E){console.error("Backend login failed:",E)}n({uid:x.uid,email:x.email,displayName:x.displayName,photoURL:x.photoURL,emailVerified:x.emailVerified,isGuest:!1});const _=await fr("sql",{query:"SELECT * FROM users WHERE email = ?",params:[x.email]});if(_.rows.length==0){const E=await fr("sql",{query:"INSERT INTO users (token, email) VALUES (?, ?)",params:[T,x.email]});console.log(E),localStorage.setItem("id",_.rows.insertId)}else localStorage.setItem("id",_.rows[0].id)}catch(T){console.error("Auth state error:",T),o("Failed to authenticate")}else n(null),N2();i(!1)});return()=>v()},[]);const p={user:e,loading:r,error:s,signInWithGoogle:async()=>{try{o(null),i(!0);const x=await(await NH(_h,Lg)).user.getIdToken();M2(x)}catch(v){throw console.error("Google sign-in error:",v),o(v.message||"Failed to sign in with Google"),v}finally{i(!1)}},signOut:async()=>{try{o(null),i(!0),await dH(_h),N2()}catch(v){throw console.error("Sign out error:",v),o(v.message||"Failed to sign out"),v}finally{i(!1)}},linkWallet:async v=>{if(!e)throw new Error("No user logged in");try{const x=FQ(),T=BQ(x,"users",e.uid),_=await JQ(T),E=_.exists()?_.data():{};await tX(T,{...E,uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,walletAddress:v,updatedAt:new Date().toISOString()},{merge:!0}),n({...e,walletAddress:v}),console.log(" Wallet linked to Firebase user:",v)}catch(x){throw console.error("Wallet linking error:",x),new Error("Failed to link wallet: "+x.message)}},isAuthenticated:!!e,isGuestMode:l};return y.jsx(uO.Provider,{value:p,children:t})},Np=()=>{const t=C.useContext(uO);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},dO=C.createContext(void 0),IR={id:"demo-user-123",email:"demo@generiba.com",name:"Demo User",walletAddress:"Demo7xK...9zP2",completedJobs:5,rating:4.8,nfts:3,joinDate:"2024-01-01"};function sX({children:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null);C.useEffect(()=>{localStorage.getItem("demoMode")==="true"&&(n(!0),i(IR))},[]);const s=()=>{localStorage.setItem("demoMode","true"),n(!0),i(IR),hr.success("Demo Mode Enabled",{description:"You can now test all features without logging in!"})},o=()=>{localStorage.removeItem("demoMode"),n(!1),i(null),hr.info("Demo Mode Disabled",{description:"You have exited demo mode"})};return y.jsx(dO.Provider,{value:{isDemoMode:e,demoUser:r,enableDemoMode:s,disableDemoMode:o},children:t})}function RS(){const t=C.useContext(dO);if(t===void 0)throw new Error("useDemo must be used within a DemoProvider");return t}const fO=C.createContext({});function Jh(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const MS=typeof window<"u",hO=MS?C.useLayoutEffect:C.useEffect,NS=C.createContext(null);function kS(t,e){t.indexOf(e)===-1&&t.push(e)}function kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xa=(t,e,n)=>n>e?e:n<t?t:n;let PS=()=>{};const ba={},pO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mO(t){return typeof t=="object"&&t!==null}const gO=t=>/^0[^.\s]+$/u.test(t);function LS(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=t=>t,oX=(t,e)=>n=>e(t(n)),Pp=(...t)=>t.reduce(oX),zd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class DS{constructor(){this.subscriptions=[]}add(e){return kS(this.subscriptions,e),()=>kp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,ls=t=>t/1e3;function yO(t,e){return e?t*(1e3/e):0}const aX=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},wO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lX=1e-7,cX=12;function uX(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=wO(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>lX&&++l<cX);return o}function Lp(t,e,n,r){if(t===e&&n===r)return cs;const i=s=>uX(s,0,1,t,n);return s=>s===0||s===1?s:wO(i(s),e,r)}const vO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xO=t=>e=>1-t(1-e),bO=Lp(.33,1.53,.69,.99),OS=xO(bO),EO=vO(OS),_O=t=>(t*=2)<1?.5*OS(t):.5*(2-Math.pow(2,-10*(t-1))),jS=t=>1-Math.sin(Math.acos(t)),SO=xO(jS),TO=vO(jS),dX=Lp(.42,0,1,1),fX=Lp(0,0,.58,1),AO=Lp(.42,0,.58,1),IO=t=>Array.isArray(t)&&typeof t[0]!="number";function CO(t,e){return IO(t)?t[aX(0,t.length,e)]:t}const RO=t=>Array.isArray(t)&&typeof t[0]=="number",hX={linear:cs,easeIn:dX,easeInOut:AO,easeOut:fX,circIn:jS,circInOut:TO,circOut:SO,backIn:OS,backInOut:EO,backOut:bO,anticipate:_O},pX=t=>typeof t=="string",CR=t=>{if(RO(t)){PS(t.length===4);const[e,n,r,i]=t;return Lp(e,n,r,i)}else if(pX(t))return hX[t];return t},lg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mX(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,v=!1)=>{const T=v&&i?n:r;return p&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const gX=40;function MO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=lg.reduce((M,Z)=>(M[Z]=mX(s),M),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:v,render:x,postRender:T}=o,_=()=>{const M=ba.useManualTiming?i.timestamp:performance.now();n=!1,ba.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(M-i.timestamp,gX),1)),i.timestamp=M,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),v.process(i),x.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},E=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:lg.reduce((M,Z)=>{const J=o[Z];return M[Z]=(re,q=!1,U=!1)=>(n||E(),J.schedule(re,q,U)),M},{}),cancel:M=>{for(let Z=0;Z<lg.length;Z++)o[lg[Z]].cancel(M)},state:i,steps:o}}const{schedule:An,cancel:Ea,state:Fr,steps:R1}=MO(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Ug;function yX(){Ug=void 0}const Mi={now:()=>(Ug===void 0&&Mi.set(Fr.isProcessing||ba.useManualTiming?Fr.timestamp:performance.now()),Ug),set:t=>{Ug=t,queueMicrotask(yX)}},NO=t=>e=>typeof e=="string"&&e.startsWith(t),BS=NO("--"),wX=NO("var(--"),FS=t=>wX(t)?vX.test(t.split("/*")[0].trim()):!1,vX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ep={...uf,transform:t=>xa(0,1,t)},cg={...uf,default:1},Rh=t=>Math.round(t*1e5)/1e5,VS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xX(t){return t==null}const bX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,US=(t,e)=>n=>!!(typeof n=="string"&&bX.test(n)&&n.startsWith(t)||e&&!xX(n)&&Object.prototype.hasOwnProperty.call(n,e)),kO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(VS);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},EX=t=>xa(0,255,t),M1={...uf,transform:t=>Math.round(EX(t))},vc={test:US("rgb","red"),parse:kO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+M1.transform(t)+", "+M1.transform(e)+", "+M1.transform(n)+", "+Rh(ep.transform(r))+")"};function _X(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qb={test:US("#"),parse:_X,transform:vc.transform},Dp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ll=Dp("deg"),_o=Dp("%"),Tt=Dp("px"),SX=Dp("vh"),TX=Dp("vw"),RR={..._o,parse:t=>_o.parse(t)/100,transform:t=>_o.transform(t*100)},ud={test:US("hsl","hue"),parse:kO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_o.transform(Rh(e))+", "+_o.transform(Rh(n))+", "+Rh(ep.transform(r))+")"},ur={test:t=>vc.test(t)||Qb.test(t)||ud.test(t),parse:t=>vc.test(t)?vc.parse(t):ud.test(t)?ud.parse(t):Qb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vc.transform(t):ud.transform(t),getAnimatableNone:t=>{const e=ur.parse(t);return e.alpha=0,ur.transform(e)}},AX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IX(t){return isNaN(t)&&typeof t=="string"&&(t.match(VS)?.length||0)+(t.match(AX)?.length||0)>0}const PO="number",LO="color",CX="var",RX="var(",MR="${}",MX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(MX,u=>(ur.test(u)?(r.color.push(s),i.push(LO),n.push(ur.parse(u))):u.startsWith(RX)?(r.var.push(s),i.push(CX),n.push(u)):(r.number.push(s),i.push(PO),n.push(parseFloat(u))),++s,MR)).split(MR);return{values:n,split:l,indexes:r,types:i}}function DO(t){return tp(t).values}function OO(t){const{split:e,types:n}=tp(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===PO?s+=Rh(i[o]):l===LO?s+=ur.transform(i[o]):s+=i[o]}return s}}const NX=t=>typeof t=="number"?0:ur.test(t)?ur.getAnimatableNone(t):t;function kX(t){const e=DO(t);return OO(t)(e.map(NX))}const Dl={test:IX,parse:DO,createTransformer:OO,getAnimatableNone:kX};function N1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=N1(u,l,t+1/3),s=N1(u,l,t),o=N1(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function $y(t,e){return n=>n>0?e:t}const Bn=(t,e,n)=>t+(e-t)*n,k1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},LX=[Qb,vc,ud],DX=t=>LX.find(e=>e.test(t));function NR(t){const e=DX(t);if(!e)return!1;let n=e.parse(t);return e===ud&&(n=PX(n)),n}const kR=(t,e)=>{const n=NR(t),r=NR(e);if(!n||!r)return $y(t,e);const i={...n};return s=>(i.red=k1(n.red,r.red,s),i.green=k1(n.green,r.green,s),i.blue=k1(n.blue,r.blue,s),i.alpha=Bn(n.alpha,r.alpha,s),vc.transform(i))},Xb=new Set(["none","hidden"]);function OX(t,e){return Xb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function jX(t,e){return n=>Bn(t,e,n)}function zS(t){return typeof t=="number"?jX:typeof t=="string"?FS(t)?$y:ur.test(t)?kR:VX:Array.isArray(t)?jO:typeof t=="object"?ur.test(t)?kR:BX:$y}function jO(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>zS(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function BX(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=zS(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function FX(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const VX=(t,e)=>{const n=Dl.createTransformer(e),r=tp(t),i=tp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xb.has(t)&&!i.values.length||Xb.has(e)&&!r.values.length?OX(t,e):Pp(jO(FX(r,i),i.values),n):$y(t,e)};function BO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Bn(t,e,n):zS(t)(t,e)}const UX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>An.update(e,n),stop:()=>Ea(e),now:()=>Fr.isProcessing?Fr.timestamp:Mi.now()}},FO=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},qy=2e4;function WS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qy;)e+=n,r=t.next(e);return e>=qy?1/0:e}function VO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(WS(r),qy);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ls(i)}}const zX=5;function UO(t,e,n){const r=Math.max(e-zX,0);return yO(n-t(r),e-r)}const Yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P1=.001;function WX({duration:t=Yn.duration,bounce:e=Yn.bounce,velocity:n=Yn.velocity,mass:r=Yn.mass}){let i,s,o=1-e;o=xa(Yn.minDamping,Yn.maxDamping,o),t=xa(Yn.minDuration,Yn.maxDuration,ls(t)),o<1?(i=d=>{const f=d*o,p=f*t,v=f-n,x=Zb(d,o),T=Math.exp(-p);return P1-v/x*T},s=d=>{const p=d*o*t,v=p*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-p),_=Zb(Math.pow(d,2),o);return(-i(d)+P1>0?-1:1)*((v-x)*T)/_}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-P1+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,u=qX(i,s,l);if(t=Ls(t),isNaN(u))return{stiffness:Yn.stiffness,damping:Yn.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const $X=12;function qX(t,e,n){let r=n;for(let i=1;i<$X;i++)r=r-t(r)/e(r);return r}function Zb(t,e){return t*Math.sqrt(1-e*e)}const HX=["duration","bounce"],KX=["stiffness","damping","mass"];function PR(t,e){return e.some(n=>t[n]!==void 0)}function GX(t){let e={velocity:Yn.velocity,stiffness:Yn.stiffness,damping:Yn.damping,mass:Yn.mass,isResolvedFromDuration:!1,...t};if(!PR(t,KX)&&PR(t,HX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*xa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Yn.mass,stiffness:i,damping:s}}else{const n=WX(t);e={...e,...n,mass:Yn.mass},e.isResolvedFromDuration=!0}return e}function np(t=Yn.visualDuration,e=Yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:p,velocity:v,isResolvedFromDuration:x}=GX({...n,velocity:-ls(n.velocity||0)}),T=v||0,_=d/(2*Math.sqrt(u*f)),E=o-s,N=ls(Math.sqrt(u/f)),L=Math.abs(E)<5;r||(r=L?Yn.restSpeed.granular:Yn.restSpeed.default),i||(i=L?Yn.restDelta.granular:Yn.restDelta.default);let M;if(_<1){const J=Zb(N,_);M=re=>{const q=Math.exp(-_*N*re);return o-q*((T+_*N*E)/J*Math.sin(J*re)+E*Math.cos(J*re))}}else if(_===1)M=J=>o-Math.exp(-N*J)*(E+(T+N*E)*J);else{const J=N*Math.sqrt(_*_-1);M=re=>{const q=Math.exp(-_*N*re),U=Math.min(J*re,300);return o-q*((T+_*N*E)*Math.sinh(U)+J*E*Math.cosh(U))/J}}const Z={calculatedDuration:x&&p||null,next:J=>{const re=M(J);if(x)l.done=J>=p;else{let q=J===0?T:0;_<1&&(q=J===0?Ls(T):UO(M,J,re));const U=Math.abs(q)<=r,P=Math.abs(o-re)<=i;l.done=U&&P}return l.value=l.done?o:re,l},toString:()=>{const J=Math.min(WS(Z),qy),re=FO(q=>Z.next(J*q).value,J,30);return J+"ms "+re},toTransition:()=>{}};return Z}np.applyToOptions=t=>{const e=VO(t,100,np);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function Jb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],v={done:!1,value:p},x=U=>l!==void 0&&U<l||u!==void 0&&U>u,T=U=>l===void 0?u:u===void 0||Math.abs(l-U)<Math.abs(u-U)?l:u;let _=n*e;const E=p+_,N=o===void 0?E:o(E);N!==E&&(_=N-p);const L=U=>-_*Math.exp(-U/r),M=U=>N+L(U),Z=U=>{const P=L(U),z=M(U);v.done=Math.abs(P)<=d,v.value=v.done?N:z};let J,re;const q=U=>{x(v.value)&&(J=U,re=np({keyframes:[v.value,T(v.value)],velocity:UO(M,U,v.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return q(0),{calculatedDuration:null,next:U=>{let P=!1;return!re&&J===void 0&&(P=!0,Z(U),q(U)),J!==void 0&&U>=J?re.next(U-J):(!P&&Z(U),v)}}}function YX(t,e,n){const r=[],i=n||ba.mix||BO,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||cs:e;l=Pp(u,l)}r.push(l)}return r}function zO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(PS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=YX(e,r,i),u=l.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const v=zd(t[p],t[p+1],f);return l[p](v)};return n?f=>d(xa(t[0],t[s-1],f)):d}function WO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zd(0,e,r);t.push(Bn(n,1,i))}}function $O(t){const e=[0];return WO(e,t.length-1),e}function QX(t,e){return t.map(n=>n*e)}function XX(t,e){return t.map(()=>e||AO).splice(0,t.length-1)}function Mh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=IO(r)?r.map(CR):CR(r),s={done:!1,value:e[0]},o=QX(n&&n.length===e.length?n:$O(e),t),l=zO(o,e,{ease:Array.isArray(i)?i:XX(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const ZX=t=>t!==null;function $S(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(ZX),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const JX={decay:Jb,inertia:Jb,tween:Mh,keyframes:Mh,spring:np};function qO(t){typeof t.type=="string"&&(t.type=JX[t.type])}class qS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const eZ=t=>t/100;class G0 extends qS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mi.now()&&this.tick(Mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qO(e);const{type:n=Mh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const u=n||Mh;u!==Mh&&typeof l[0]!="number"&&(this.mixKeyframes=Pp(eZ,BO(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WS(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:v,repeatDelay:x,type:T,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let M=this.currentTime,Z=r;if(p){const U=Math.min(this.currentTime,i)/l;let P=Math.floor(U),z=U%1;!z&&U>=1&&(z=1),z===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(v==="reverse"?(z=1-z,x&&(z-=x/l)):v==="mirror"&&(Z=o)),M=xa(0,1,z)*l}const J=L?{done:!1,value:f[0]}:Z.next(M);s&&(J.value=s(J.value));let{done:re}=J;!L&&u!==null&&(re=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return q&&T!==Jb&&(J.value=$S(f,this.options,E,this.speed)),_&&_(J.value),q&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=UX,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function tZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xc=t=>t*180/Math.PI,eE=t=>{const e=xc(Math.atan2(t[1],t[0]));return tE(e)},nZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eE,rotateZ:eE,skewX:t=>xc(Math.atan(t[1])),skewY:t=>xc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tE=t=>(t=t%360,t<0&&(t+=360),t),LR=eE,DR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DR,scaleY:OR,scale:t=>(DR(t)+OR(t))/2,rotateX:t=>tE(xc(Math.atan2(t[6],t[5]))),rotateY:t=>tE(xc(Math.atan2(-t[2],t[0]))),rotateZ:LR,rotate:LR,skewX:t=>xc(Math.atan(t[4])),skewY:t=>xc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nE(t){return t.includes("scale")?1:0}function rE(t,e){if(!t||t==="none")return nE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=rZ,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nZ,i=l}if(!i)return nE(e);const s=r[e],o=i[1].split(",").map(sZ);return typeof s=="function"?s(o):o[s]}const iZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return rE(n,e)};function sZ(t){return parseFloat(t.trim())}const df=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ff=new Set(df),jR=t=>t===uf||t===Tt,oZ=new Set(["x","y","z"]),aZ=df.filter(t=>!oZ.has(t));function lZ(t){const e=[];return aZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rE(e,"x"),y:(t,{transform:e})=>rE(e,"y")};kc.translateX=kc.x;kc.translateY=kc.y;const Pc=new Set;let iE=!1,sE=!1,oE=!1;function HO(){if(sE){const t=Array.from(Pc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sE=!1,iE=!1,Pc.forEach(t=>t.complete(oE)),Pc.clear()}function KO(){Pc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sE=!0)})}function cZ(){oE=!0,KO(),HO(),oE=!1}class HS{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Pc.add(this),iE||(iE=!0,An.read(KO),An.resolveKeyframes(HO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}tZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pc.delete(this)}cancel(){this.state==="scheduled"&&(Pc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uZ=t=>t.startsWith("--");function dZ(t,e,n){uZ(e)?t.style.setProperty(e,n):t.style[e]=n}const fZ=LS(()=>window.ScrollTimeline!==void 0),hZ={};function pZ(t,e){const n=LS(t);return()=>hZ[e]??n()}const GO=pZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uh([0,.65,.55,1]),circOut:uh([.55,0,1,.45]),backIn:uh([.31,.01,.66,-.59]),backOut:uh([.33,1.53,.69,.99])};function YO(t,e){if(t)return typeof t=="function"?GO()?FO(t,e):"ease-out":RO(t)?uh(t):Array.isArray(t)?t.map(n=>YO(n,e)||BR.easeOut):BR[t]}function mZ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const p=YO(l,i);Array.isArray(p)&&(f.easing=p);const v={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(f,v)}function KS(t){return typeof t=="function"&&"applyToOptions"in t}function gZ({type:t,...e}){return KS(t)&&GO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yZ extends qS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,PS(typeof e.type!="string");const d=gZ(e);this.animation=mZ(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=$S(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):dZ(n,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&fZ()?(this.animation.timeline=e,cs):n(this)}}const QO={anticipate:_O,backInOut:EO,circInOut:TO};function wZ(t){return t in QO}function vZ(t){typeof t.ease=="string"&&wZ(t.ease)&&(t.ease=QO[t.ease])}const FR=10;class xZ extends yZ{constructor(e){vZ(e),qO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new G0({...o,autoplay:!1}),u=Ls(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-FR).value,l.sample(u).value,FR),l.stop()}}const VR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dl.test(t)||t==="0")&&!t.startsWith("url("));function bZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=VR(i,e),l=VR(s,e);return!o||!l?!1:bZ(t)||(n==="spring"||KS(n))&&r}function aE(t){t.duration=0,t.type="keyframes"}const _Z=new Set(["opacity","clipPath","filter","transform"]),SZ=LS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TZ(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return SZ()&&n&&_Z.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const AZ=40;class IZ extends qS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mi.now();const v={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:f,...p},x=f?.KeyframeResolver||HS;this.keyframeResolver=new x(l,(T,_,E)=>this.onKeyframesResolved(T,_,v,!E),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Mi.now(),EZ(e,s,o,l)||((ba.instantAnimations||!u)&&f?.($S(e,r,n)),e[0]=e[e.length-1],aE(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>AZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!d&&TZ(v)?new xZ({...v,element:v.motionValue.owner.current}):new G0(v);x.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class CZ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return UR(this.animations,"duration")}get iterationDuration(){return UR(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function UR(t,e){let n=0;for(let r=0;r<t.length;r++){const i=t[r][e];i!==null&&i>n&&(n=i)}return n}class RZ extends CZ{then(e,n){return this.finished.finally(e).then(()=>{})}}const MZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NZ(t){const e=MZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function XO(t,e,n=1){const[r,i]=NZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return pO(o)?parseFloat(o):o}return FS(i)?XO(i,e,n+1):i}function GS(t,e){return t?.[e]??t?.default??t}const ZO=new Set(["width","height","top","left","right","bottom",...df]),kZ={test:t=>t==="auto",parse:t=>t},JO=t=>e=>e.test(t),e3=[uf,Tt,_o,ll,TX,SX,kZ],zR=t=>e3.find(JO(t));function PZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gO(t):!0}const LZ=new Set(["brightness","contrast","saturate","opacity"]);function DZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(VS)||[];if(!r)return t;const i=n.replace(r,"");let s=LZ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const OZ=/\b([a-z-]*)\(.*?\)/gu,lE={...Dl,getAnimatableNone:t=>{const e=t.match(OZ);return e?e.map(DZ).join(" "):t}},WR={...uf,transform:Math.round},jZ={rotate:ll,rotateX:ll,rotateY:ll,rotateZ:ll,scale:cg,scaleX:cg,scaleY:cg,scaleZ:cg,skew:ll,skewX:ll,skewY:ll,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:ep,originX:RR,originY:RR,originZ:Tt},YS={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...jZ,zIndex:WR,fillOpacity:ep,strokeOpacity:ep,numOctaves:WR},BZ={...YS,color:ur,backgroundColor:ur,outlineColor:ur,fill:ur,stroke:ur,borderColor:ur,borderTopColor:ur,borderRightColor:ur,borderBottomColor:ur,borderLeftColor:ur,filter:lE,WebkitFilter:lE},t3=t=>BZ[t];function n3(t,e){let n=t3(t);return n!==lE&&(n=Dl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FZ=new Set(["auto","none","0"]);function VZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!FZ.has(s)&&tp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=n3(n,i)}class UZ extends HS{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),FS(d))){const f=XO(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZO.has(r)||e.length!==2)return;const[i,s]=e,o=zR(i),l=zR(s);if(o!==l)if(jR(o)&&jR(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else kc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||PZ(e[i]))&&r.push(i);r.length&&VZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=kc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function r3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const i3=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zZ(t){return mO(t)&&"offsetHeight"in t}const $R=30,WZ=t=>!isNaN(parseFloat(t)),Nh={current:void 0};class $Z{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Mi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new DS);const r=this.events[e].add(n);return e==="change"?()=>{r(),An.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Nh.current&&Nh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$R)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$R);return yO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qc(t,e){return new $Z(t,e)}const{schedule:QS}=MO(queueMicrotask,!1),Ss={x:!1,y:!1};function s3(){return Ss.x||Ss.y}function qZ(t){return t==="x"||t==="y"?Ss[t]?null:(Ss[t]=!0,()=>{Ss[t]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function o3(t,e){const n=r3(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qR(t){return!(t.pointerType==="touch"||s3())}function HZ(t,e,n={}){const[r,i,s]=o3(t,n),o=l=>{if(!qR(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const f=p=>{qR(p)&&(d(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const a3=(t,e)=>e?t===e?!0:a3(t,e.parentElement):!1,XS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GZ(t){return KZ.has(t.tagName)||t.tabIndex!==-1}const zg=new WeakSet;function HR(t){return e=>{e.key==="Enter"&&t(e)}}function L1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=HR(()=>{if(zg.has(n))return;L1(n,"down");const i=HR(()=>{L1(n,"up")}),s=()=>L1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function KR(t){return XS(t)&&!s3()}function QZ(t,e,n={}){const[r,i,s]=o3(t,n),o=l=>{const u=l.currentTarget;if(!KR(l))return;zg.add(u);const d=e(u,l),f=(x,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),zg.has(u)&&zg.delete(u),KR(x)&&typeof d=="function"&&d(x,{success:T})},p=x=>{f(x,u===window||u===document||n.useGlobalTarget||a3(u,x.target))},v=x=>{f(x,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",v,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),zZ(l)&&(l.addEventListener("focus",d=>YZ(d,i)),!GZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function ZS(t){return mO(t)&&"ownerSVGElement"in t}function l3(t){return ZS(t)&&t.tagName==="svg"}function XZ(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],l=zO(i,s,o);return e?l(r):l}const gr=t=>!!(t&&t.getVelocity);function ZZ(t,e,n){const r=t.get();let i=null,s=r,o;const l=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,u=()=>{i&&(i.stop(),i=null)},d=()=>{u(),i=new G0({keyframes:[YR(t.get()),YR(s)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(t.attach((f,p)=>{s=f,o=v=>p(GR(v,l)),An.postRender(d)},u),gr(e)){const f=e.on("change",v=>t.set(GR(v,l))),p=t.on("destroy",f);return()=>{f(),p()}}return u}function GR(t,e){return e?t+e:t}function YR(t){return typeof t=="number"?t:parseFloat(t)}const JZ=[...e3,ur,Dl],eJ=t=>JZ.find(JO(t)),Y0=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tJ(t=!0){const e=C.useContext(NS);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const c3=C.createContext({strict:!1}),QR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wd={};for(const t in QR)Wd[t]={isEnabled:e=>QR[t].some(n=>!!e[n])};function nJ(t){for(const e in t)Wd[e]={...Wd[e],...t[e]}}const rJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rJ.has(t)}let u3=t=>!Hy(t);function iJ(t){typeof t=="function"&&(u3=e=>e.startsWith("on")?!Hy(e):t(e))}try{iJ(require("@emotion/is-prop-valid").default)}catch{}function sJ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(u3(i)||n===!0&&Hy(i)||!e&&!Hy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Q0=C.createContext({});function X0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rp(t){return typeof t=="string"||Array.isArray(t)}const JS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eT=["initial",...JS];function Z0(t){return X0(t.animate)||eT.some(e=>rp(t[e]))}function d3(t){return!!(Z0(t)||t.variants)}function oJ(t,e){if(Z0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rp(n)?n:void 0,animate:rp(r)?r:void 0}}return t.inherit!==!1?e:{}}function aJ(t){const{initial:e,animate:n}=oJ(t,C.useContext(Q0));return C.useMemo(()=>({initial:e,animate:n}),[XR(e),XR(n)])}function XR(t){return Array.isArray(t)?t.join(" "):t}const ip={};function lJ(t){for(const e in t)ip[e]=t[e],BS(e)&&(ip[e].isCSSVariable=!0)}function f3(t,{layout:e,layoutId:n}){return ff.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ip[t]||t==="opacity")}const cJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uJ=df.length;function dJ(t,e,n){let r="",i=!0;for(let s=0;s<uJ;s++){const o=df[s],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=i3(l,YS[o]);if(!u){i=!1;const f=cJ[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(ff.has(u)){o=!0;continue}else if(BS(u)){i[u]=d;continue}else{const f=i3(d,YS[u]);u.startsWith("origin")?(l=!0,s[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=dJ(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${d} ${f}`}}const nT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h3(t,e,n){for(const r in e)!gr(e[r])&&!f3(r,n)&&(t[r]=e[r])}function fJ({transformTemplate:t},e){return C.useMemo(()=>{const n=nT();return tT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hJ(t,e){const n=t.style||{},r={};return h3(r,n,t),Object.assign(r,fJ(t,e)),r}function pJ(t,e){const n={},r=hJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},gJ={offset:"strokeDashoffset",array:"strokeDasharray"};function yJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?mJ:gJ;t[s.offset]=Tt.transform(-r);const o=Tt.transform(e),l=Tt.transform(n);t[s.array]=`${o} ${l}`}function p3(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},u,d,f){if(tT(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v}=t;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&yJ(p,i,s,o,!1)}const m3=()=>({...nT(),attrs:{}}),g3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wJ(t,e,n,r){const i=C.useMemo(()=>{const s=m3();return p3(s,e,g3(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};h3(s,t.style,t),i.style={...s,...i.style}}return i}const vJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rT(t){return typeof t!="string"||t.includes("-")?!1:!!(vJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function xJ(t,e,n,{latestValues:r},i,s=!1){const l=(rT(t)?wJ:pJ)(e,r,i,t),u=sJ(e,typeof t=="string",s),d=t!==C.Fragment?{...u,...l,ref:n}:{},{children:f}=e,p=C.useMemo(()=>gr(f)?f.get():f,[f]);return C.createElement(t,{...d,children:p})}function ZR(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function iT(t,e,n,r){if(typeof e=="function"){const[i,s]=ZR(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ZR(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Wg(t){return gr(t)?t.get():t}function bJ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:EJ(n,r,i,t),renderState:e()}}function EJ(t,e,n,r){const i={},s=r(t,{});for(const v in s)i[v]=Wg(s[v]);let{initial:o,animate:l}=t;const u=Z0(t),d=d3(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!X0(p)){const v=Array.isArray(p)?p:[p];for(let x=0;x<v.length;x++){const T=iT(t,v[x]);if(T){const{transitionEnd:_,transition:E,...N}=T;for(const L in N){let M=N[L];if(Array.isArray(M)){const Z=f?M.length-1:0;M=M[Z]}M!==null&&(i[L]=M)}for(const L in _)i[L]=_[L]}}}return i}const y3=t=>(e,n)=>{const r=C.useContext(Q0),i=C.useContext(NS),s=()=>bJ(t,e,r,i);return n?s():Jh(s)};function sT(t,e,n){const{style:r}=t,i={};for(const s in r)(gr(r[s])||e.style&&gr(e.style[s])||f3(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const _J=y3({scrapeMotionValuesFromProps:sT,createRenderState:nT});function w3(t,e,n){const r=sT(t,e,n);for(const i in t)if(gr(t[i])||gr(e[i])){const s=df.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const SJ=y3({scrapeMotionValuesFromProps:w3,createRenderState:m3}),TJ=Symbol.for("motionComponentSymbol");function dd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AJ(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dd(n)&&(n.current=r))},[e])}const oT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IJ="framerAppearId",v3="data-"+oT(IJ),x3=C.createContext({});function CJ(t,e,n,r,i){const{visualElement:s}=C.useContext(Q0),o=C.useContext(c3),l=C.useContext(NS),u=C.useContext(Y0).reducedMotion,d=C.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=C.useContext(x3);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&RJ(d.current,n,i,p);const v=C.useRef(!1);C.useInsertionEffect(()=>{f&&v.current&&f.update(n,l)});const x=n[v3],T=C.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return hO(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),T.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),T.current=!1),f.enteringChildren=void 0)}),f}function RJ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b3(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&dd(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function b3(t){if(t)return t.options.allowProjection!==!1?t.projection:b3(t.parent)}function D1(t,{forwardMotionProps:e=!1}={},n,r){n&&nJ(n);const i=rT(t)?SJ:_J;function s(l,u){let d;const f={...C.useContext(Y0),...l,layoutId:MJ(l)},{isStatic:p}=f,v=aJ(l),x=i(l,p);if(!p&&MS){NJ();const T=kJ(f);d=T.MeasureLayout,v.visualElement=CJ(t,x,f,r,T.ProjectionNode)}return y.jsxs(Q0.Provider,{value:v,children:[d&&v.visualElement?y.jsx(d,{visualElement:v.visualElement,...f}):null,xJ(t,l,AJ(x,v.visualElement,u),x,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(s);return o[TJ]=t,o}function MJ({layoutId:t}){const e=C.useContext(fO).id;return e&&t!==void 0?e+"-"+t:t}function NJ(t,e){C.useContext(c3).strict}function kJ(t){const{drag:e,layout:n}=Wd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function PJ(t,e){if(typeof Proxy>"u")return D1;const n=new Map,r=(s,o)=>D1(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,D1(o,void 0,t,e)),n.get(o))})}function E3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function O1(t){return t===void 0||t===1}function cE({scale:t,scaleX:e,scaleY:n}){return!O1(t)||!O1(e)||!O1(n)}function dc(t){return cE(t)||_3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _3(t){return JR(t.x)||JR(t.y)}function JR(t){return t&&t!=="0%"}function Ky(t,e,n){const r=t-n,i=e*r;return n+i}function eM(t,e,n,r,i){return i!==void 0&&(t=Ky(t,i,r)),Ky(t,n,r)+e}function uE(t,e=0,n=1,r,i){t.min=eM(t.min,e,n,r,i),t.max=eM(t.max,e,n,r,i)}function S3(t,{x:e,y:n}){uE(t.x,e.translate,e.scale,e.originPoint),uE(t.y,n.translate,n.scale,n.originPoint)}const tM=.999999999999,nM=1.0000000000001;function OJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,S3(t,o)),r&&dc(s.latestValues)&&hd(t,s.latestValues))}e.x<nM&&e.x>tM&&(e.x=1),e.y<nM&&e.y>tM&&(e.y=1)}function fd(t,e){t.min=t.min+e,t.max=t.max+e}function rM(t,e,n,r,i=.5){const s=Bn(t.min,t.max,i);uE(t,e,n,s,r)}function hd(t,e){rM(t.x,e.x,e.scaleX,e.scale,e.originX),rM(t.y,e.y,e.scaleY,e.scale,e.originY)}function T3(t,e){return E3(DJ(t.getBoundingClientRect(),e))}function jJ(t,e,n){const r=T3(t,n),{scroll:i}=e;return i&&(fd(r.x,i.offset.x),fd(r.y,i.offset.y)),r}const iM=()=>({translate:0,scale:1,origin:0,originPoint:0}),pd=()=>({x:iM(),y:iM()}),sM=()=>({min:0,max:0}),Kn=()=>({x:sM(),y:sM()}),dE={current:null},A3={current:!1};function BJ(){if(A3.current=!0,!!MS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dE.current=t.matches;t.addEventListener("change",e),e()}else dE.current=!1}const sp=new WeakMap;function FJ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(gr(i))t.addValue(r,i);else if(gr(s))t.addValue(r,qc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,qc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Mi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,An.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Z0(n),this.isVariantNode=d3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const x=p[v];u[v]!==void 0&&gr(x)&&x.set(u[v])}}mount(e){this.current=e,sp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A3.current||BJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ff.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&An.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wd){const n=Wd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oM.length;r++){const i=oM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=FJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pO(r)||gO(r))?r=parseFloat(r):!eJ(r)&&Dl.test(n)&&(r=n3(e,n)),this.setBaseTarget(e,gr(r)?r.get():r)),gr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=iT(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!gr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new DS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){QS.render(this.render)}}class C3 extends I3{constructor(){super(...arguments),this.KeyframeResolver=UZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function R3(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function VJ(t){return window.getComputedStyle(t)}class M3 extends C3{constructor(){super(...arguments),this.type="html",this.renderInstance=R3}readValueFromInstance(e,n){if(ff.has(n))return this.projection?.isProjecting?nE(n):iZ(e,n);{const r=VJ(e),i=(BS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return T3(e,n)}build(e,n,r){tT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sT(e,n,r)}}const N3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UJ(t,e,n,r){R3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(N3.has(i)?i:oT(i),e.attrs[i])}class k3 extends C3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ff.has(n)){const r=t3(n);return r&&r.default||0}return n=N3.has(n)?n:oT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return w3(e,n,r)}build(e,n,r){p3(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){UJ(e,n,r,i)}mount(e){this.isSVGTag=g3(e.tagName),super.mount(e)}}const zJ=(t,e)=>rT(t)?new k3(e):new M3(e,{allowProjection:t!==C.Fragment});function Ad(t,e,n){const r=t.getProps();return iT(r,e,n!==void 0?n:r.custom,t)}const fE=t=>Array.isArray(t);function WJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qc(n))}function $J(t){return fE(t)?t[t.length-1]||0:t}function qJ(t,e){const n=Ad(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=$J(s[o]);WJ(t,o,l)}}function HJ(t){return!!(gr(t)&&t.add)}function hE(t,e){const n=t.getValue("willChange");if(HJ(n))return n.add(e);if(!n&&ba.WillChange){const r=new ba.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function P3(t){return t.props[v3]}const KJ=t=>t!==null;function GJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(KJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const YJ={type:"spring",stiffness:500,damping:25,restSpeed:10},QJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XJ={type:"keyframes",duration:.8},ZJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JJ=(t,{keyframes:e})=>e.length>2?XJ:ff.has(t)?t.startsWith("scale")?QJ(e[1]):YJ:ZJ;function eee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const aT=(t,e,n,r={},i,s)=>o=>{const l=GS(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ls(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};eee(l)||Object.assign(f,JJ(t,f)),f.duration&&(f.duration=Ls(f.duration)),f.repeatDelay&&(f.repeatDelay=Ls(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(aE(f),f.delay===0&&(p=!0)),(ba.instantAnimations||ba.skipAnimations)&&(p=!0,aE(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const v=GJ(f.keyframes,l);if(v!==void 0){An.update(()=>{f.onUpdate(v),f.onComplete()});return}}return l.isSync?new G0(f):new IZ(f)};function tee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),v=l[f];if(v===void 0||d&&tee(d,f))continue;const x={delay:n,...GS(s||{},f)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===T&&!x.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const N=P3(t);if(N){const L=window.MotionHandoffAnimation(N,f,An);L!==null&&(x.startTime=L,_=!0)}}hE(t,f),p.start(aT(f,p,v,t.shouldReduceMotion&&ZO.has(f)?{type:!1}:x,t,_));const E=p.animation;E&&u.push(E)}return o&&Promise.all(u).then(()=>{An.update(()=>{o&&qJ(t,o)})}),u}function L3(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}function pE(t,e,n={}){const r=Ad(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(lT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return nee(t,e,u,d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function nee(t,e,n=0,r=0,i=0,s=1,o){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(pE(u,e,{...o,delay:n+(typeof r=="function"?0:r)+L3(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function ree(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=pE(t,e,n);else{const i=typeof e=="function"?Ad(t,e,n.custom):e;r=Promise.all(lT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function D3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const iee=eT.length;function O3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?O3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iee;n++){const r=eT[n],i=t.props[r];(rp(i)||i===!1)&&(e[r]=i)}return e}const see=[...JS].reverse(),oee=JS.length;function aee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ree(t,n,r)))}function lee(t){let e=aee(t),n=aM(),r=!0;const i=u=>(d,f)=>{const p=Ad(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:v,transitionEnd:x,...T}=p;d={...d,...T,...x}}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,f=O3(t.parent)||{},p=[],v=new Set;let x={},T=1/0;for(let E=0;E<oee;E++){const N=see[E],L=n[N],M=d[N]!==void 0?d[N]:f[N],Z=rp(M),J=N===u?L.isActive:null;J===!1&&(T=E);let re=M===f[N]&&M!==d[N]&&Z;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),L.protectedKeys={...x},!L.isActive&&J===null||!M&&!L.prevProp||X0(M)||typeof M=="boolean")continue;const q=cee(L.prevProp,M);let U=q||N===u&&L.isActive&&!re&&Z||E>T&&Z,P=!1;const z=Array.isArray(M)?M:[M];let H=z.reduce(i(N),{});J===!1&&(H={});const{prevResolvedValues:k={}}=L,S={...k,...H},g=Y=>{U=!0,v.has(Y)&&(P=!0,v.delete(Y)),L.needsAnimating[Y]=!0;const K=t.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in S){const K=H[Y],X=k[Y];if(x.hasOwnProperty(Y))continue;let se=!1;fE(K)&&fE(X)?se=!D3(K,X):se=K!==X,se?K!=null?g(Y):v.add(Y):K!==void 0&&v.has(Y)?g(Y):L.protectedKeys[Y]=!0}L.prevProp=M,L.prevResolvedValues=H,L.isActive&&(x={...x,...H}),r&&t.blockInitialAnimation&&(U=!1);const I=re&&q;U&&(!I||P)&&p.push(...z.map(Y=>{const K={type:N};if(typeof Y=="string"&&r&&!I&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,se=Ad(X,Y);if(X.enteringChildren&&se){const{delayChildren:$}=se.transition||{};K.delay=L3(X.enteringChildren,t,$)}}return{animation:Y,options:K}}))}if(v.size){const E={};if(typeof d.initial!="boolean"){const N=Ad(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(E.transition=N.transition)}v.forEach(N=>{const L=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),E[N]=L??null}),p.push({animation:E})}let _=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function l(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),n[u].isActive=d;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=aM()}}}function cee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!D3(e,t):!1}function lc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aM(){return{animate:lc(!0),whileInView:lc(),whileHover:lc(),whileTap:lc(),whileDrag:lc(),whileFocus:lc(),exit:lc()}}class Bl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uee extends Bl{constructor(e){super(e),e.animationState||(e.animationState=lee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();X0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dee=0;class fee extends Bl{constructor(){super(...arguments),this.id=dee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hee={animation:{Feature:uee},exit:{Feature:fee}};function op(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Op(t){return{point:{x:t.pageX,y:t.pageY}}}const pee=t=>e=>XS(e)&&t(e,Op(e));function kh(t,e,n,r){return op(t,e,pee(n),r)}const j3=1e-4,mee=1-j3,gee=1+j3,B3=.01,yee=0-B3,wee=0+B3;function hi(t){return t.max-t.min}function vee(t,e,n){return Math.abs(t-e)<=n}function lM(t,e,n,r=.5){t.origin=r,t.originPoint=Bn(e.min,e.max,t.origin),t.scale=hi(n)/hi(e),t.translate=Bn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mee&&t.scale<=gee||isNaN(t.scale))&&(t.scale=1),(t.translate>=yee&&t.translate<=wee||isNaN(t.translate))&&(t.translate=0)}function Ph(t,e,n,r){lM(t.x,e.x,n.x,r?r.originX:void 0),lM(t.y,e.y,n.y,r?r.originY:void 0)}function cM(t,e,n){t.min=n.min+e.min,t.max=t.min+hi(e)}function xee(t,e,n){cM(t.x,e.x,n.x),cM(t.y,e.y,n.y)}function uM(t,e,n){t.min=e.min-n.min,t.max=t.min+hi(e)}function Lh(t,e,n){uM(t.x,e.x,n.x),uM(t.y,e.y,n.y)}function rs(t){return[t("x"),t("y")]}const F3=({current:t})=>t?t.ownerDocument.defaultView:null,dM=(t,e)=>Math.abs(t-e);function bee(t,e){const n=dM(t.x,e.x),r=dM(t.y,e.y);return Math.sqrt(n**2+r**2)}class V3{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=B1(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=bee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:_}=v,{timestamp:E}=Fr;this.history.push({..._,timestamp:E});const{onStart:N,onMove:L}=this.handlers;x||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=j1(x,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=B1(v.type==="pointercancel"?this.lastMoveEventInfo:j1(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,N),_&&_(v,N)},!XS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Op(e),u=j1(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Fr;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,B1(u,this.history)),this.removeListeners=Pp(kh(this.contextWindow,"pointermove",this.handlePointerMove),kh(this.contextWindow,"pointerup",this.handlePointerUp),kh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function j1(t,e){return e?{point:e(t.point)}:t}function fM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B1({point:t},e){return{point:t,delta:fM(t,U3(e)),offset:fM(t,Eee(e)),velocity:_ee(e,.1)}}function Eee(t){return t[0]}function U3(t){return t[t.length-1]}function _ee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=U3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const s=ls(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function See(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Bn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Bn(n,t,r.max):Math.min(t,n)),t}function hM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tee(t,{top:e,left:n,bottom:r,right:i}){return{x:hM(t.x,n,i),y:hM(t.y,e,r)}}function pM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Aee(t,e){return{x:pM(t.x,e.x),y:pM(t.y,e.y)}}function Iee(t,e){let n=.5;const r=hi(t),i=hi(e);return i>r?n=zd(e.min,e.max-r,t.min):r>i&&(n=zd(t.min,t.max-i,e.min)),xa(0,1,n)}function Cee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mE=.35;function Ree(t=mE){return t===!1?t=0:t===!0&&(t=mE),{x:mM(t,"left","right"),y:mM(t,"top","bottom")}}function mM(t,e,n){return{min:gM(t,e),max:gM(t,n)}}function gM(t,e){return typeof t=="number"?t:t[e]||0}const Mee=new WeakMap;class Nee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Op(p).point)},o=(p,v)=>{const{drag:x,dragPropagation:T,onDragStart:_}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qZ(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs(N=>{let L=this.getAxisMotionValue(N).get()||0;if(_o.test(L)){const{projection:M}=this.visualElement;if(M&&M.layout){const Z=M.layout.layoutBox[N];Z&&(L=hi(Z)*(parseFloat(L)/100))}}this.originPoint[N]=L}),_&&An.postRender(()=>_(p,v)),hE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:_,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=v;if(T&&this.currentDirection===null){this.currentDirection=kee(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),E&&E(p,v)},u=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>rs(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new V3(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:F3(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&An.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ug(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=See(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&dd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Tee(r.layoutBox,e):this.constraints=!1,this.elastic=Ree(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Cee(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jJ(r,i.root,this.visualElement.getTransformPagePoint());let o=Aee(i.layout.layoutBox,s);if(n){const l=n(LJ(o));this.hasMutatedConstraints=!!l,l&&(o=E3(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=rs(f=>{if(!ug(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,T={type:"inertia",velocity:r?e[f]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hE(this.visualElement,e),r.start(aT(e,r,0,n,this.visualElement,!1))}stopAnimation(){rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rs(n=>{const{drag:r}=this.getProps();if(!ug(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Bn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();i[o]=Iee({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rs(o=>{if(!ug(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Bn(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Mee.set(this.visualElement,this);const e=this.visualElement.current,n=kh(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();dd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),An.read(r);const o=op(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(rs(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mE,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function ug(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Pee extends Bl{constructor(e){super(e),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new Nee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const yM=t=>(e,n)=>{t&&An.postRender(()=>t(e,n))};class Lee extends Bl{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(e){this.session=new V3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yM(e),onStart:yM(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&An.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=kh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $g={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Tt.test(t))t=parseFloat(t);else return t;const n=wM(t,e.target.x),r=wM(t,e.target.y);return`${n}% ${r}%`}},Dee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Dl.parse(t);if(i.length>5)return r;const s=Dl.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=Bn(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let F1=!1;class Oee extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lJ(jee),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),F1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$g.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,F1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||An.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),QS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;F1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z3(t){const[e,n]=tJ(),r=C.useContext(fO);return y.jsx(Oee,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(x3),isPresent:e,safeToRemove:n})}const jee={borderRadius:{...nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nh,borderTopRightRadius:nh,borderBottomLeftRadius:nh,borderBottomRightRadius:nh,boxShadow:Dee};function W3(t,e,n){const r=gr(t)?t:qc(t);return r.start(aT("",r,e,n)),r.animation}const Bee=(t,e)=>t.depth-e.depth;class Fee{constructor(){this.children=[],this.isDirty=!1}add(e){kS(this.children,e),this.isDirty=!0}remove(e){kp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bee),this.isDirty=!1,this.children.forEach(e)}}function Vee(t,e){const n=Mi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ea(r),t(s-e))};return An.setup(r,!0),()=>Ea(r)}const $3=["TopLeft","TopRight","BottomLeft","BottomRight"],Uee=$3.length,vM=t=>typeof t=="string"?parseFloat(t):t,xM=t=>typeof t=="number"||Tt.test(t);function zee(t,e,n,r,i,s){i?(t.opacity=Bn(0,n.opacity??1,Wee(r)),t.opacityExit=Bn(e.opacity??1,0,$ee(r))):s&&(t.opacity=Bn(e.opacity??1,n.opacity??1,r));for(let o=0;o<Uee;o++){const l=`border${$3[o]}Radius`;let u=bM(e,l),d=bM(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||xM(u)===xM(d)?(t[l]=Math.max(Bn(vM(u),vM(d),r),0),(_o.test(d)||_o.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Bn(e.rotate||0,n.rotate||0,r))}function bM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wee=q3(0,.5,SO),$ee=q3(.5,.95,cs);function q3(t,e,n){return r=>r<t?0:r>e?1:n(zd(t,e,r))}function EM(t,e){t.min=e.min,t.max=e.max}function es(t,e){EM(t.x,e.x),EM(t.y,e.y)}function _M(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SM(t,e,n,r,i){return t-=e,t=Ky(t,1/n,r),i!==void 0&&(t=Ky(t,1/i,r)),t}function qee(t,e=0,n=1,r=.5,i,s=t,o=t){if(_o.test(e)&&(e=parseFloat(e),e=Bn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Bn(s.min,s.max,r);t===s&&(l-=e),t.min=SM(t.min,e,n,l,i),t.max=SM(t.max,e,n,l,i)}function TM(t,e,[n,r,i],s,o){qee(t,e[n],e[r],e[i],e.scale,s,o)}const Hee=["x","scaleX","originX"],Kee=["y","scaleY","originY"];function AM(t,e,n,r){TM(t.x,e,Hee,n?n.x:void 0,r?r.x:void 0),TM(t.y,e,Kee,n?n.y:void 0,r?r.y:void 0)}function IM(t){return t.translate===0&&t.scale===1}function H3(t){return IM(t.x)&&IM(t.y)}function CM(t,e){return t.min===e.min&&t.max===e.max}function Gee(t,e){return CM(t.x,e.x)&&CM(t.y,e.y)}function RM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K3(t,e){return RM(t.x,e.x)&&RM(t.y,e.y)}function MM(t){return hi(t.x)/hi(t.y)}function NM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Yee{constructor(){this.members=[]}add(e){kS(this.members,e),e.scheduleRender()}remove(e){if(kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qee(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:v,skewX:x,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const V1=["","X","Y","Z"],Xee=1e3;let Zee=0;function U1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function G3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",An,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&G3(r)}function Y3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=Zee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tte),this.nodes.forEach(ste),this.nodes.forEach(ote),this.nodes.forEach(nte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fee)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new DS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZS(o)&&!l3(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const v=()=>this.root.updateBlockedByResize=!1;An.read(()=>{p=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,f&&f(),f=Vee(v,250),$g.hasAnimatedSinceResize&&($g.hasAnimatedSinceResize=!1,this.nodes.forEach(LM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||dte,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=d.getProps(),N=!this.targetLayout||!K3(this.targetLayout,x),L=!p&&v;if(this.options.layoutRoot||this.resumeFrom||L||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...GS(T,"layout"),onPlay:_,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(f,L)}else p||LM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ate),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(PM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ite),this.nodes.forEach(Jee),this.nodes.forEach(ete)):this.nodes.forEach(PM),this.clearAllSnapshots();const l=Mi.now();Fr.delta=xa(0,1e3/60,l-Fr.timestamp),Fr.timestamp=l,Fr.isProcessing=!0,R1.update.process(Fr),R1.preRender.process(Fr),R1.render.process(Fr),Fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rte),this.sharedNodes.forEach(lte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hi(this.snapshot.measuredBox.x)&&!hi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!H3(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||dc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),fte(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Kn();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hte))){const{scroll:d}=this.root;d&&(fd(l.x,d.offset.x),fd(l.y,d.offset.y))}return l}removeElementScroll(o){const l=Kn();if(es(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&es(l,o),fd(l.x,f.offset.x),fd(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const u=Kn();es(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&hd(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),dc(f.latestValues)&&hd(u,f.latestValues)}return dc(this.latestValues)&&hd(u,this.latestValues),u}removeTransform(o){const l=Kn();es(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!dc(d.latestValues))continue;cE(d.latestValues)&&d.updateSnapshot();const f=Kn(),p=d.measurePageBox();es(f,p),AM(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return dc(this.latestValues)&&AM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Fr.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),Lh(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kn(),this.targetWithTransforms=Kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):es(this.target,this.layout.layoutBox),S3(this.target,this.targetDelta)):es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),Lh(this.relativeTargetOrigin,this.target,v.target),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cE(this.parent.latestValues)||_3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;es(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;OJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kn());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_M(this.prevProjectionDelta.x,this.projectionDelta.x),_M(this.prevProjectionDelta.y,this.projectionDelta.y)),Ph(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!NM(this.projectionDelta.x,this.prevProjectionDelta.x)||!NM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pd(),this.projectionDelta=pd(),this.projectionDeltaWithTransform=pd()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=pd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Kn(),x=u?u.source:void 0,T=this.layout?this.layout.source:void 0,_=x!==T,E=this.getStack(),N=!E||E.members.length<=1,L=!!(_&&!N&&this.options.crossfade===!0&&!this.path.some(ute));this.animationProgress=0;let M;this.mixTargetDelta=Z=>{const J=Z/1e3;DM(p.x,o.x,J),DM(p.y,o.y,J),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cte(this.relativeTarget,this.relativeTargetOrigin,v,J),M&&Gee(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Kn()),es(M,this.relativeTarget)),_&&(this.animationValues=f,zee(f,d,this.latestValues,J,L,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{$g.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qc(0)),this.currentAnimation=W3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&Q3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Kn();const p=hi(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const v=hi(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}es(l,u),hd(l,f),Ph(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yee),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&U1("z",o,d,this.animationValues);for(let f=0;f<V1.length;f++)U1(`rotate${V1[f]}`,o,d,this.animationValues),U1(`skew${V1[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wg(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wg(l?.pointerEvents)||""),this.hasProjected&&!dc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=Qee(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:v,y:x}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in ip){if(f[T]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:N}=ip[T],L=p==="none"?f[T]:_(f[T],d);if(E){const M=E.length;for(let Z=0;Z<M;Z++)o[E[Z]]=L}else N?this.options.visualElement.renderState.vars[T]=L:o[T]=L}this.options.layoutId&&(o.pointerEvents=d===this?Wg(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(kM),this.root.sharedNodes.clear()}}}function Jee(t){t.updateLayout()}function ete(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?rs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],v=hi(p);p.min=n[f].min,p.max=p.min+v}):Q3(i,e.layoutBox,n)&&rs(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],v=hi(n[f]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const o=pd();Ph(o,n,e.layoutBox);const l=pd();s?Ph(l,t.applyTransform(r,!0),e.measuredBox):Ph(l,n,e.layoutBox);const u=!H3(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:v}=f;if(p&&v){const x=Kn();Lh(x,e.layoutBox,p.layoutBox);const T=Kn();Lh(T,n,v.layoutBox),K3(x,T)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rte(t){t.clearSnapshot()}function kM(t){t.clearMeasurements()}function PM(t){t.isLayoutDirty=!1}function ite(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ste(t){t.resolveTargetDelta()}function ote(t){t.calcProjection()}function ate(t){t.resetSkewAndRotation()}function lte(t){t.removeLeadSnapshot()}function DM(t,e,n){t.translate=Bn(e.translate,0,n),t.scale=Bn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OM(t,e,n,r){t.min=Bn(e.min,n.min,r),t.max=Bn(e.max,n.max,r)}function cte(t,e,n,r){OM(t.x,e.x,n.x,r),OM(t.y,e.y,n.y,r)}function ute(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dte={duration:.45,ease:[.4,0,.1,1]},jM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BM=jM("applewebkit/")&&!jM("chrome/")?Math.round:cs;function FM(t){t.min=BM(t.min),t.max=BM(t.max)}function fte(t){FM(t.x),FM(t.y)}function Q3(t,e,n){return t==="position"||t==="preserve-aspect"&&!vee(MM(e),MM(n),.2)}function hte(t){return t!==t.root&&t.scroll?.wasRoot}const pte=Y3({attachResizeListener:(t,e)=>op(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),z1={current:void 0},X3=Y3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!z1.current){const t=new pte({});t.mount(window),t.setOptions({layoutScroll:!0}),z1.current=t}return z1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mte={pan:{Feature:Lee},drag:{Feature:Pee,ProjectionNode:X3,MeasureLayout:z3}};function VM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&An.postRender(()=>s(e,Op(e)))}class gte extends Bl{mount(){const{current:e}=this.node;e&&(this.unmount=HZ(e,(n,r)=>(VM(this.node,r,"Start"),i=>VM(this.node,i,"End"))))}unmount(){}}class yte extends Bl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pp(op(this.node.current,"focus",()=>this.onFocus()),op(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&An.postRender(()=>s(e,Op(e)))}class wte extends Bl{mount(){const{current:e}=this.node;e&&(this.unmount=QZ(e,(n,r)=>(UM(this.node,r,"Start"),(i,{success:s})=>UM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gE=new WeakMap,W1=new WeakMap,vte=t=>{const e=gE.get(t.target);e&&e(t)},xte=t=>{t.forEach(vte)};function bte({root:t,...e}){const n=t||document;W1.has(n)||W1.set(n,{});const r=W1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xte,{root:t,...e})),r[i]}function Ete(t,e,n){const r=bte(e);return gE.set(t,n),r.observe(t),()=>{gE.delete(t),r.unobserve(t)}}const _te={some:0,all:1};class Ste extends Bl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_te[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=d?f:p;v&&v(u)};return Ete(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Tte(e,n))&&this.startObserver()}unmount(){}}function Tte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ate={inView:{Feature:Ste},tap:{Feature:wte},focus:{Feature:yte},hover:{Feature:gte}},Ite={layout:{ProjectionNode:X3,MeasureLayout:z3}},Cte={...hee,...Ate,...mte,...Ite},cT=PJ(Cte,zJ);function Rte(t){return C.useEffect(()=>()=>t(),[])}function Gy(t){const e=Jh(()=>qc(t)),{isStatic:n}=C.useContext(Y0);if(n){const[,r]=C.useState(t);C.useEffect(()=>e.on("change",r),[])}return e}function Z3(t,e){const n=Gy(e()),r=()=>n.set(e());return r(),hO(()=>{const i=()=>An.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ea(r)}}),n}function Mte(t){Nh.current=[],t();const e=Z3(Nh.current,t);return Nh.current=void 0,e}function yE(t,e,n,r){if(typeof t=="function")return Mte(t);const i=typeof e=="function"?e:XZ(e,n,r);return Array.isArray(t)?zM(t,i):zM([t],([s])=>i(s))}function zM(t,e){const n=Jh(()=>[]);return Z3(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function WM(t,e={}){const{isStatic:n}=C.useContext(Y0),r=()=>gr(t)?t.get():t;if(n)return yE(r);const i=Gy(r());return C.useInsertionEffect(()=>ZZ(i,t,e),[i,JSON.stringify(e)]),i}function uT(t){return typeof t=="object"&&!Array.isArray(t)}function J3(t,e,n,r){return typeof t=="string"&&uT(e)?r3(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function Nte(t,e,n){return t*(e+1)}function $M(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function kte(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(kp(t,i),r--)}}function Pte(t,e,n,r,i,s){kte(t,i,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:Bn(i,s,r[o]),easing:CO(n,o)})}function Lte(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Dte(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Ote="easeInOut";function jte(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,o=new Map,l=new Map,u={},d=new Map;let f=0,p=0,v=0;for(let x=0;x<t.length;x++){const T=t[x];if(typeof T=="string"){d.set(T,p);continue}else if(!Array.isArray(T)){d.set(T.name,$M(p,T.at,f,d));continue}let[_,E,N={}]=T;N.at!==void 0&&(p=$M(p,N.at,f,d));let L=0;const M=(Z,J,re,q=0,U=0)=>{const P=Bte(Z),{delay:z=0,times:H=$O(P),type:k="keyframes",repeat:S,repeatType:g,repeatDelay:I=0,...W}=J;let{ease:Y=e.ease||"easeOut",duration:K}=J;const X=typeof z=="function"?z(q,U):z,se=P.length,$=KS(k)?k:i?.[k||"keyframes"];if(se<=2&&$){let ie=100;if(se===2&&Ute(P)){const _e=P[1]-P[0];ie=Math.abs(_e)}const ue={...W};K!==void 0&&(ue.duration=Ls(K));const ce=VO(ue,ie,$);Y=ce.ease,K=ce.duration}K??(K=s);const b=p+X;H.length===1&&H[0]===0&&(H[1]=1);const R=H.length-P.length;if(R>0&&WO(H,R),P.length===1&&P.unshift(null),S){K=Nte(K,S);const ie=[...P],ue=[...H];Y=Array.isArray(Y)?[...Y]:[Y];const ce=[...Y];for(let _e=0;_e<S;_e++){P.push(...ie);for(let Me=0;Me<ie.length;Me++)H.push(ue[Me]+(_e+1)),Y.push(Me===0?"linear":CO(ce,Me-1))}Lte(H,S)}const Q=b+K;Pte(re,P,Y,H,b,Q),L=Math.max(X+K,L),v=Math.max(Q,v)};if(gr(_)){const Z=qM(_,l);M(E,N,HM("default",Z))}else{const Z=J3(_,E,r,u),J=Z.length;for(let re=0;re<J;re++){E=E,N=N;const q=Z[re],U=qM(q,l);for(const P in E)M(E[P],Fte(N,P),HM(P,U),re,J)}}f=p,p+=L}return l.forEach((x,T)=>{for(const _ in x){const E=x[_];E.sort(Dte);const N=[],L=[],M=[];for(let J=0;J<E.length;J++){const{at:re,value:q,easing:U}=E[J];N.push(q),L.push(zd(0,v,re)),M.push(U||"easeOut")}L[0]!==0&&(L.unshift(0),N.unshift(N[0]),M.unshift(Ote)),L[L.length-1]!==1&&(L.push(1),N.push(null)),o.has(T)||o.set(T,{keyframes:{},transition:{}});const Z=o.get(T);Z.keyframes[_]=N,Z.transition[_]={...e,duration:v,ease:M,times:L,...n}}}),o}function qM(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function HM(t,e){return e[t]||(e[t]=[]),e[t]}function Bte(t){return Array.isArray(t)?t:[t]}function Fte(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Vte=t=>typeof t=="number",Ute=t=>t.every(Vte);function zte(t,e){return t in e}class Wte extends I3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(zte(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Kn()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function $te(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ZS(t)&&!l3(t)?new k3(e):new M3(e);n.mount(t),sp.set(t,n)}function qte(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Wte(e);n.mount(t),sp.set(t,n)}function Hte(t,e){return gr(t)||typeof t=="number"||typeof t=="string"&&!uT(e)}function ej(t,e,n,r){const i=[];if(Hte(t,e))i.push(W3(t,uT(e)&&e.default||e,n&&(n.default||n)));else{const s=J3(t,e,r),o=s.length;for(let l=0;l<o;l++){const u=s[l],d=u instanceof Element?$te:qte;sp.has(u)||d(u);const f=sp.get(u),p={...n};"delay"in p&&typeof p.delay=="function"&&(p.delay=p.delay(l,o)),i.push(...lT(f,{...e,transition:p},{}))}}return i}function Kte(t,e,n){const r=[];return jte(t,e,n,{spring:np}).forEach(({keyframes:s,transition:o},l)=>{r.push(...ej(l,s,o))}),r}function Gte(t){return Array.isArray(t)&&t.some(Array.isArray)}function Yte(t){function e(n,r,i){let s=[],o;if(Gte(n))s=Kte(n,r,t);else{const{onComplete:u,...d}=i||{};typeof u=="function"&&(o=u),s=ej(n,r,d,t)}const l=new RZ(s);return o&&l.finished.then(o),t&&(t.animations.push(l),l.finished.then(()=>{kp(t.animations,l)})),l}return e}function Qte(){const t=Jh(()=>({current:null,animations:[]})),e=Jh(()=>Yte(t));return Rte(()=>{t.animations.forEach(n=>n.stop()),t.animations.length=0}),[t,e]}const KM=({className:t,children:e,onClick:n,disabled:r})=>{const{isActive:i,handlePress:s}=Xte(),[o,l]=Qte(),u=C.useRef(null),d=C.useRef(null);C.useEffect(()=>{const E=window.AudioContext||window.webkitAudioContext;try{u.current=new E}catch{}fetch("/click.mp3").then(N=>N.arrayBuffer()).then(N=>u.current?.decodeAudioData(N)).then(N=>{N&&(d.current=N)}).catch(N=>console.error("Error loading audio",N))},[]);function f(){const E=u.current;if(!E)return;E.state==="suspended"&&E.resume().catch(()=>{});const N=L=>{const M=E.createBufferSource();M.buffer=L;const Z=E.createGain();Z.gain.value=.8,M.connect(Z),Z.connect(E.destination);try{M.start()}catch{}};if(d.current){N(d.current);return}fetch("/clicl.mp3").then(L=>L.arrayBuffer()).then(L=>E.decodeAudioData(L)).then(L=>{d.current=L,N(L)}).catch(()=>{})}function p(E){r||(f(),s(),_(E,5,10),n&&n(E))}function v(E){r||_(E,3,5)}function x(E){if(r)return;const N=E.touches[0];if(N){const L={clientX:N.clientX,clientY:N.clientY};_(L,3,5)}}function T(E,N){const L=document.createElement("div");L.className=ut("absolute rounded-full bg-white/90 dark:bg-white/90 shadow-md");const M=Zte(15,25);return Object.assign(L.style,{height:`${M}px`,width:`${M}px`,left:E,top:N,transform:"translate(-50%, -50%)"}),L}async function _(E,N=5,L=10){if(!o.current)return;const M={duration:.4,ease:"easeOut"},Z=o.current.querySelector("#splash-wrapper"),J=Math.floor(Math.random()*(L-N+1))+N,re=[],q=o.current.getBoundingClientRect(),P=(k=>typeof k=="object"&&k!==null&&"clientX"in k&&"clientY"in k&&typeof k.clientX=="number"&&typeof k.clientY=="number")(E)?E:null,z=P?`${P.clientX-q.left}px`:"50%",H=P?`${P.clientY-q.top}px`:"50%";for(let k=0;k<J;k++){const S=T(z,H);Z.appendChild(S),re.push(S)}await Promise.all(re.map(k=>{const S=Math.random()*Math.PI*2,g=Math.random()*50+50,I=Math.cos(S)*g,W=Math.sin(S)*g;return l(k,{x:I,y:W,scale:0},M)})),re.forEach(k=>k.remove())}return y.jsxs("div",{ref:o,role:"button",tabIndex:r?-1:0,...r?{"aria-disabled":!0}:{},className:ut("group relative cursor-pointer",r&&"pointer-events-none opacity-60"),onClick:E=>p(E),onMouseEnter:E=>v(E),onTouchStart:E=>x(E),onKeyDown:E=>{r||(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),s(),f(),_(E,5,10),n&&n(E))},children:[y.jsx("span",{id:"splash-wrapper",className:"absolute inset-0"}),y.jsx("span",{className:ut("absolute inset-0 translate-y-[4px] rounded-md","bg-d-fg/40")}),y.jsx("span",{className:ut("relative flex items-center justify-center rounded-md px-3 py-2.5 inset-shadow-sm will-change-transform select-none","bg-gray-100 text-sm font-bold text-black/80 dark:bg-gray-800 dark:text-white","group-hover:translate-y-[-2px] group-hover:[transition-duration:250ms]","[transition:translate_600ms_ease-out]",i&&"translate-y-[4px]! [transition-duration:34ms]!",t),children:e})]})},Xte=(t=34,e=34)=>{const[n,r]=C.useState(!1),i=C.useRef(0),s=C.useRef(null),o=C.useCallback(()=>{const l=Date.now();l-i.current<e||(i.current=l,r(!0),s.current&&(clearTimeout(s.current),s.current=null),s.current=window.setTimeout(()=>{r(!1),s.current=null},t))},[t,e]);return C.useEffect(()=>()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{isActive:n,handlePress:o}};function Zte(t,e){return Math.floor(Math.random()*(e-t+1)+t)}const Jte=b0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jt=C.forwardRef(({children:t,className:e,variant:n="default",size:r="default",asChild:i=!1,splash3d:s,...o},l)=>{const u=i?eV:"button",d=ut(Jte({variant:n,size:r,className:e}));if(typeof s=="boolean"?s:n==="default"){if(i){const v=o.onClick;return y.jsx(KM,{className:d,onClick:v,disabled:o.disabled,children:y.jsx(u,{ref:l,...o,children:t})})}const p=o.onClick;return y.jsx(KM,{className:d,onClick:p,disabled:o.disabled,children:y.jsx("span",{className:"inline-flex items-center justify-center",children:t})})}return y.jsx(u,{className:d,ref:l,...o,children:t})});Jt.displayName="Button";function ene(){const{isGuestMode:t,user:e}=Np(),[n,r]=C.useState(!1);return!t||n||!e?.isGuest?null:y.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-amber-500 to-orange-600 text-white py-3 px-4 shadow-lg",children:y.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[y.jsx(LP,{className:"w-5 h-5 flex-shrink-0"}),y.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-sm",children:[y.jsx("span",{className:"font-semibold",children:" Guest Mode Active"}),y.jsx("span",{className:"hidden sm:inline text-white/90",children:"Firebase credentials not configured - All features available without authentication"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(Jt,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 hover:text-white h-8 px-3",onClick:()=>{window.open("https://firebase.google.com/docs/web/setup","_blank")},children:[y.jsx(eU,{className:"w-4 h-4 mr-1"}),y.jsx("span",{className:"hidden sm:inline",children:"Setup Guide"})]}),y.jsx(Jt,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 hover:text-white h-8 w-8 p-0",onClick:()=>r(!0),children:y.jsx(yp,{className:"w-4 h-4"})})]})]})})}var $1="focusScope.autoFocusOnMount",q1="focusScope.autoFocusOnUnmount",GM={bubbles:!1,cancelable:!0},tne="FocusScope",J0=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=C.useState(null),d=mi(i),f=mi(s),p=C.useRef(null),v=cn(e,_=>u(_)),x=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let _=function(M){if(x.paused||!l)return;const Z=M.target;l.contains(Z)?p.current=Z:cl(p.current,{select:!0})},E=function(M){if(x.paused||!l)return;const Z=M.relatedTarget;Z!==null&&(l.contains(Z)||cl(p.current,{select:!0}))},N=function(M){if(document.activeElement===document.body)for(const J of M)J.removedNodes.length>0&&cl(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",E);const L=new MutationObserver(N);return l&&L.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",E),L.disconnect()}}},[r,l,x.paused]),C.useEffect(()=>{if(l){QM.add(x);const _=document.activeElement;if(!l.contains(_)){const N=new CustomEvent($1,GM);l.addEventListener($1,d),l.dispatchEvent(N),N.defaultPrevented||(nne(ane(tj(l)),{select:!0}),document.activeElement===_&&cl(l))}return()=>{l.removeEventListener($1,d),setTimeout(()=>{const N=new CustomEvent(q1,GM);l.addEventListener(q1,f),l.dispatchEvent(N),N.defaultPrevented||cl(_??document.body,{select:!0}),l.removeEventListener(q1,f),QM.remove(x)},0)}}},[l,d,f,x]);const T=C.useCallback(_=>{if(!n&&!r||x.paused)return;const E=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,N=document.activeElement;if(E&&N){const L=_.currentTarget,[M,Z]=rne(L);M&&Z?!_.shiftKey&&N===Z?(_.preventDefault(),n&&cl(M,{select:!0})):_.shiftKey&&N===M&&(_.preventDefault(),n&&cl(Z,{select:!0})):N===L&&_.preventDefault()}},[n,r,x.paused]);return y.jsx(St.div,{tabIndex:-1,...o,ref:v,onKeyDown:T})});J0.displayName=tne;function nne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cl(r,{select:e}),document.activeElement!==n)return}function rne(t){const e=tj(t),n=YM(e,t),r=YM(e.reverse(),t);return[n,r]}function tj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YM(t,e){for(const n of t)if(!ine(n,{upTo:e}))return n}function ine(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sne(t){return t instanceof HTMLInputElement&&"select"in t}function cl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sne(t)&&e&&t.select()}}var QM=one();function one(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=XM(t,e),t.unshift(e)},remove(e){t=XM(t,e),t[0]?.resume()}}}function XM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ane(t){return t.filter(e=>e.tagName!=="A")}var H1=0;function dT(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZM()),document.body.insertAdjacentElement("beforeend",t[1]??ZM()),H1++,()=>{H1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),H1--}},[])}function ZM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ho=function(){return ho=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ho.apply(this,arguments)};function nj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lne(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var qg="right-scroll-bar-position",Hg="width-before-scroll-bar",cne="with-scroll-bars-hidden",une="--removed-body-scroll-bar-size";function K1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dne(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var fne=typeof window<"u"?C.useLayoutEffect:C.useEffect,JM=new WeakMap;function hne(t,e){var n=dne(null,function(r){return t.forEach(function(i){return K1(i,r)})});return fne(function(){var r=JM.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||K1(l,null)}),s.forEach(function(l){i.has(l)||K1(l,o)})}JM.set(n,t)},[t]),n}function pne(t){return t}function mne(t,e){e===void 0&&(e=pne);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var u=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function gne(t){t===void 0&&(t={});var e=mne(null);return e.options=ho({async:!0,ssr:!1},t),e}var rj=function(t){var e=t.sideCar,n=nj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,ho({},n))};rj.isSideCarExport=!0;function yne(t,e){return t.useMedium(e),rj}var ij=gne(),G1=function(){},ew=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:G1,onWheelCapture:G1,onTouchMoveCapture:G1}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,v=t.sideCar,x=t.noRelative,T=t.noIsolation,_=t.inert,E=t.allowPinchZoom,N=t.as,L=N===void 0?"div":N,M=t.gapMode,Z=nj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=v,re=hne([n,e]),q=ho(ho({},Z),i);return C.createElement(C.Fragment,null,f&&C.createElement(J,{sideCar:ij,removeScrollBar:d,shards:p,noRelative:x,noIsolation:T,inert:_,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:M}),o?C.cloneElement(C.Children.only(l),ho(ho({},q),{ref:re})):C.createElement(L,ho({},q,{className:u,ref:re}),l))});ew.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ew.classNames={fullWidth:Hg,zeroRight:qg};var wne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wne();return e&&t.setAttribute("nonce",e),t}function xne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ene=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vne())&&(xne(e,n),bne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_ne=function(){var t=Ene();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sj=function(){var t=_ne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Sne={left:0,top:0,right:0,gap:0},Y1=function(t){return parseInt(t||"",10)||0},Tne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Y1(n),Y1(r),Y1(i)]},Ane=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Sne;var e=Tne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ine=sj(),Id="data-scroll-locked",Cne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Hg,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qg," .").concat(qg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hg," .").concat(Hg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Id,`] {
    `).concat(une,": ").concat(l,`px;
  }
`)},eN=function(){var t=parseInt(document.body.getAttribute(Id)||"0",10);return isFinite(t)?t:0},Rne=function(){C.useEffect(function(){return document.body.setAttribute(Id,(eN()+1).toString()),function(){var t=eN()-1;t<=0?document.body.removeAttribute(Id):document.body.setAttribute(Id,t.toString())}},[])},Mne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Rne();var s=C.useMemo(function(){return Ane(i)},[i]);return C.createElement(Ine,{styles:Cne(s,!e,i,n?"":"!important")})},wE=!1;if(typeof window<"u")try{var dg=Object.defineProperty({},"passive",{get:function(){return wE=!0,!0}});window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{wE=!1}var qu=wE?{passive:!1}:!1,Nne=function(t){return t.tagName==="TEXTAREA"},oj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nne(t)&&n[e]==="visible")},kne=function(t){return oj(t,"overflowY")},Pne=function(t){return oj(t,"overflowX")},tN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=aj(t,r);if(i){var s=lj(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aj=function(t,e){return t==="v"?kne(e):Pne(e)},lj=function(t,e){return t==="v"?Lne(e):Dne(e)},One=function(t,e){return t==="h"&&e==="rtl"?-1:1},jne=function(t,e,n,r,i){var s=One(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,u=e.contains(l),d=!1,f=o>0,p=0,v=0;do{if(!l)break;var x=lj(t,l),T=x[0],_=x[1],E=x[2],N=_-E-s*T;(T||N)&&aj(t,l)&&(p+=N,v+=T);var L=l.parentNode;l=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&Math.abs(p)<1||!f&&Math.abs(v)<1)&&(d=!0),d},fg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nN=function(t){return[t.deltaX,t.deltaY]},rN=function(t){return t&&"current"in t?t.current:t},Bne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Vne=0,Hu=[];function Une(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(Vne++)[0],s=C.useState(sj)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=lne([t.lockRef.current],(t.shards||[]).map(rN),!0).filter(Boolean);return _.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(_,E){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var N=fg(_),L=n.current,M="deltaX"in _?_.deltaX:L[0]-N[0],Z="deltaY"in _?_.deltaY:L[1]-N[1],J,re=_.target,q=Math.abs(M)>Math.abs(Z)?"h":"v";if("touches"in _&&q==="h"&&re.type==="range")return!1;var U=tN(q,re);if(!U)return!0;if(U?J=q:(J=q==="v"?"h":"v",U=tN(q,re)),!U)return!1;if(!r.current&&"changedTouches"in _&&(M||Z)&&(r.current=J),!J)return!0;var P=r.current||J;return jne(P,E,_,P==="h"?M:Z)},[]),u=C.useCallback(function(_){var E=_;if(!(!Hu.length||Hu[Hu.length-1]!==s)){var N="deltaY"in E?nN(E):fg(E),L=e.current.filter(function(J){return J.name===E.type&&(J.target===E.target||E.target===J.shadowParent)&&Bne(J.delta,N)})[0];if(L&&L.should){E.cancelable&&E.preventDefault();return}if(!L){var M=(o.current.shards||[]).map(rN).filter(Boolean).filter(function(J){return J.contains(E.target)}),Z=M.length>0?l(E,M[0]):!o.current.noIsolation;Z&&E.cancelable&&E.preventDefault()}}},[]),d=C.useCallback(function(_,E,N,L){var M={name:_,delta:E,target:N,should:L,shadowParent:zne(N)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(Z){return Z!==M})},1)},[]),f=C.useCallback(function(_){n.current=fg(_),r.current=void 0},[]),p=C.useCallback(function(_){d(_.type,nN(_),_.target,l(_,t.lockRef.current))},[]),v=C.useCallback(function(_){d(_.type,fg(_),_.target,l(_,t.lockRef.current))},[]);C.useEffect(function(){return Hu.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,qu),document.addEventListener("touchmove",u,qu),document.addEventListener("touchstart",f,qu),function(){Hu=Hu.filter(function(_){return _!==s}),document.removeEventListener("wheel",u,qu),document.removeEventListener("touchmove",u,qu),document.removeEventListener("touchstart",f,qu)}},[]);var x=t.removeScrollBar,T=t.inert;return C.createElement(C.Fragment,null,T?C.createElement(s,{styles:Fne(i)}):null,x?C.createElement(Mne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Wne=yne(ij,Une);var tw=C.forwardRef(function(t,e){return C.createElement(ew,ho({},t,{ref:e,sideCar:Wne}))});tw.classNames=ew.classNames;var $ne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ku=new WeakMap,hg=new WeakMap,pg={},Q1=0,cj=function(t){return t&&(t.host||cj(t.parentNode))},qne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hne=function(t,e,n,r){var i=qne(e,Array.isArray(t)?t:[t]);pg[n]||(pg[n]=new WeakMap);var s=pg[n],o=[],l=new Set,u=new Set(i),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))f(v);else try{var x=v.getAttribute(r),T=x!==null&&x!=="false",_=(Ku.get(v)||0)+1,E=(s.get(v)||0)+1;Ku.set(v,_),s.set(v,E),o.push(v),_===1&&T&&hg.set(v,!0),E===1&&v.setAttribute(n,"true"),T||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return f(e),l.clear(),Q1++,function(){o.forEach(function(p){var v=Ku.get(p)-1,x=s.get(p)-1;Ku.set(p,v),s.set(p,x),v||(hg.has(p)||p.removeAttribute(r),hg.delete(p)),x||p.removeAttribute(n)}),Q1--,Q1||(Ku=new WeakMap,Ku=new WeakMap,hg=new WeakMap,pg={})}},fT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$ne(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Hne(r,i,n,"aria-hidden")):function(){return null}},nw="Dialog",[uj]=Fs(nw),[Kne,Us]=uj(nw),dj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=C.useRef(null),u=C.useRef(null),[d,f]=jc({prop:r,defaultProp:i??!1,onChange:s,caller:nw});return y.jsx(Kne,{scope:e,triggerRef:l,contentRef:u,contentId:go(),titleId:go(),descriptionId:go(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};dj.displayName=nw;var fj="DialogTrigger",Gne=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Us(fj,n),s=cn(e,i.triggerRef);return y.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mT(i.open),...r,ref:s,onClick:qe(t.onClick,i.onOpenToggle)})});Gne.displayName=fj;var hT="DialogPortal",[Yne,hj]=uj(hT,{forceMount:void 0}),pj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Us(hT,e);return y.jsx(Yne,{scope:e,forceMount:n,children:C.Children.map(r,o=>y.jsx(Vs,{present:n||s.open,children:y.jsx(mp,{asChild:!0,container:i,children:o})}))})};pj.displayName=hT;var Yy="DialogOverlay",mj=C.forwardRef((t,e)=>{const n=hj(Yy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Us(Yy,t.__scopeDialog);return s.modal?y.jsx(Vs,{present:r||s.open,children:y.jsx(Xne,{...i,ref:e})}):null});mj.displayName=Yy;var Qne=Oc("DialogOverlay.RemoveScroll"),Xne=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Us(Yy,n);return y.jsx(tw,{as:Qne,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(St.div,{"data-state":mT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Hc="DialogContent",gj=C.forwardRef((t,e)=>{const n=hj(Hc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Us(Hc,t.__scopeDialog);return y.jsx(Vs,{present:r||s.open,children:s.modal?y.jsx(Zne,{...i,ref:e}):y.jsx(Jne,{...i,ref:e})})});gj.displayName=Hc;var Zne=C.forwardRef((t,e)=>{const n=Us(Hc,t.__scopeDialog),r=C.useRef(null),i=cn(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return fT(s)},[]),y.jsx(yj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,s=>s.preventDefault())})}),Jne=C.forwardRef((t,e)=>{const n=Us(Hc,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return y.jsx(yj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),yj=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Us(Hc,n),u=C.useRef(null),d=cn(e,u);return dT(),y.jsxs(y.Fragment,{children:[y.jsx(J0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Yd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(ere,{titleId:l.titleId}),y.jsx(nre,{contentRef:u,descriptionId:l.descriptionId})]})]})}),pT="DialogTitle",wj=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Us(pT,n);return y.jsx(St.h2,{id:i.titleId,...r,ref:e})});wj.displayName=pT;var vj="DialogDescription",xj=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Us(vj,n);return y.jsx(St.p,{id:i.descriptionId,...r,ref:e})});xj.displayName=vj;var bj="DialogClose",Ej=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Us(bj,n);return y.jsx(St.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,()=>i.onOpenChange(!1))})});Ej.displayName=bj;function mT(t){return t?"open":"closed"}var _j="DialogTitleWarning",[yhe,Sj]=ZF(_j,{contentName:Hc,titleName:pT,docsSlug:"dialog"}),ere=({titleId:t})=>{const e=Sj(_j),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},tre="DialogDescriptionWarning",nre=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Sj(tre).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rre=dj,ire=pj,Tj=mj,Aj=gj,Ij=wj,Cj=xj,Rj=Ej;const gT=rre,sre=ire,ore=Rj,Mj=C.forwardRef(({className:t,...e},n)=>y.jsx(Tj,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Mj.displayName=Tj.displayName;const rw=C.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(sre,{children:[y.jsx(Mj,{}),y.jsxs(Aj,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(Rj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[y.jsx(yp,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rw.displayName=Aj.displayName;const iw=({className:t,...e})=>y.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});iw.displayName="DialogHeader";const Nj=({className:t,...e})=>y.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nj.displayName="DialogFooter";const sw=C.forwardRef(({className:t,...e},n)=>y.jsx(Ij,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));sw.displayName=Ij.displayName;const yT=C.forwardRef(({className:t,...e},n)=>y.jsx(Cj,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));yT.displayName=Cj.displayName;const Gu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function iu(t,...e){if(!jp(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vE(t.outputLen),vE(t.blockLen)}function Qy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function are(t,e){iu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function $d(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function X1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function oo(t,e){return t<<32-e|t>>>e}const Pj=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",lre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lc(t){if(iu(t),Pj)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=lre[t[n]];return e}const Qo={_0:48,_9:57,A:65,F:70,a:97,f:102};function iN(t){if(t>=Qo._0&&t<=Qo._9)return t-Qo._0;if(t>=Qo.A&&t<=Qo.F)return t-(Qo.A-10);if(t>=Qo.a&&t<=Qo.f)return t-(Qo.a-10)}function Xy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Pj)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=iN(t.charCodeAt(s)),l=iN(t.charCodeAt(s+1));if(o===void 0||l===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=o*16+l}return r}function cre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function wT(t){return typeof t=="string"&&(t=cre(t)),iu(t),t}function po(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];iu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class Lj{}function Dj(t){const e=r=>t().update(wT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function vT(t=32){if(Gu&&typeof Gu.getRandomValues=="function")return Gu.getRandomValues(new Uint8Array(t));if(Gu&&typeof Gu.randomBytes=="function")return Uint8Array.from(Gu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function ure(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),l=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+d,l,r)}function dre(t,e,n){return t&e^~t&n}function fre(t,e,n){return t&e^t&n^e&n}class Oj extends Lj{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=X1(this.buffer)}update(e){Qy(this),e=wT(e),iu(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const l=Math.min(i-this.pos,s-o);if(l===i){const u=X1(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qy(this),are(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,$d(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let p=o;p<i;p++)n[p]=0;ure(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=X1(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)l.setUint32(4*p,f[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=l,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const el=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),mg=BigInt(2**32-1),sN=BigInt(32);function hre(t,e=!1){return e?{h:Number(t&mg),l:Number(t>>sN&mg)}:{h:Number(t>>sN&mg)|0,l:Number(t&mg)|0}}function pre(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l}=hre(t[s],e);[r[s],i[s]]=[o,l]}return[r,i]}const oN=(t,e,n)=>t>>>n,aN=(t,e,n)=>t<<32-n|e>>>n,Yu=(t,e,n)=>t>>>n|e<<32-n,Qu=(t,e,n)=>t<<32-n|e>>>n,gg=(t,e,n)=>t<<64-n|e>>>n-32,yg=(t,e,n)=>t>>>n-32|e<<64-n;function Xo(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const mre=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),gre=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,yre=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),wre=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,vre=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),xre=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,bre=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tl=new Uint32Array(64);class Ere extends Oj{constructor(e=32){super(64,e,8,!1),this.A=el[0]|0,this.B=el[1]|0,this.C=el[2]|0,this.D=el[3]|0,this.E=el[4]|0,this.F=el[5]|0,this.G=el[6]|0,this.H=el[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:l,H:u}=this;return[e,n,r,i,s,o,l,u]}set(e,n,r,i,s,o,l,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=l|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)tl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const v=tl[p-15],x=tl[p-2],T=oo(v,7)^oo(v,18)^v>>>3,_=oo(x,17)^oo(x,19)^x>>>10;tl[p]=_+tl[p-7]+T+tl[p-16]|0}let{A:r,B:i,C:s,D:o,E:l,F:u,G:d,H:f}=this;for(let p=0;p<64;p++){const v=oo(l,6)^oo(l,11)^oo(l,25),x=f+v+dre(l,u,d)+bre[p]+tl[p]|0,_=(oo(r,2)^oo(r,13)^oo(r,22))+fre(r,i,s)|0;f=d,d=u,u=l,l=o+x|0,o=s,s=i,i=r,r=x+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,i,s,o,l,u,d,f)}roundClean(){$d(tl)}destroy(){this.set(0,0,0,0,0,0,0,0),$d(this.buffer)}}const jj=pre(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_re=jj[0],Sre=jj[1],nl=new Uint32Array(80),rl=new Uint32Array(80);class Tre extends Oj{constructor(e=64){super(128,e,16,!1),this.Ah=Jr[0]|0,this.Al=Jr[1]|0,this.Bh=Jr[2]|0,this.Bl=Jr[3]|0,this.Ch=Jr[4]|0,this.Cl=Jr[5]|0,this.Dh=Jr[6]|0,this.Dl=Jr[7]|0,this.Eh=Jr[8]|0,this.El=Jr[9]|0,this.Fh=Jr[10]|0,this.Fl=Jr[11]|0,this.Gh=Jr[12]|0,this.Gl=Jr[13]|0,this.Hh=Jr[14]|0,this.Hl=Jr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:v,Gh:x,Gl:T,Hh:_,Hl:E}=this;return[e,n,r,i,s,o,l,u,d,f,p,v,x,T,_,E]}set(e,n,r,i,s,o,l,u,d,f,p,v,x,T,_,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=l|0,this.Dl=u|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=v|0,this.Gh=x|0,this.Gl=T|0,this.Hh=_|0,this.Hl=E|0}process(e,n){for(let M=0;M<16;M++,n+=4)nl[M]=e.getUint32(n),rl[M]=e.getUint32(n+=4);for(let M=16;M<80;M++){const Z=nl[M-15]|0,J=rl[M-15]|0,re=Yu(Z,J,1)^Yu(Z,J,8)^oN(Z,J,7),q=Qu(Z,J,1)^Qu(Z,J,8)^aN(Z,J,7),U=nl[M-2]|0,P=rl[M-2]|0,z=Yu(U,P,19)^gg(U,P,61)^oN(U,P,6),H=Qu(U,P,19)^yg(U,P,61)^aN(U,P,6),k=yre(q,H,rl[M-7],rl[M-16]),S=wre(k,re,z,nl[M-7],nl[M-16]);nl[M]=S|0,rl[M]=k|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:l,Cl:u,Dh:d,Dl:f,Eh:p,El:v,Fh:x,Fl:T,Gh:_,Gl:E,Hh:N,Hl:L}=this;for(let M=0;M<80;M++){const Z=Yu(p,v,14)^Yu(p,v,18)^gg(p,v,41),J=Qu(p,v,14)^Qu(p,v,18)^yg(p,v,41),re=p&x^~p&_,q=v&T^~v&E,U=vre(L,J,q,Sre[M],rl[M]),P=xre(U,N,Z,re,_re[M],nl[M]),z=U|0,H=Yu(r,i,28)^gg(r,i,34)^gg(r,i,39),k=Qu(r,i,28)^yg(r,i,34)^yg(r,i,39),S=r&s^r&l^s&l,g=i&o^i&u^o&u;N=_|0,L=E|0,_=x|0,E=T|0,x=p|0,T=v|0,{h:p,l:v}=Xo(d|0,f|0,P|0,z|0),d=l|0,f=u|0,l=s|0,u=o|0,s=r|0,o=i|0;const I=mre(z,k,g);r=gre(I,P,H,S),i=I|0}({h:r,l:i}=Xo(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Xo(this.Bh|0,this.Bl|0,s|0,o|0),{h:l,l:u}=Xo(this.Ch|0,this.Cl|0,l|0,u|0),{h:d,l:f}=Xo(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:v}=Xo(this.Eh|0,this.El|0,p|0,v|0),{h:x,l:T}=Xo(this.Fh|0,this.Fl|0,x|0,T|0),{h:_,l:E}=Xo(this.Gh|0,this.Gl|0,_|0,E|0),{h:N,l:L}=Xo(this.Hh|0,this.Hl|0,N|0,L|0),this.set(r,i,s,o,l,u,d,f,p,v,x,T,_,E,N,L)}roundClean(){$d(nl,rl)}destroy(){$d(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bj=Dj(()=>new Ere),Are=Dj(()=>new Tre);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xT=BigInt(0),xE=BigInt(1);function Kc(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Ns(t,e,n=""){const r=jp(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,l=s?` of length ${e}`:"",u=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+l+", got "+u)}return t}function wg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Fj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?xT:BigInt("0x"+t)}function ow(t){return Fj(Lc(t))}function ap(t){return iu(t),Fj(Lc(Uint8Array.from(t).reverse()))}function bT(t,e){return Xy(t.toString(16).padStart(e*2,"0"))}function Vj(t,e){return bT(t,e).reverse()}function Qn(t,e,n){let r;if(typeof e=="string")try{r=Xy(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(jp(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function lN(t){return Uint8Array.from(t)}const Z1=t=>typeof t=="bigint"&&xT<=t;function Ire(t,e,n){return Z1(t)&&Z1(e)&&Z1(n)&&e<=t&&t<n}function bE(t,e,n,r){if(!Ire(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Uj(t){let e;for(e=0;t>xT;t>>=xE,e+=1);return e}const Bp=t=>(xE<<BigInt(t))-xE;function Cre(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=x=>new Uint8Array(x),i=x=>Uint8Array.of(x);let s=r(t),o=r(t),l=0;const u=()=>{s.fill(1),o.fill(0),l=0},d=(...x)=>n(o,s,...x),f=(x=r(0))=>{o=d(i(0),x),s=d(),x.length!==0&&(o=d(i(1),x),s=d())},p=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const T=[];for(;x<e;){s=d();const _=s.slice();T.push(_),x+=s.length}return po(...T)};return(x,T)=>{u(),f(x);let _;for(;!(_=T(p()));)f();return u(),_}}function Fp(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const l=t[i];if(o&&l===void 0)return;const u=typeof l;if(u!==s||l===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${u}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Zy(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ni=BigInt(0),qr=BigInt(1),bc=BigInt(2),zj=BigInt(3),Wj=BigInt(4),$j=BigInt(5),Rre=BigInt(7),qj=BigInt(8),Mre=BigInt(9),Hj=BigInt(16);function dr(t,e){const n=t%e;return n>=Ni?n:e+n}function Gn(t,e,n){let r=t;for(;e-- >Ni;)r*=r,r%=n;return r}function cN(t,e){if(t===Ni)throw new Error("invert: expected non-zero number");if(e<=Ni)throw new Error("invert: expected positive modulus, got "+e);let n=dr(t,e),r=e,i=Ni,s=qr;for(;n!==Ni;){const l=r/n,u=r%n,d=i-s*l;r=n,n=u,i=s,s=d}if(r!==qr)throw new Error("invert: does not exist");return dr(i,e)}function ET(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Kj(t,e){const n=(t.ORDER+qr)/Wj,r=t.pow(e,n);return ET(t,r,e),r}function Nre(t,e){const n=(t.ORDER-$j)/qj,r=t.mul(e,bc),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,bc),i),l=t.mul(s,t.sub(o,t.ONE));return ET(t,l,e),l}function kre(t){const e=su(t),n=Gj(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+Rre)/Hj;return(l,u)=>{let d=l.pow(u,o),f=l.mul(d,r);const p=l.mul(d,i),v=l.mul(d,s),x=l.eql(l.sqr(f),u),T=l.eql(l.sqr(p),u);d=l.cmov(d,f,x),f=l.cmov(v,p,T);const _=l.eql(l.sqr(f),u),E=l.cmov(d,f,_);return ET(l,E,u),E}}function Gj(t){if(t<zj)throw new Error("sqrt is not defined for small field");let e=t-qr,n=0;for(;e%bc===Ni;)e/=bc,n++;let r=bc;const i=su(t);for(;uN(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Kj;let s=i.pow(r,e);const o=(e+qr)/bc;return function(u,d){if(u.is0(d))return d;if(uN(u,d)!==1)throw new Error("Cannot find square root");let f=n,p=u.mul(u.ONE,s),v=u.pow(d,e),x=u.pow(d,o);for(;!u.eql(v,u.ONE);){if(u.is0(v))return u.ZERO;let T=1,_=u.sqr(v);for(;!u.eql(_,u.ONE);)if(T++,_=u.sqr(_),T===f)throw new Error("Cannot find square root");const E=qr<<BigInt(f-T-1),N=u.pow(p,E);f=T,p=u.sqr(N),v=u.mul(v,p),x=u.mul(x,N)}return x}}function Pre(t){return t%Wj===zj?Kj:t%qj===$j?Nre:t%Hj===Mre?kre(t):Gj(t)}const Lre=(t,e)=>(dr(t,e)&qr)===qr,Dre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ore(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Dre.reduce((r,i)=>(r[i]="function",r),e);return Fp(t,n),t}function jre(t,e,n){if(n<Ni)throw new Error("invalid exponent, negatives unsupported");if(n===Ni)return t.ONE;if(n===qr)return e;let r=t.ONE,i=e;for(;n>Ni;)n&qr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=qr;return r}function Yj(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,l,u)=>t.is0(l)?o:(r[u]=o,t.mul(o,l)),t.ONE),s=t.inv(i);return e.reduceRight((o,l,u)=>t.is0(l)?o:(r[u]=t.mul(o,r[u]),t.mul(o,l)),s),r}function uN(t,e){const n=(t.ORDER-qr)/bc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Qj(t,e){e!==void 0&&vE(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function su(t,e,n=!1,r={}){if(t<=Ni)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,l;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const v=e;v.BITS&&(i=v.BITS),v.sqrt&&(s=v.sqrt),typeof v.isLE=="boolean"&&(n=v.isLE),typeof v.modFromBytes=="boolean"&&(o=v.modFromBytes),l=v.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:u,nByteLength:d}=Qj(t,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const p=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:d,MASK:Bp(u),ZERO:Ni,ONE:qr,allowedLengths:l,create:v=>dr(v,t),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return Ni<=v&&v<t},is0:v=>v===Ni,isValidNot0:v=>!p.is0(v)&&p.isValid(v),isOdd:v=>(v&qr)===qr,neg:v=>dr(-v,t),eql:(v,x)=>v===x,sqr:v=>dr(v*v,t),add:(v,x)=>dr(v+x,t),sub:(v,x)=>dr(v-x,t),mul:(v,x)=>dr(v*x,t),pow:(v,x)=>jre(p,v,x),div:(v,x)=>dr(v*cN(x,t),t),sqrN:v=>v*v,addN:(v,x)=>v+x,subN:(v,x)=>v-x,mulN:(v,x)=>v*x,inv:v=>cN(v,t),sqrt:s||(v=>(f||(f=Pre(t)),f(p,v))),toBytes:v=>n?Vj(v,d):bT(v,d),fromBytes:(v,x=!0)=>{if(l){if(!l.includes(v.length)||v.length>d)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+v.length);const _=new Uint8Array(d);_.set(v,n?0:_.length-v.length),v=_}if(v.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+v.length);let T=n?ap(v):ow(v);if(o&&(T=dr(T,t)),!x&&!p.isValid(T))throw new Error("invalid field element: outside of range 0..ORDER");return T},invertBatch:v=>Yj(p,v),cmov:(v,x,T)=>T?x:v});return Object.freeze(p)}function Xj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Zj(t){const e=Xj(t);return e+Math.ceil(e/2)}function Bre(t,e,n=!1){const r=t.length,i=Xj(e),s=Zj(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?ap(t):ow(t),l=dr(o,e-qr)+qr;return n?Vj(l,i):bT(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qd=BigInt(0),Ec=BigInt(1);function Jy(t,e){const n=e.negate();return t?n:e}function _c(t,e){const n=Yj(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function Jj(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function J1(t,e){Jj(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Bp(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function dN(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let l=Number(t&i),u=t>>o;l>r&&(l-=s,u+=Ec);const d=e*r,f=d+Math.abs(l)-1,p=l===0,v=l<0,x=e%2!==0;return{nextN:u,offset:f,isZero:p,isNeg:v,isNegF:x,offsetF:d}}function Fre(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Vre(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ex=new WeakMap,e6=new WeakMap;function tx(t){return e6.get(t)||1}function fN(t){if(t!==qd)throw new Error("invalid wNAF")}class t6{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>qd;)n&Ec&&(r=r.add(i)),i=i.double(),n>>=Ec;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=J1(n,this.bits),s=[];let o=e,l=o;for(let u=0;u<r;u++){l=o,s.push(l);for(let d=1;d<i;d++)l=l.add(o),s.push(l);o=l.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=J1(e,this.bits);for(let l=0;l<o.windows;l++){const{nextN:u,offset:d,isZero:f,isNeg:p,isNegF:v,offsetF:x}=dN(r,l,o);r=u,f?s=s.add(Jy(v,n[x])):i=i.add(Jy(p,n[d]))}return fN(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=J1(e,this.bits);for(let o=0;o<s.windows&&r!==qd;o++){const{nextN:l,offset:u,isZero:d,isNeg:f}=dN(r,o,s);if(r=l,!d){const p=n[u];i=i.add(f?p.negate():p)}}return fN(r),i}getPrecomputes(e,n,r){let i=ex.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),ex.set(n,i))),i}cached(e,n,r){const i=tx(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=tx(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){Jj(n,this.bits),e6.set(e,n),ex.delete(e)}hasCache(e){return tx(e)!==1}}function Ure(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>qd||r>qd;)n&Ec&&(s=s.add(i)),r&Ec&&(o=o.add(i)),i=i.double(),n>>=Ec,r>>=Ec;return{p1:s,p2:o}}function n6(t,e,n,r){Fre(n,t),Vre(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,l=Uj(BigInt(i));let u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);const d=Bp(u),f=new Array(Number(d)+1).fill(o),p=Math.floor((e.BITS-1)/u)*u;let v=o;for(let x=p;x>=0;x-=u){f.fill(o);for(let _=0;_<s;_++){const E=r[_],N=Number(E>>BigInt(x)&d);f[N]=f[N].add(n[_])}let T=o;for(let _=f.length-1,E=o;_>0;_--)E=E.add(f[_]),T=T.add(E);if(v=v.add(T),x!==0)for(let _=0;_<u;_++)v=v.double()}return v}function hN(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ore(e),e}else return su(t,{isLE:n})}function r6(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const u of["p","n","h"]){const d=e[u];if(!(typeof d=="bigint"&&d>qd))throw new Error(`CURVE.${u} must be positive bigint`)}const i=hN(e.p,n.Fp,r),s=hN(e.n,n.Fn,r),l=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const u of l)if(!i.isValid(e[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const il=BigInt(0),Cr=BigInt(1),nx=BigInt(2),zre=BigInt(8);function Wre(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),l=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,l)}function $re(t,e={}){const n=r6("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;Fp(e,{},{uvRatio:"function"});const l=nx<<BigInt(i.BYTES*8)-Cr,u=E=>r.create(E),d=e.uvRatio||((E,N)=>{try{return{isValid:!0,value:r.sqrt(r.div(E,N))}}catch{return{isValid:!1,value:il}}});if(!Wre(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function f(E,N,L=!1){const M=L?Cr:il;return bE("coordinate "+E,N,M,l),N}function p(E){if(!(E instanceof T))throw new Error("ExtendedPoint expected")}const v=Zy((E,N)=>{const{X:L,Y:M,Z}=E,J=E.is0();N==null&&(N=J?zre:r.inv(Z));const re=u(L*N),q=u(M*N),U=r.mul(Z,N);if(J)return{x:il,y:Cr};if(U!==Cr)throw new Error("invZ was invalid");return{x:re,y:q}}),x=Zy(E=>{const{a:N,d:L}=s;if(E.is0())throw new Error("bad point: ZERO");const{X:M,Y:Z,Z:J,T:re}=E,q=u(M*M),U=u(Z*Z),P=u(J*J),z=u(P*P),H=u(q*N),k=u(P*u(H+U)),S=u(z+u(L*u(q*U)));if(k!==S)throw new Error("bad point: equation left != right (1)");const g=u(M*Z),I=u(J*re);if(g!==I)throw new Error("bad point: equation left != right (2)");return!0});class T{constructor(N,L,M,Z){this.X=f("x",N),this.Y=f("y",L),this.Z=f("z",M,!0),this.T=f("t",Z),Object.freeze(this)}static CURVE(){return s}static fromAffine(N){if(N instanceof T)throw new Error("extended point not allowed");const{x:L,y:M}=N||{};return f("x",L),f("y",M),new T(L,M,Cr,u(L*M))}static fromBytes(N,L=!1){const M=r.BYTES,{a:Z,d:J}=s;N=lN(Ns(N,M,"point")),Kc(L,"zip215");const re=lN(N),q=N[M-1];re[M-1]=q&-129;const U=ap(re),P=L?l:r.ORDER;bE("point.y",U,il,P);const z=u(U*U),H=u(z-Cr),k=u(J*z-Z);let{isValid:S,value:g}=d(H,k);if(!S)throw new Error("bad point: invalid y coordinate");const I=(g&Cr)===Cr,W=(q&128)!==0;if(!L&&g===il&&W)throw new Error("bad point: x=0 and x_0=1");return W!==I&&(g=u(-g)),T.fromAffine({x:g,y:U})}static fromHex(N,L=!1){return T.fromBytes(Qn("point",N),L)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,L=!0){return _.createCache(this,N),L||this.multiply(nx),this}assertValidity(){x(this)}equals(N){p(N);const{X:L,Y:M,Z}=this,{X:J,Y:re,Z:q}=N,U=u(L*q),P=u(J*Z),z=u(M*q),H=u(re*Z);return U===P&&z===H}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.X),this.Y,this.Z,u(-this.T))}double(){const{a:N}=s,{X:L,Y:M,Z}=this,J=u(L*L),re=u(M*M),q=u(nx*u(Z*Z)),U=u(N*J),P=L+M,z=u(u(P*P)-J-re),H=U+re,k=H-q,S=U-re,g=u(z*k),I=u(H*S),W=u(z*S),Y=u(k*H);return new T(g,I,Y,W)}add(N){p(N);const{a:L,d:M}=s,{X:Z,Y:J,Z:re,T:q}=this,{X:U,Y:P,Z:z,T:H}=N,k=u(Z*U),S=u(J*P),g=u(q*M*H),I=u(re*z),W=u((Z+J)*(U+P)-k-S),Y=I-g,K=I+g,X=u(S-L*k),se=u(W*Y),$=u(K*X),b=u(W*X),R=u(Y*K);return new T(se,$,R,b)}subtract(N){return this.add(N.negate())}multiply(N){if(!i.isValidNot0(N))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:L,f:M}=_.cached(this,N,Z=>_c(T,Z));return _c(T,[L,M])[0]}multiplyUnsafe(N,L=T.ZERO){if(!i.isValid(N))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return N===il?T.ZERO:this.is0()||N===Cr?this:_.unsafe(this,N,M=>_c(T,M),L)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return _.unsafe(this,s.n).is0()}toAffine(N){return v(this,N)}clearCofactor(){return o===Cr?this:this.multiplyUnsafe(o)}toBytes(){const{x:N,y:L}=this.toAffine(),M=r.toBytes(L);return M[M.length-1]|=N&Cr?128:0,M}toHex(){return Lc(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(N){return _c(T,N)}static msm(N,L){return n6(T,i,N,L)}_setWindowSize(N){this.precompute(N)}toRawBytes(){return this.toBytes()}}T.BASE=new T(s.Gx,s.Gy,Cr,u(s.Gx*s.Gy)),T.ZERO=new T(il,Cr,Cr,il),T.Fp=r,T.Fn=i;const _=new t6(T,i.BITS);return T.BASE.precompute(8),T}function qre(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Fp(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=t,l=n.randomBytes||vT,u=n.adjustScalarBytes||(P=>P),d=n.domain||((P,z,H)=>{if(Kc(H,"phflag"),z.length||H)throw new Error("Contexts/pre-hash are not supported");return P});function f(P){return o.create(ap(P))}function p(P){const z=M.secretKey;P=Qn("private key",P,z);const H=Qn("hashed private key",e(P),2*z),k=u(H.slice(0,z)),S=H.slice(z,2*z),g=f(k);return{head:k,prefix:S,scalar:g}}function v(P){const{head:z,prefix:H,scalar:k}=p(P),S=i.multiply(k),g=S.toBytes();return{head:z,prefix:H,scalar:k,point:S,pointBytes:g}}function x(P){return v(P).pointBytes}function T(P=Uint8Array.of(),...z){const H=po(...z);return f(e(d(H,Qn("context",P),!!r)))}function _(P,z,H={}){P=Qn("message",P),r&&(P=r(P));const{prefix:k,scalar:S,pointBytes:g}=v(z),I=T(H.context,k,P),W=i.multiply(I).toBytes(),Y=T(H.context,W,g,P),K=o.create(I+Y*S);if(!o.isValid(K))throw new Error("sign failed: invalid s");const X=po(W,o.toBytes(K));return Ns(X,M.signature,"result")}const E={zip215:!0};function N(P,z,H,k=E){const{context:S,zip215:g}=k,I=M.signature;P=Qn("signature",P,I),z=Qn("message",z),H=Qn("publicKey",H,M.publicKey),g!==void 0&&Kc(g,"zip215"),r&&(z=r(z));const W=I/2,Y=P.subarray(0,W),K=ap(P.subarray(W,I));let X,se,$;try{X=t.fromBytes(H,g),se=t.fromBytes(Y,g),$=i.multiplyUnsafe(K)}catch{return!1}if(!g&&X.isSmallOrder())return!1;const b=T(S,se.toBytes(),X.toBytes(),z);return se.add(X.multiplyUnsafe(b)).subtract($).clearCofactor().is0()}const L=s.BYTES,M={secretKey:L,publicKey:L,signature:2*L,seed:L};function Z(P=l(M.seed)){return Ns(P,M.seed,"seed")}function J(P){const z=U.randomSecretKey(P);return{secretKey:z,publicKey:x(z)}}function re(P){return jp(P)&&P.length===o.BYTES}function q(P,z){try{return!!t.fromBytes(P,z)}catch{return!1}}const U={getExtendedPublicKey:v,randomSecretKey:Z,isValidSecretKey:re,isValidPublicKey:q,toMontgomery(P){const{y:z}=t.fromBytes(P),H=M.publicKey,k=H===32;if(!k&&H!==57)throw new Error("only defined for 25519 and 448");const S=k?s.div(Cr+z,Cr-z):s.div(z-Cr,z+Cr);return s.toBytes(S)},toMontgomerySecret(P){const z=M.secretKey;Ns(P,z);const H=e(P.subarray(0,z));return u(H).subarray(0,z)},randomPrivateKey:Z,precompute(P=8,z=t.BASE){return z.precompute(P,!1)}};return Object.freeze({keygen:J,getPublicKey:x,sign:_,verify:N,utils:U,Point:t,lengths:M})}function Hre(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=su(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}function Kre(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Gre(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=Hre(t),s=$re(e,n),o=qre(s,r,i);return Kre(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yre=BigInt(1),pN=BigInt(2);BigInt(3);const Qre=BigInt(5),Xre=BigInt(8),_T=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),i6={p:_T,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Xre,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Zre(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=_T,l=t*t%s*t%s,u=Gn(l,pN,s)*l%s,d=Gn(u,Yre,s)*t%s,f=Gn(d,Qre,s)*d%s,p=Gn(f,e,s)*f%s,v=Gn(p,n,s)*p%s,x=Gn(v,r,s)*v%s,T=Gn(x,i,s)*x%s,_=Gn(T,i,s)*x%s,E=Gn(_,e,s)*f%s;return{pow_p_5_8:Gn(E,pN,s)*t%s,b2:l}}function Jre(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const mN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function eie(t,e){const n=_T,r=dr(e*e*e,n),i=dr(r*r*e,n),s=Zre(t*i).pow_p_5_8;let o=dr(t*r*s,n);const l=dr(e*o*o,n),u=o,d=dr(o*mN,n),f=l===t,p=l===dr(-t,n),v=l===dr(-t*mN,n);return f&&(o=u),(p||v)&&(o=d),Lre(o,n)&&(o=dr(-o,n)),{isValid:f||p,value:o}}const tie=su(i6.p,{isLE:!0}),nie={...i6,Fp:tie,hash:Are,adjustScalarBytes:Jre,uvRatio:eie},Vp=Gre(nie);var Kg={exports:{}},rx={},gN;function ST(){return gN||(gN=1,(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=f,n.toByteArray=v,n.fromByteArray=_;for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=o.length;l<u;++l)r[l]=o[l],i[o.charCodeAt(l)]=l;i[45]=62,i[95]=63;function d(L){var M=L.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Z=L.indexOf("=");Z===-1&&(Z=M);var J=Z===M?0:4-Z%4;return[Z,J]}function f(L){var M=d(L),Z=M[0],J=M[1];return(Z+J)*3/4-J}function p(L,M,Z){return(M+Z)*3/4-Z}function v(L){var M,Z=d(L),J=Z[0],re=Z[1],q=new s(p(L,J,re)),U=0,P=re>0?J-4:J,z;for(z=0;z<P;z+=4)M=i[L.charCodeAt(z)]<<18|i[L.charCodeAt(z+1)]<<12|i[L.charCodeAt(z+2)]<<6|i[L.charCodeAt(z+3)],q[U++]=M>>16&255,q[U++]=M>>8&255,q[U++]=M&255;return re===2&&(M=i[L.charCodeAt(z)]<<2|i[L.charCodeAt(z+1)]>>4,q[U++]=M&255),re===1&&(M=i[L.charCodeAt(z)]<<10|i[L.charCodeAt(z+1)]<<4|i[L.charCodeAt(z+2)]>>2,q[U++]=M>>8&255,q[U++]=M&255),q}function x(L){return r[L>>18&63]+r[L>>12&63]+r[L>>6&63]+r[L&63]}function T(L,M,Z){for(var J,re=[],q=M;q<Z;q+=3)J=(L[q]<<16&16711680)+(L[q+1]<<8&65280)+(L[q+2]&255),re.push(x(J));return re.join("")}function _(L){for(var M,Z=L.length,J=Z%3,re=[],q=16383,U=0,P=Z-J;U<P;U+=q)re.push(T(L,U,U+q>P?P:U+q));return J===1?(M=L[Z-1],re.push(r[M>>2]+r[M<<4&63]+"==")):J===2&&(M=(L[Z-2]<<8)+L[Z-1],re.push(r[M>>10]+r[M>>4&63]+r[M<<2&63]+"=")),re.join("")}var E={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */E.read=function(L,M,Z,J,re){var q,U,P=re*8-J-1,z=(1<<P)-1,H=z>>1,k=-7,S=Z?re-1:0,g=Z?-1:1,I=L[M+S];for(S+=g,q=I&(1<<-k)-1,I>>=-k,k+=P;k>0;q=q*256+L[M+S],S+=g,k-=8);for(U=q&(1<<-k)-1,q>>=-k,k+=J;k>0;U=U*256+L[M+S],S+=g,k-=8);if(q===0)q=1-H;else{if(q===z)return U?NaN:(I?-1:1)*(1/0);U=U+Math.pow(2,J),q=q-H}return(I?-1:1)*U*Math.pow(2,q-J)},E.write=function(L,M,Z,J,re,q){var U,P,z,H=q*8-re-1,k=(1<<H)-1,S=k>>1,g=re===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=J?0:q-1,W=J?1:-1,Y=M<0||M===0&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(P=isNaN(M)?1:0,U=k):(U=Math.floor(Math.log(M)/Math.LN2),M*(z=Math.pow(2,-U))<1&&(U--,z*=2),U+S>=1?M+=g/z:M+=g*Math.pow(2,1-S),M*z>=2&&(U++,z/=2),U+S>=k?(P=0,U=k):U+S>=1?(P=(M*z-1)*Math.pow(2,re),U=U+S):(P=M*Math.pow(2,S-1)*Math.pow(2,re),U=0));re>=8;L[Z+I]=P&255,I+=W,P/=256,re-=8);for(U=U<<re|P,H+=re;H>0;L[Z+I]=U&255,I+=W,U/=256,H-=8);L[Z+I-W]|=Y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(L){const M=n,Z=E,J=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;L.Buffer=k,L.SlowBuffer=R,L.INSPECT_MAX_BYTES=50;const re=2147483647;L.kMaxLength=re;const{Uint8Array:q,ArrayBuffer:U,SharedArrayBuffer:P}=globalThis;k.TYPED_ARRAY_SUPPORT=z(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function z(){try{const ee=new q(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,q.prototype),Object.setPrototypeOf(ee,D),ee.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function H(ee){if(ee>re)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const D=new q(ee);return Object.setPrototypeOf(D,k.prototype),D}function k(ee,D,F){if(typeof ee=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return W(ee)}return S(ee,D,F)}k.poolSize=8192;function S(ee,D,F){if(typeof ee=="string")return Y(ee,D);if(U.isView(ee))return X(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(yn(ee,U)||ee&&yn(ee.buffer,U)||typeof P<"u"&&(yn(ee,P)||ee&&yn(ee.buffer,P)))return se(ee,D,F);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=ee.valueOf&&ee.valueOf();if(ae!=null&&ae!==ee)return k.from(ae,D,F);const pe=$(ee);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return k.from(ee[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}k.from=function(ee,D,F){return S(ee,D,F)},Object.setPrototypeOf(k.prototype,q.prototype),Object.setPrototypeOf(k,q);function g(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function I(ee,D,F){return g(ee),ee<=0?H(ee):D!==void 0?typeof F=="string"?H(ee).fill(D,F):H(ee).fill(D):H(ee)}k.alloc=function(ee,D,F){return I(ee,D,F)};function W(ee){return g(ee),H(ee<0?0:b(ee)|0)}k.allocUnsafe=function(ee){return W(ee)},k.allocUnsafeSlow=function(ee){return W(ee)};function Y(ee,D){if((typeof D!="string"||D==="")&&(D="utf8"),!k.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const F=Q(ee,D)|0;let ae=H(F);const pe=ae.write(ee,D);return pe!==F&&(ae=ae.slice(0,pe)),ae}function K(ee){const D=ee.length<0?0:b(ee.length)|0,F=H(D);for(let ae=0;ae<D;ae+=1)F[ae]=ee[ae]&255;return F}function X(ee){if(yn(ee,q)){const D=new q(ee);return se(D.buffer,D.byteOffset,D.byteLength)}return K(ee)}function se(ee,D,F){if(D<0||ee.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return D===void 0&&F===void 0?ae=new q(ee):F===void 0?ae=new q(ee,D):ae=new q(ee,D,F),Object.setPrototypeOf(ae,k.prototype),ae}function $(ee){if(k.isBuffer(ee)){const D=b(ee.length)|0,F=H(D);return F.length===0||ee.copy(F,0,0,D),F}if(ee.length!==void 0)return typeof ee.length!="number"||Xt(ee.length)?H(0):K(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return K(ee.data)}function b(ee){if(ee>=re)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+re.toString(16)+" bytes");return ee|0}function R(ee){return+ee!=ee&&(ee=0),k.alloc(+ee)}k.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==k.prototype},k.compare=function(D,F){if(yn(D,q)&&(D=k.from(D,D.offset,D.byteLength)),yn(F,q)&&(F=k.from(F,F.offset,F.byteLength)),!k.isBuffer(D)||!k.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;let ae=D.length,pe=F.length;for(let we=0,Ce=Math.min(ae,pe);we<Ce;++we)if(D[we]!==F[we]){ae=D[we],pe=F[we];break}return ae<pe?-1:pe<ae?1:0},k.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return k.alloc(0);let ae;if(F===void 0)for(F=0,ae=0;ae<D.length;++ae)F+=D[ae].length;const pe=k.allocUnsafe(F);let we=0;for(ae=0;ae<D.length;++ae){let Ce=D[ae];if(yn(Ce,q))we+Ce.length>pe.length?(k.isBuffer(Ce)||(Ce=k.from(Ce)),Ce.copy(pe,we)):q.prototype.set.call(pe,Ce,we);else if(k.isBuffer(Ce))Ce.copy(pe,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=Ce.length}return pe};function Q(ee,D){if(k.isBuffer(ee))return ee.length;if(U.isView(ee)||yn(ee,U))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const F=ee.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&F===0)return 0;let pe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return it(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Je(ee).length;default:if(pe)return ae?-1:it(ee).length;D=(""+D).toLowerCase(),pe=!0}}k.byteLength=Q;function ie(ee,D,F){let ae=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return vt(this,D,F);case"utf8":case"utf-8":return Wt(this,D,F);case"ascii":return en(this,D,F);case"latin1":case"binary":return fn(this,D,F);case"base64":return Dt(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,D,F);default:if(ae)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),ae=!0}}k.prototype._isBuffer=!0;function ue(ee,D,F){const ae=ee[D];ee[D]=ee[F],ee[F]=ae}k.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<D;F+=2)ue(this,F,F+1);return this},k.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<D;F+=4)ue(this,F,F+3),ue(this,F+1,F+2);return this},k.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<D;F+=8)ue(this,F,F+7),ue(this,F+1,F+6),ue(this,F+2,F+5),ue(this,F+3,F+4);return this},k.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?Wt(this,0,D):ie.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(D){if(!k.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:k.compare(this,D)===0},k.prototype.inspect=function(){let D="";const F=L.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},J&&(k.prototype[J]=k.prototype.inspect),k.prototype.compare=function(D,F,ae,pe,we){if(yn(D,q)&&(D=k.from(D,D.offset,D.byteLength)),!k.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),ae===void 0&&(ae=D?D.length:0),pe===void 0&&(pe=0),we===void 0&&(we=this.length),F<0||ae>D.length||pe<0||we>this.length)throw new RangeError("out of range index");if(pe>=we&&F>=ae)return 0;if(pe>=we)return-1;if(F>=ae)return 1;if(F>>>=0,ae>>>=0,pe>>>=0,we>>>=0,this===D)return 0;let Ce=we-pe,bt=ae-F;const Et=Math.min(Ce,bt),st=this.slice(pe,we),un=D.slice(F,ae);for(let dt=0;dt<Et;++dt)if(st[dt]!==un[dt]){Ce=st[dt],bt=un[dt];break}return Ce<bt?-1:bt<Ce?1:0};function ce(ee,D,F,ae,pe){if(ee.length===0)return-1;if(typeof F=="string"?(ae=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Xt(F)&&(F=pe?0:ee.length-1),F<0&&(F=ee.length+F),F>=ee.length){if(pe)return-1;F=ee.length-1}else if(F<0)if(pe)F=0;else return-1;if(typeof D=="string"&&(D=k.from(D,ae)),k.isBuffer(D))return D.length===0?-1:_e(ee,D,F,ae,pe);if(typeof D=="number")return D=D&255,typeof q.prototype.indexOf=="function"?pe?q.prototype.indexOf.call(ee,D,F):q.prototype.lastIndexOf.call(ee,D,F):_e(ee,[D],F,ae,pe);throw new TypeError("val must be string, number or Buffer")}function _e(ee,D,F,ae,pe){let we=1,Ce=ee.length,bt=D.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(ee.length<2||D.length<2)return-1;we=2,Ce/=2,bt/=2,F/=2}function Et(un,dt){return we===1?un[dt]:un.readUInt16BE(dt*we)}let st;if(pe){let un=-1;for(st=F;st<Ce;st++)if(Et(ee,st)===Et(D,un===-1?0:st-un)){if(un===-1&&(un=st),st-un+1===bt)return un*we}else un!==-1&&(st-=st-un),un=-1}else for(F+bt>Ce&&(F=Ce-bt),st=F;st>=0;st--){let un=!0;for(let dt=0;dt<bt;dt++)if(Et(ee,st+dt)!==Et(D,dt)){un=!1;break}if(un)return st}return-1}k.prototype.includes=function(D,F,ae){return this.indexOf(D,F,ae)!==-1},k.prototype.indexOf=function(D,F,ae){return ce(this,D,F,ae,!0)},k.prototype.lastIndexOf=function(D,F,ae){return ce(this,D,F,ae,!1)};function Me(ee,D,F,ae){F=Number(F)||0;const pe=ee.length-F;ae?(ae=Number(ae),ae>pe&&(ae=pe)):ae=pe;const we=D.length;ae>we/2&&(ae=we/2);let Ce;for(Ce=0;Ce<ae;++Ce){const bt=parseInt(D.substr(Ce*2,2),16);if(Xt(bt))return Ce;ee[F+Ce]=bt}return Ce}function Ve(ee,D,F,ae){return ht(it(D,ee.length-F),ee,F,ae)}function We(ee,D,F,ae){return ht(at(D),ee,F,ae)}function tt(ee,D,F,ae){return ht(Je(D),ee,F,ae)}function Yt(ee,D,F,ae){return ht(jt(D,ee.length-F),ee,F,ae)}k.prototype.write=function(D,F,ae,pe){if(F===void 0)pe="utf8",ae=this.length,F=0;else if(ae===void 0&&typeof F=="string")pe=F,ae=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(ae)?(ae=ae>>>0,pe===void 0&&(pe="utf8")):(pe=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-F;if((ae===void 0||ae>we)&&(ae=we),D.length>0&&(ae<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ce=!1;for(;;)switch(pe){case"hex":return Me(this,D,F,ae);case"utf8":case"utf-8":return Ve(this,D,F,ae);case"ascii":case"latin1":case"binary":return We(this,D,F,ae);case"base64":return tt(this,D,F,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yt(this,D,F,ae);default:if(Ce)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ce=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Dt(ee,D,F){return D===0&&F===ee.length?M.fromByteArray(ee):M.fromByteArray(ee.slice(D,F))}function Wt(ee,D,F){F=Math.min(ee.length,F);const ae=[];let pe=D;for(;pe<F;){const we=ee[pe];let Ce=null,bt=we>239?4:we>223?3:we>191?2:1;if(pe+bt<=F){let Et,st,un,dt;switch(bt){case 1:we<128&&(Ce=we);break;case 2:Et=ee[pe+1],(Et&192)===128&&(dt=(we&31)<<6|Et&63,dt>127&&(Ce=dt));break;case 3:Et=ee[pe+1],st=ee[pe+2],(Et&192)===128&&(st&192)===128&&(dt=(we&15)<<12|(Et&63)<<6|st&63,dt>2047&&(dt<55296||dt>57343)&&(Ce=dt));break;case 4:Et=ee[pe+1],st=ee[pe+2],un=ee[pe+3],(Et&192)===128&&(st&192)===128&&(un&192)===128&&(dt=(we&15)<<18|(Et&63)<<12|(st&63)<<6|un&63,dt>65535&&dt<1114112&&(Ce=dt))}}Ce===null?(Ce=65533,bt=1):Ce>65535&&(Ce-=65536,ae.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ae.push(Ce),pe+=bt}return Pt(ae)}const xn=4096;function Pt(ee){const D=ee.length;if(D<=xn)return String.fromCharCode.apply(String,ee);let F="",ae=0;for(;ae<D;)F+=String.fromCharCode.apply(String,ee.slice(ae,ae+=xn));return F}function en(ee,D,F){let ae="";F=Math.min(ee.length,F);for(let pe=D;pe<F;++pe)ae+=String.fromCharCode(ee[pe]&127);return ae}function fn(ee,D,F){let ae="";F=Math.min(ee.length,F);for(let pe=D;pe<F;++pe)ae+=String.fromCharCode(ee[pe]);return ae}function vt(ee,D,F){const ae=ee.length;(!D||D<0)&&(D=0),(!F||F<0||F>ae)&&(F=ae);let pe="";for(let we=D;we<F;++we)pe+=$e[ee[we]];return pe}function Lt(ee,D,F){const ae=ee.slice(D,F);let pe="";for(let we=0;we<ae.length-1;we+=2)pe+=String.fromCharCode(ae[we]+ae[we+1]*256);return pe}k.prototype.slice=function(D,F){const ae=this.length;D=~~D,F=F===void 0?ae:~~F,D<0?(D+=ae,D<0&&(D=0)):D>ae&&(D=ae),F<0?(F+=ae,F<0&&(F=0)):F>ae&&(F=ae),F<D&&(F=D);const pe=this.subarray(D,F);return Object.setPrototypeOf(pe,k.prototype),pe};function rn(ee,D,F){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+D>F)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(D,F,ae){D=D>>>0,F=F>>>0,ae||rn(D,F,this.length);let pe=this[D],we=1,Ce=0;for(;++Ce<F&&(we*=256);)pe+=this[D+Ce]*we;return pe},k.prototype.readUintBE=k.prototype.readUIntBE=function(D,F,ae){D=D>>>0,F=F>>>0,ae||rn(D,F,this.length);let pe=this[D+--F],we=1;for(;F>0&&(we*=256);)pe+=this[D+--F]*we;return pe},k.prototype.readUint8=k.prototype.readUInt8=function(D,F){return D=D>>>0,F||rn(D,1,this.length),this[D]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||rn(D,2,this.length),this[D]|this[D+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||rn(D,2,this.length),this[D]<<8|this[D+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},k.prototype.readBigUInt64LE=Rt(function(D){D=D>>>0,he(D,"offset");const F=this[D],ae=this[D+7];(F===void 0||ae===void 0)&&ye(D,this.length-8);const pe=F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,we=this[++D]+this[++D]*2**8+this[++D]*2**16+ae*2**24;return BigInt(pe)+(BigInt(we)<<BigInt(32))}),k.prototype.readBigUInt64BE=Rt(function(D){D=D>>>0,he(D,"offset");const F=this[D],ae=this[D+7];(F===void 0||ae===void 0)&&ye(D,this.length-8);const pe=F*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],we=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+ae;return(BigInt(pe)<<BigInt(32))+BigInt(we)}),k.prototype.readIntLE=function(D,F,ae){D=D>>>0,F=F>>>0,ae||rn(D,F,this.length);let pe=this[D],we=1,Ce=0;for(;++Ce<F&&(we*=256);)pe+=this[D+Ce]*we;return we*=128,pe>=we&&(pe-=Math.pow(2,8*F)),pe},k.prototype.readIntBE=function(D,F,ae){D=D>>>0,F=F>>>0,ae||rn(D,F,this.length);let pe=F,we=1,Ce=this[D+--pe];for(;pe>0&&(we*=256);)Ce+=this[D+--pe]*we;return we*=128,Ce>=we&&(Ce-=Math.pow(2,8*F)),Ce},k.prototype.readInt8=function(D,F){return D=D>>>0,F||rn(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},k.prototype.readInt16LE=function(D,F){D=D>>>0,F||rn(D,2,this.length);const ae=this[D]|this[D+1]<<8;return ae&32768?ae|4294901760:ae},k.prototype.readInt16BE=function(D,F){D=D>>>0,F||rn(D,2,this.length);const ae=this[D+1]|this[D]<<8;return ae&32768?ae|4294901760:ae},k.prototype.readInt32LE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},k.prototype.readInt32BE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},k.prototype.readBigInt64LE=Rt(function(D){D=D>>>0,he(D,"offset");const F=this[D],ae=this[D+7];(F===void 0||ae===void 0)&&ye(D,this.length-8);const pe=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(ae<<24);return(BigInt(pe)<<BigInt(32))+BigInt(F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),k.prototype.readBigInt64BE=Rt(function(D){D=D>>>0,he(D,"offset");const F=this[D],ae=this[D+7];(F===void 0||ae===void 0)&&ye(D,this.length-8);const pe=(F<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(pe)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+ae)}),k.prototype.readFloatLE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),Z.read(this,D,!0,23,4)},k.prototype.readFloatBE=function(D,F){return D=D>>>0,F||rn(D,4,this.length),Z.read(this,D,!1,23,4)},k.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||rn(D,8,this.length),Z.read(this,D,!0,52,8)},k.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||rn(D,8,this.length),Z.read(this,D,!1,52,8)};function ft(ee,D,F,ae,pe,we){if(!k.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>pe||D<we)throw new RangeError('"value" argument is out of bounds');if(F+ae>ee.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(D,F,ae,pe){if(D=+D,F=F>>>0,ae=ae>>>0,!pe){const bt=Math.pow(2,8*ae)-1;ft(this,D,F,ae,bt,0)}let we=1,Ce=0;for(this[F]=D&255;++Ce<ae&&(we*=256);)this[F+Ce]=D/we&255;return F+ae},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(D,F,ae,pe){if(D=+D,F=F>>>0,ae=ae>>>0,!pe){const bt=Math.pow(2,8*ae)-1;ft(this,D,F,ae,bt,0)}let we=ae-1,Ce=1;for(this[F+we]=D&255;--we>=0&&(Ce*=256);)this[F+we]=D/Ce&255;return F+ae},k.prototype.writeUint8=k.prototype.writeUInt8=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,1,255,0),this[F]=D&255,F+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function Qt(ee,D,F,ae,pe){le(D,ae,pe,ee,F,7);let we=Number(D&BigInt(4294967295));ee[F++]=we,we=we>>8,ee[F++]=we,we=we>>8,ee[F++]=we,we=we>>8,ee[F++]=we;let Ce=Number(D>>BigInt(32)&BigInt(4294967295));return ee[F++]=Ce,Ce=Ce>>8,ee[F++]=Ce,Ce=Ce>>8,ee[F++]=Ce,Ce=Ce>>8,ee[F++]=Ce,F}function wn(ee,D,F,ae,pe){le(D,ae,pe,ee,F,7);let we=Number(D&BigInt(4294967295));ee[F+7]=we,we=we>>8,ee[F+6]=we,we=we>>8,ee[F+5]=we,we=we>>8,ee[F+4]=we;let Ce=Number(D>>BigInt(32)&BigInt(4294967295));return ee[F+3]=Ce,Ce=Ce>>8,ee[F+2]=Ce,Ce=Ce>>8,ee[F+1]=Ce,Ce=Ce>>8,ee[F]=Ce,F+8}k.prototype.writeBigUInt64LE=Rt(function(D,F=0){return Qt(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=Rt(function(D,F=0){return wn(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(D,F,ae,pe){if(D=+D,F=F>>>0,!pe){const Et=Math.pow(2,8*ae-1);ft(this,D,F,ae,Et-1,-Et)}let we=0,Ce=1,bt=0;for(this[F]=D&255;++we<ae&&(Ce*=256);)D<0&&bt===0&&this[F+we-1]!==0&&(bt=1),this[F+we]=(D/Ce>>0)-bt&255;return F+ae},k.prototype.writeIntBE=function(D,F,ae,pe){if(D=+D,F=F>>>0,!pe){const Et=Math.pow(2,8*ae-1);ft(this,D,F,ae,Et-1,-Et)}let we=ae-1,Ce=1,bt=0;for(this[F+we]=D&255;--we>=0&&(Ce*=256);)D<0&&bt===0&&this[F+we+1]!==0&&(bt=1),this[F+we]=(D/Ce>>0)-bt&255;return F+ae},k.prototype.writeInt8=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},k.prototype.writeInt16LE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},k.prototype.writeInt16BE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},k.prototype.writeInt32LE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},k.prototype.writeInt32BE=function(D,F,ae){return D=+D,F=F>>>0,ae||ft(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},k.prototype.writeBigInt64LE=Rt(function(D,F=0){return Qt(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=Rt(function(D,F=0){return wn(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ct(ee,D,F,ae,pe,we){if(F+ae>ee.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function Vt(ee,D,F,ae,pe){return D=+D,F=F>>>0,pe||Ct(ee,D,F,4),Z.write(ee,D,F,ae,23,4),F+4}k.prototype.writeFloatLE=function(D,F,ae){return Vt(this,D,F,!0,ae)},k.prototype.writeFloatBE=function(D,F,ae){return Vt(this,D,F,!1,ae)};function In(ee,D,F,ae,pe){return D=+D,F=F>>>0,pe||Ct(ee,D,F,8),Z.write(ee,D,F,ae,52,8),F+8}k.prototype.writeDoubleLE=function(D,F,ae){return In(this,D,F,!0,ae)},k.prototype.writeDoubleBE=function(D,F,ae){return In(this,D,F,!1,ae)},k.prototype.copy=function(D,F,ae,pe){if(!k.isBuffer(D))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!pe&&pe!==0&&(pe=this.length),F>=D.length&&(F=D.length),F||(F=0),pe>0&&pe<ae&&(pe=ae),pe===ae||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),D.length-F<pe-ae&&(pe=D.length-F+ae);const we=pe-ae;return this===D&&typeof q.prototype.copyWithin=="function"?this.copyWithin(F,ae,pe):q.prototype.set.call(D,this.subarray(ae,pe),F),we},k.prototype.fill=function(D,F,ae,pe){if(typeof D=="string"){if(typeof F=="string"?(pe=F,F=0,ae=this.length):typeof ae=="string"&&(pe=ae,ae=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!k.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(D.length===1){const Ce=D.charCodeAt(0);(pe==="utf8"&&Ce<128||pe==="latin1")&&(D=Ce)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<ae)throw new RangeError("Out of range index");if(ae<=F)return this;F=F>>>0,ae=ae===void 0?this.length:ae>>>0,D||(D=0);let we;if(typeof D=="number")for(we=F;we<ae;++we)this[we]=D;else{const Ce=k.isBuffer(D)?D:k.from(D,pe),bt=Ce.length;if(bt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(we=0;we<ae-F;++we)this[we+F]=Ce[we%bt]}return this};const qt={};function ne(ee,D,F){qt[ee]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,this.stack,delete this.name}get code(){return ee}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(ee,D){return`The "${ee}" argument must be of type number. Received type ${typeof D}`},TypeError),ne("ERR_OUT_OF_RANGE",function(ee,D,F){let ae=`The value of "${ee}" is out of range.`,pe=F;return Number.isInteger(F)&&Math.abs(F)>2**32?pe=j(String(F)):typeof F=="bigint"&&(pe=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(pe=j(pe)),pe+="n"),ae+=` It must be ${D}. Received ${pe}`,ae},RangeError);function j(ee){let D="",F=ee.length;const ae=ee[0]==="-"?1:0;for(;F>=ae+4;F-=3)D=`_${ee.slice(F-3,F)}${D}`;return`${ee.slice(0,F)}${D}`}function V(ee,D,F){he(D,"offset"),(ee[D]===void 0||ee[D+F]===void 0)&&ye(D,ee.length-(F+1))}function le(ee,D,F,ae,pe,we){if(ee>F||ee<D){const Ce=typeof D=="bigint"?"n":"";let bt;throw D===0||D===BigInt(0)?bt=`>= 0${Ce} and < 2${Ce} ** ${(we+1)*8}${Ce}`:bt=`>= -(2${Ce} ** ${(we+1)*8-1}${Ce}) and < 2 ** ${(we+1)*8-1}${Ce}`,new qt.ERR_OUT_OF_RANGE("value",bt,ee)}V(ae,pe,we)}function he(ee,D){if(typeof ee!="number")throw new qt.ERR_INVALID_ARG_TYPE(D,"number",ee)}function ye(ee,D,F){throw Math.floor(ee)!==ee?(he(ee,F),new qt.ERR_OUT_OF_RANGE("offset","an integer",ee)):D<0?new qt.ERR_BUFFER_OUT_OF_BOUNDS:new qt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,ee)}const Te=/[^+/0-9A-Za-z-_]/g;function xt(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(Te,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function it(ee,D){D=D||1/0;let F;const ae=ee.length;let pe=null;const we=[];for(let Ce=0;Ce<ae;++Ce){if(F=ee.charCodeAt(Ce),F>55295&&F<57344){if(!pe){if(F>56319){(D-=3)>-1&&we.push(239,191,189);continue}else if(Ce+1===ae){(D-=3)>-1&&we.push(239,191,189);continue}pe=F;continue}if(F<56320){(D-=3)>-1&&we.push(239,191,189),pe=F;continue}F=(pe-55296<<10|F-56320)+65536}else pe&&(D-=3)>-1&&we.push(239,191,189);if(pe=null,F<128){if((D-=1)<0)break;we.push(F)}else if(F<2048){if((D-=2)<0)break;we.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;we.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;we.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return we}function at(ee){const D=[];for(let F=0;F<ee.length;++F)D.push(ee.charCodeAt(F)&255);return D}function jt(ee,D){let F,ae,pe;const we=[];for(let Ce=0;Ce<ee.length&&!((D-=2)<0);++Ce)F=ee.charCodeAt(Ce),ae=F>>8,pe=F%256,we.push(pe),we.push(ae);return we}function Je(ee){return M.toByteArray(xt(ee))}function ht(ee,D,F,ae){let pe;for(pe=0;pe<ae&&!(pe+F>=D.length||pe>=ee.length);++pe)D[pe+F]=ee[pe];return pe}function yn(ee,D){return ee instanceof D||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===D.name}function Xt(ee){return ee!==ee}const $e=(function(){const ee="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){const ae=F*16;for(let pe=0;pe<16;++pe)D[ae+pe]=ee[F]+ee[pe]}return D})();function Rt(ee){return typeof BigInt>"u"?pt:ee}function pt(){throw new Error("BigInt not supported")}})(e);const N=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=N,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(rx)),rx}var rie=Kg.exports,yN;function s6(){return yN||(yN=1,(function(t){(function(e,n){function r(S,g){if(!S)throw new Error(g||"Assertion failed")}function i(S,g){S.super_=g;var I=function(){};I.prototype=g.prototype,S.prototype=new I,S.prototype.constructor=S}function s(S,g,I){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((g==="le"||g==="be")&&(I=g,g=10),this._init(S||0,g||10,I||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ST().Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,I){return g.cmp(I)>0?g:I},s.min=function(g,I){return g.cmp(I)<0?g:I},s.prototype._init=function(g,I,W){if(typeof g=="number")return this._initNumber(g,I,W);if(typeof g=="object")return this._initArray(g,I,W);I==="hex"&&(I=16),r(I===(I|0)&&I>=2&&I<=36),g=g.toString().replace(/\s+/g,"");var Y=0;g[0]==="-"&&(Y++,this.negative=1),Y<g.length&&(I===16?this._parseHex(g,Y,W):(this._parseBase(g,I,Y),W==="le"&&this._initArray(this.toArray(),I,W)))},s.prototype._initNumber=function(g,I,W){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),I,W)},s.prototype._initArray=function(g,I,W){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var K,X,se=0;if(W==="be")for(Y=g.length-1,K=0;Y>=0;Y-=3)X=g[Y]|g[Y-1]<<8|g[Y-2]<<16,this.words[K]|=X<<se&67108863,this.words[K+1]=X>>>26-se&67108863,se+=24,se>=26&&(se-=26,K++);else if(W==="le")for(Y=0,K=0;Y<g.length;Y+=3)X=g[Y]|g[Y+1]<<8|g[Y+2]<<16,this.words[K]|=X<<se&67108863,this.words[K+1]=X>>>26-se&67108863,se+=24,se>=26&&(se-=26,K++);return this._strip()};function l(S,g){var I=S.charCodeAt(g);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;r(!1,"Invalid character in "+S)}function u(S,g,I){var W=l(S,I);return I-1>=g&&(W|=l(S,I-1)<<4),W}s.prototype._parseHex=function(g,I,W){this.length=Math.ceil((g.length-I)/6),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var K=0,X=0,se;if(W==="be")for(Y=g.length-1;Y>=I;Y-=2)se=u(g,I,Y)<<K,this.words[X]|=se&67108863,K>=18?(K-=18,X+=1,this.words[X]|=se>>>26):K+=8;else{var $=g.length-I;for(Y=$%2===0?I+1:I;Y<g.length;Y+=2)se=u(g,I,Y)<<K,this.words[X]|=se&67108863,K>=18?(K-=18,X+=1,this.words[X]|=se>>>26):K+=8}this._strip()};function d(S,g,I,W){for(var Y=0,K=0,X=Math.min(S.length,I),se=g;se<X;se++){var $=S.charCodeAt(se)-48;Y*=W,$>=49?K=$-49+10:$>=17?K=$-17+10:K=$,r($>=0&&K<W,"Invalid character"),Y+=K}return Y}s.prototype._parseBase=function(g,I,W){this.words=[0],this.length=1;for(var Y=0,K=1;K<=67108863;K*=I)Y++;Y--,K=K/I|0;for(var X=g.length-W,se=X%Y,$=Math.min(X,X-se)+W,b=0,R=W;R<$;R+=Y)b=d(g,R,R+Y,I),this.imuln(K),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(se!==0){var Q=1;for(b=d(g,R,g.length,I),R=0;R<se;R++)Q*=I;this.imuln(Q),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var I=0;I<this.length;I++)g.words[I]=this.words[I];g.length=this.length,g.negative=this.negative,g.red=this.red};function f(S,g){S.words=g.words,S.length=g.length,S.negative=g.negative,S.red=g.red}if(s.prototype._move=function(g){f(g,this)},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,I){g=g||10,I=I|0||1;var W;if(g===16||g==="hex"){W="";for(var Y=0,K=0,X=0;X<this.length;X++){var se=this.words[X],$=((se<<Y|K)&16777215).toString(16);K=se>>>24-Y&16777215,Y+=2,Y>=26&&(Y-=26,X--),K!==0||X!==this.length-1?W=v[6-$.length]+$+W:W=$+W}for(K!==0&&(W=K.toString(16)+W);W.length%I!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(g===(g|0)&&g>=2&&g<=36){var b=x[g],R=T[g];W="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var ie=Q.modrn(R).toString(g);Q=Q.idivn(R),Q.isZero()?W=ie+W:W=v[b-ie.length]+ie+W}for(this.isZero()&&(W="0"+W);W.length%I!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(g,I){return this.toArrayLike(o,g,I)}),s.prototype.toArray=function(g,I){return this.toArrayLike(Array,g,I)};var _=function(g,I){return g.allocUnsafe?g.allocUnsafe(I):new g(I)};s.prototype.toArrayLike=function(g,I,W){this._strip();var Y=this.byteLength(),K=W||Math.max(1,Y);r(Y<=K,"byte array longer than desired length"),r(K>0,"Requested array length <= 0");var X=_(g,K),se=I==="le"?"LE":"BE";return this["_toArrayLike"+se](X,Y),X},s.prototype._toArrayLikeLE=function(g,I){for(var W=0,Y=0,K=0,X=0;K<this.length;K++){var se=this.words[K]<<X|Y;g[W++]=se&255,W<g.length&&(g[W++]=se>>8&255),W<g.length&&(g[W++]=se>>16&255),X===6?(W<g.length&&(g[W++]=se>>24&255),Y=0,X=0):(Y=se>>>24,X+=2)}if(W<g.length)for(g[W++]=Y;W<g.length;)g[W++]=0},s.prototype._toArrayLikeBE=function(g,I){for(var W=g.length-1,Y=0,K=0,X=0;K<this.length;K++){var se=this.words[K]<<X|Y;g[W--]=se&255,W>=0&&(g[W--]=se>>8&255),W>=0&&(g[W--]=se>>16&255),X===6?(W>=0&&(g[W--]=se>>24&255),Y=0,X=0):(Y=se>>>24,X+=2)}if(W>=0)for(g[W--]=Y;W>=0;)g[W--]=0},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var I=g,W=0;return I>=4096&&(W+=13,I>>>=13),I>=64&&(W+=7,I>>>=7),I>=8&&(W+=4,I>>>=4),I>=2&&(W+=2,I>>>=2),W+I},s.prototype._zeroBits=function(g){if(g===0)return 26;var I=g,W=0;return(I&8191)===0&&(W+=13,I>>>=13),(I&127)===0&&(W+=7,I>>>=7),(I&15)===0&&(W+=4,I>>>=4),(I&3)===0&&(W+=2,I>>>=2),(I&1)===0&&W++,W},s.prototype.bitLength=function(){var g=this.words[this.length-1],I=this._countBits(g);return(this.length-1)*26+I};function E(S){for(var g=new Array(S.bitLength()),I=0;I<g.length;I++){var W=I/26|0,Y=I%26;g[I]=S.words[W]>>>Y&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,I=0;I<this.length;I++){var W=this._zeroBits(this.words[I]);if(g+=W,W!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var I=0;I<g.length;I++)this.words[I]=this.words[I]|g.words[I];return this._strip()},s.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var I;this.length>g.length?I=g:I=this;for(var W=0;W<I.length;W++)this.words[W]=this.words[W]&g.words[W];return this.length=I.length,this._strip()},s.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var I,W;this.length>g.length?(I=this,W=g):(I=g,W=this);for(var Y=0;Y<W.length;Y++)this.words[Y]=I.words[Y]^W.words[Y];if(this!==I)for(;Y<I.length;Y++)this.words[Y]=I.words[Y];return this.length=I.length,this._strip()},s.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var I=Math.ceil(g/26)|0,W=g%26;this._expand(I),W>0&&I--;for(var Y=0;Y<I;Y++)this.words[Y]=~this.words[Y]&67108863;return W>0&&(this.words[Y]=~this.words[Y]&67108863>>26-W),this._strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,I){r(typeof g=="number"&&g>=0);var W=g/26|0,Y=g%26;return this._expand(W+1),I?this.words[W]=this.words[W]|1<<Y:this.words[W]=this.words[W]&~(1<<Y),this._strip()},s.prototype.iadd=function(g){var I;if(this.negative!==0&&g.negative===0)return this.negative=0,I=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,I=this.isub(g),g.negative=1,I._normSign();var W,Y;this.length>g.length?(W=this,Y=g):(W=g,Y=this);for(var K=0,X=0;X<Y.length;X++)I=(W.words[X]|0)+(Y.words[X]|0)+K,this.words[X]=I&67108863,K=I>>>26;for(;K!==0&&X<W.length;X++)I=(W.words[X]|0)+K,this.words[X]=I&67108863,K=I>>>26;if(this.length=W.length,K!==0)this.words[this.length]=K,this.length++;else if(W!==this)for(;X<W.length;X++)this.words[X]=W.words[X];return this},s.prototype.add=function(g){var I;return g.negative!==0&&this.negative===0?(g.negative=0,I=this.sub(g),g.negative^=1,I):g.negative===0&&this.negative!==0?(this.negative=0,I=g.sub(this),this.negative=1,I):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var I=this.iadd(g);return g.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var W=this.cmp(g);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Y,K;W>0?(Y=this,K=g):(Y=g,K=this);for(var X=0,se=0;se<K.length;se++)I=(Y.words[se]|0)-(K.words[se]|0)+X,X=I>>26,this.words[se]=I&67108863;for(;X!==0&&se<Y.length;se++)I=(Y.words[se]|0)+X,X=I>>26,this.words[se]=I&67108863;if(X===0&&se<Y.length&&Y!==this)for(;se<Y.length;se++)this.words[se]=Y.words[se];return this.length=Math.max(this.length,se),Y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function N(S,g,I){I.negative=g.negative^S.negative;var W=S.length+g.length|0;I.length=W,W=W-1|0;var Y=S.words[0]|0,K=g.words[0]|0,X=Y*K,se=X&67108863,$=X/67108864|0;I.words[0]=se;for(var b=1;b<W;b++){for(var R=$>>>26,Q=$&67108863,ie=Math.min(b,g.length-1),ue=Math.max(0,b-S.length+1);ue<=ie;ue++){var ce=b-ue|0;Y=S.words[ce]|0,K=g.words[ue]|0,X=Y*K+Q,R+=X/67108864|0,Q=X&67108863}I.words[b]=Q|0,$=R|0}return $!==0?I.words[b]=$|0:I.length--,I._strip()}var L=function(g,I,W){var Y=g.words,K=I.words,X=W.words,se=0,$,b,R,Q=Y[0]|0,ie=Q&8191,ue=Q>>>13,ce=Y[1]|0,_e=ce&8191,Me=ce>>>13,Ve=Y[2]|0,We=Ve&8191,tt=Ve>>>13,Yt=Y[3]|0,Dt=Yt&8191,Wt=Yt>>>13,xn=Y[4]|0,Pt=xn&8191,en=xn>>>13,fn=Y[5]|0,vt=fn&8191,Lt=fn>>>13,rn=Y[6]|0,ft=rn&8191,Qt=rn>>>13,wn=Y[7]|0,Ct=wn&8191,Vt=wn>>>13,In=Y[8]|0,qt=In&8191,ne=In>>>13,j=Y[9]|0,V=j&8191,le=j>>>13,he=K[0]|0,ye=he&8191,Te=he>>>13,xt=K[1]|0,it=xt&8191,at=xt>>>13,jt=K[2]|0,Je=jt&8191,ht=jt>>>13,yn=K[3]|0,Xt=yn&8191,$e=yn>>>13,Rt=K[4]|0,pt=Rt&8191,ee=Rt>>>13,D=K[5]|0,F=D&8191,ae=D>>>13,pe=K[6]|0,we=pe&8191,Ce=pe>>>13,bt=K[7]|0,Et=bt&8191,st=bt>>>13,un=K[8]|0,dt=un&8191,bn=un>>>13,wi=K[9]|0,En=wi&8191,Cn=wi>>>13;W.negative=g.negative^I.negative,W.length=19,$=Math.imul(ie,ye),b=Math.imul(ie,Te),b=b+Math.imul(ue,ye)|0,R=Math.imul(ue,Te);var Ca=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,$=Math.imul(_e,ye),b=Math.imul(_e,Te),b=b+Math.imul(Me,ye)|0,R=Math.imul(Me,Te),$=$+Math.imul(ie,it)|0,b=b+Math.imul(ie,at)|0,b=b+Math.imul(ue,it)|0,R=R+Math.imul(ue,at)|0;var Ra=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,$=Math.imul(We,ye),b=Math.imul(We,Te),b=b+Math.imul(tt,ye)|0,R=Math.imul(tt,Te),$=$+Math.imul(_e,it)|0,b=b+Math.imul(_e,at)|0,b=b+Math.imul(Me,it)|0,R=R+Math.imul(Me,at)|0,$=$+Math.imul(ie,Je)|0,b=b+Math.imul(ie,ht)|0,b=b+Math.imul(ue,Je)|0,R=R+Math.imul(ue,ht)|0;var fs=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(fs>>>26)|0,fs&=67108863,$=Math.imul(Dt,ye),b=Math.imul(Dt,Te),b=b+Math.imul(Wt,ye)|0,R=Math.imul(Wt,Te),$=$+Math.imul(We,it)|0,b=b+Math.imul(We,at)|0,b=b+Math.imul(tt,it)|0,R=R+Math.imul(tt,at)|0,$=$+Math.imul(_e,Je)|0,b=b+Math.imul(_e,ht)|0,b=b+Math.imul(Me,Je)|0,R=R+Math.imul(Me,ht)|0,$=$+Math.imul(ie,Xt)|0,b=b+Math.imul(ie,$e)|0,b=b+Math.imul(ue,Xt)|0,R=R+Math.imul(ue,$e)|0;var ko=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(ko>>>26)|0,ko&=67108863,$=Math.imul(Pt,ye),b=Math.imul(Pt,Te),b=b+Math.imul(en,ye)|0,R=Math.imul(en,Te),$=$+Math.imul(Dt,it)|0,b=b+Math.imul(Dt,at)|0,b=b+Math.imul(Wt,it)|0,R=R+Math.imul(Wt,at)|0,$=$+Math.imul(We,Je)|0,b=b+Math.imul(We,ht)|0,b=b+Math.imul(tt,Je)|0,R=R+Math.imul(tt,ht)|0,$=$+Math.imul(_e,Xt)|0,b=b+Math.imul(_e,$e)|0,b=b+Math.imul(Me,Xt)|0,R=R+Math.imul(Me,$e)|0,$=$+Math.imul(ie,pt)|0,b=b+Math.imul(ie,ee)|0,b=b+Math.imul(ue,pt)|0,R=R+Math.imul(ue,ee)|0;var zs=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(zs>>>26)|0,zs&=67108863,$=Math.imul(vt,ye),b=Math.imul(vt,Te),b=b+Math.imul(Lt,ye)|0,R=Math.imul(Lt,Te),$=$+Math.imul(Pt,it)|0,b=b+Math.imul(Pt,at)|0,b=b+Math.imul(en,it)|0,R=R+Math.imul(en,at)|0,$=$+Math.imul(Dt,Je)|0,b=b+Math.imul(Dt,ht)|0,b=b+Math.imul(Wt,Je)|0,R=R+Math.imul(Wt,ht)|0,$=$+Math.imul(We,Xt)|0,b=b+Math.imul(We,$e)|0,b=b+Math.imul(tt,Xt)|0,R=R+Math.imul(tt,$e)|0,$=$+Math.imul(_e,pt)|0,b=b+Math.imul(_e,ee)|0,b=b+Math.imul(Me,pt)|0,R=R+Math.imul(Me,ee)|0,$=$+Math.imul(ie,F)|0,b=b+Math.imul(ie,ae)|0,b=b+Math.imul(ue,F)|0,R=R+Math.imul(ue,ae)|0;var hs=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(hs>>>26)|0,hs&=67108863,$=Math.imul(ft,ye),b=Math.imul(ft,Te),b=b+Math.imul(Qt,ye)|0,R=Math.imul(Qt,Te),$=$+Math.imul(vt,it)|0,b=b+Math.imul(vt,at)|0,b=b+Math.imul(Lt,it)|0,R=R+Math.imul(Lt,at)|0,$=$+Math.imul(Pt,Je)|0,b=b+Math.imul(Pt,ht)|0,b=b+Math.imul(en,Je)|0,R=R+Math.imul(en,ht)|0,$=$+Math.imul(Dt,Xt)|0,b=b+Math.imul(Dt,$e)|0,b=b+Math.imul(Wt,Xt)|0,R=R+Math.imul(Wt,$e)|0,$=$+Math.imul(We,pt)|0,b=b+Math.imul(We,ee)|0,b=b+Math.imul(tt,pt)|0,R=R+Math.imul(tt,ee)|0,$=$+Math.imul(_e,F)|0,b=b+Math.imul(_e,ae)|0,b=b+Math.imul(Me,F)|0,R=R+Math.imul(Me,ae)|0,$=$+Math.imul(ie,we)|0,b=b+Math.imul(ie,Ce)|0,b=b+Math.imul(ue,we)|0,R=R+Math.imul(ue,Ce)|0;var ki=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(ki>>>26)|0,ki&=67108863,$=Math.imul(Ct,ye),b=Math.imul(Ct,Te),b=b+Math.imul(Vt,ye)|0,R=Math.imul(Vt,Te),$=$+Math.imul(ft,it)|0,b=b+Math.imul(ft,at)|0,b=b+Math.imul(Qt,it)|0,R=R+Math.imul(Qt,at)|0,$=$+Math.imul(vt,Je)|0,b=b+Math.imul(vt,ht)|0,b=b+Math.imul(Lt,Je)|0,R=R+Math.imul(Lt,ht)|0,$=$+Math.imul(Pt,Xt)|0,b=b+Math.imul(Pt,$e)|0,b=b+Math.imul(en,Xt)|0,R=R+Math.imul(en,$e)|0,$=$+Math.imul(Dt,pt)|0,b=b+Math.imul(Dt,ee)|0,b=b+Math.imul(Wt,pt)|0,R=R+Math.imul(Wt,ee)|0,$=$+Math.imul(We,F)|0,b=b+Math.imul(We,ae)|0,b=b+Math.imul(tt,F)|0,R=R+Math.imul(tt,ae)|0,$=$+Math.imul(_e,we)|0,b=b+Math.imul(_e,Ce)|0,b=b+Math.imul(Me,we)|0,R=R+Math.imul(Me,Ce)|0,$=$+Math.imul(ie,Et)|0,b=b+Math.imul(ie,st)|0,b=b+Math.imul(ue,Et)|0,R=R+Math.imul(ue,st)|0;var hn=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(hn>>>26)|0,hn&=67108863,$=Math.imul(qt,ye),b=Math.imul(qt,Te),b=b+Math.imul(ne,ye)|0,R=Math.imul(ne,Te),$=$+Math.imul(Ct,it)|0,b=b+Math.imul(Ct,at)|0,b=b+Math.imul(Vt,it)|0,R=R+Math.imul(Vt,at)|0,$=$+Math.imul(ft,Je)|0,b=b+Math.imul(ft,ht)|0,b=b+Math.imul(Qt,Je)|0,R=R+Math.imul(Qt,ht)|0,$=$+Math.imul(vt,Xt)|0,b=b+Math.imul(vt,$e)|0,b=b+Math.imul(Lt,Xt)|0,R=R+Math.imul(Lt,$e)|0,$=$+Math.imul(Pt,pt)|0,b=b+Math.imul(Pt,ee)|0,b=b+Math.imul(en,pt)|0,R=R+Math.imul(en,ee)|0,$=$+Math.imul(Dt,F)|0,b=b+Math.imul(Dt,ae)|0,b=b+Math.imul(Wt,F)|0,R=R+Math.imul(Wt,ae)|0,$=$+Math.imul(We,we)|0,b=b+Math.imul(We,Ce)|0,b=b+Math.imul(tt,we)|0,R=R+Math.imul(tt,Ce)|0,$=$+Math.imul(_e,Et)|0,b=b+Math.imul(_e,st)|0,b=b+Math.imul(Me,Et)|0,R=R+Math.imul(Me,st)|0,$=$+Math.imul(ie,dt)|0,b=b+Math.imul(ie,bn)|0,b=b+Math.imul(ue,dt)|0,R=R+Math.imul(ue,bn)|0;var Ul=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,$=Math.imul(V,ye),b=Math.imul(V,Te),b=b+Math.imul(le,ye)|0,R=Math.imul(le,Te),$=$+Math.imul(qt,it)|0,b=b+Math.imul(qt,at)|0,b=b+Math.imul(ne,it)|0,R=R+Math.imul(ne,at)|0,$=$+Math.imul(Ct,Je)|0,b=b+Math.imul(Ct,ht)|0,b=b+Math.imul(Vt,Je)|0,R=R+Math.imul(Vt,ht)|0,$=$+Math.imul(ft,Xt)|0,b=b+Math.imul(ft,$e)|0,b=b+Math.imul(Qt,Xt)|0,R=R+Math.imul(Qt,$e)|0,$=$+Math.imul(vt,pt)|0,b=b+Math.imul(vt,ee)|0,b=b+Math.imul(Lt,pt)|0,R=R+Math.imul(Lt,ee)|0,$=$+Math.imul(Pt,F)|0,b=b+Math.imul(Pt,ae)|0,b=b+Math.imul(en,F)|0,R=R+Math.imul(en,ae)|0,$=$+Math.imul(Dt,we)|0,b=b+Math.imul(Dt,Ce)|0,b=b+Math.imul(Wt,we)|0,R=R+Math.imul(Wt,Ce)|0,$=$+Math.imul(We,Et)|0,b=b+Math.imul(We,st)|0,b=b+Math.imul(tt,Et)|0,R=R+Math.imul(tt,st)|0,$=$+Math.imul(_e,dt)|0,b=b+Math.imul(_e,bn)|0,b=b+Math.imul(Me,dt)|0,R=R+Math.imul(Me,bn)|0,$=$+Math.imul(ie,En)|0,b=b+Math.imul(ie,Cn)|0,b=b+Math.imul(ue,En)|0,R=R+Math.imul(ue,Cn)|0;var Ws=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,$=Math.imul(V,it),b=Math.imul(V,at),b=b+Math.imul(le,it)|0,R=Math.imul(le,at),$=$+Math.imul(qt,Je)|0,b=b+Math.imul(qt,ht)|0,b=b+Math.imul(ne,Je)|0,R=R+Math.imul(ne,ht)|0,$=$+Math.imul(Ct,Xt)|0,b=b+Math.imul(Ct,$e)|0,b=b+Math.imul(Vt,Xt)|0,R=R+Math.imul(Vt,$e)|0,$=$+Math.imul(ft,pt)|0,b=b+Math.imul(ft,ee)|0,b=b+Math.imul(Qt,pt)|0,R=R+Math.imul(Qt,ee)|0,$=$+Math.imul(vt,F)|0,b=b+Math.imul(vt,ae)|0,b=b+Math.imul(Lt,F)|0,R=R+Math.imul(Lt,ae)|0,$=$+Math.imul(Pt,we)|0,b=b+Math.imul(Pt,Ce)|0,b=b+Math.imul(en,we)|0,R=R+Math.imul(en,Ce)|0,$=$+Math.imul(Dt,Et)|0,b=b+Math.imul(Dt,st)|0,b=b+Math.imul(Wt,Et)|0,R=R+Math.imul(Wt,st)|0,$=$+Math.imul(We,dt)|0,b=b+Math.imul(We,bn)|0,b=b+Math.imul(tt,dt)|0,R=R+Math.imul(tt,bn)|0,$=$+Math.imul(_e,En)|0,b=b+Math.imul(_e,Cn)|0,b=b+Math.imul(Me,En)|0,R=R+Math.imul(Me,Cn)|0;var Po=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Po>>>26)|0,Po&=67108863,$=Math.imul(V,Je),b=Math.imul(V,ht),b=b+Math.imul(le,Je)|0,R=Math.imul(le,ht),$=$+Math.imul(qt,Xt)|0,b=b+Math.imul(qt,$e)|0,b=b+Math.imul(ne,Xt)|0,R=R+Math.imul(ne,$e)|0,$=$+Math.imul(Ct,pt)|0,b=b+Math.imul(Ct,ee)|0,b=b+Math.imul(Vt,pt)|0,R=R+Math.imul(Vt,ee)|0,$=$+Math.imul(ft,F)|0,b=b+Math.imul(ft,ae)|0,b=b+Math.imul(Qt,F)|0,R=R+Math.imul(Qt,ae)|0,$=$+Math.imul(vt,we)|0,b=b+Math.imul(vt,Ce)|0,b=b+Math.imul(Lt,we)|0,R=R+Math.imul(Lt,Ce)|0,$=$+Math.imul(Pt,Et)|0,b=b+Math.imul(Pt,st)|0,b=b+Math.imul(en,Et)|0,R=R+Math.imul(en,st)|0,$=$+Math.imul(Dt,dt)|0,b=b+Math.imul(Dt,bn)|0,b=b+Math.imul(Wt,dt)|0,R=R+Math.imul(Wt,bn)|0,$=$+Math.imul(We,En)|0,b=b+Math.imul(We,Cn)|0,b=b+Math.imul(tt,En)|0,R=R+Math.imul(tt,Cn)|0;var ps=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(ps>>>26)|0,ps&=67108863,$=Math.imul(V,Xt),b=Math.imul(V,$e),b=b+Math.imul(le,Xt)|0,R=Math.imul(le,$e),$=$+Math.imul(qt,pt)|0,b=b+Math.imul(qt,ee)|0,b=b+Math.imul(ne,pt)|0,R=R+Math.imul(ne,ee)|0,$=$+Math.imul(Ct,F)|0,b=b+Math.imul(Ct,ae)|0,b=b+Math.imul(Vt,F)|0,R=R+Math.imul(Vt,ae)|0,$=$+Math.imul(ft,we)|0,b=b+Math.imul(ft,Ce)|0,b=b+Math.imul(Qt,we)|0,R=R+Math.imul(Qt,Ce)|0,$=$+Math.imul(vt,Et)|0,b=b+Math.imul(vt,st)|0,b=b+Math.imul(Lt,Et)|0,R=R+Math.imul(Lt,st)|0,$=$+Math.imul(Pt,dt)|0,b=b+Math.imul(Pt,bn)|0,b=b+Math.imul(en,dt)|0,R=R+Math.imul(en,bn)|0,$=$+Math.imul(Dt,En)|0,b=b+Math.imul(Dt,Cn)|0,b=b+Math.imul(Wt,En)|0,R=R+Math.imul(Wt,Cn)|0;var Lo=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,$=Math.imul(V,pt),b=Math.imul(V,ee),b=b+Math.imul(le,pt)|0,R=Math.imul(le,ee),$=$+Math.imul(qt,F)|0,b=b+Math.imul(qt,ae)|0,b=b+Math.imul(ne,F)|0,R=R+Math.imul(ne,ae)|0,$=$+Math.imul(Ct,we)|0,b=b+Math.imul(Ct,Ce)|0,b=b+Math.imul(Vt,we)|0,R=R+Math.imul(Vt,Ce)|0,$=$+Math.imul(ft,Et)|0,b=b+Math.imul(ft,st)|0,b=b+Math.imul(Qt,Et)|0,R=R+Math.imul(Qt,st)|0,$=$+Math.imul(vt,dt)|0,b=b+Math.imul(vt,bn)|0,b=b+Math.imul(Lt,dt)|0,R=R+Math.imul(Lt,bn)|0,$=$+Math.imul(Pt,En)|0,b=b+Math.imul(Pt,Cn)|0,b=b+Math.imul(en,En)|0,R=R+Math.imul(en,Cn)|0;var $s=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+($s>>>26)|0,$s&=67108863,$=Math.imul(V,F),b=Math.imul(V,ae),b=b+Math.imul(le,F)|0,R=Math.imul(le,ae),$=$+Math.imul(qt,we)|0,b=b+Math.imul(qt,Ce)|0,b=b+Math.imul(ne,we)|0,R=R+Math.imul(ne,Ce)|0,$=$+Math.imul(Ct,Et)|0,b=b+Math.imul(Ct,st)|0,b=b+Math.imul(Vt,Et)|0,R=R+Math.imul(Vt,st)|0,$=$+Math.imul(ft,dt)|0,b=b+Math.imul(ft,bn)|0,b=b+Math.imul(Qt,dt)|0,R=R+Math.imul(Qt,bn)|0,$=$+Math.imul(vt,En)|0,b=b+Math.imul(vt,Cn)|0,b=b+Math.imul(Lt,En)|0,R=R+Math.imul(Lt,Cn)|0;var ms=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(ms>>>26)|0,ms&=67108863,$=Math.imul(V,we),b=Math.imul(V,Ce),b=b+Math.imul(le,we)|0,R=Math.imul(le,Ce),$=$+Math.imul(qt,Et)|0,b=b+Math.imul(qt,st)|0,b=b+Math.imul(ne,Et)|0,R=R+Math.imul(ne,st)|0,$=$+Math.imul(Ct,dt)|0,b=b+Math.imul(Ct,bn)|0,b=b+Math.imul(Vt,dt)|0,R=R+Math.imul(Vt,bn)|0,$=$+Math.imul(ft,En)|0,b=b+Math.imul(ft,Cn)|0,b=b+Math.imul(Qt,En)|0,R=R+Math.imul(Qt,Cn)|0;var kr=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(kr>>>26)|0,kr&=67108863,$=Math.imul(V,Et),b=Math.imul(V,st),b=b+Math.imul(le,Et)|0,R=Math.imul(le,st),$=$+Math.imul(qt,dt)|0,b=b+Math.imul(qt,bn)|0,b=b+Math.imul(ne,dt)|0,R=R+Math.imul(ne,bn)|0,$=$+Math.imul(Ct,En)|0,b=b+Math.imul(Ct,Cn)|0,b=b+Math.imul(Vt,En)|0,R=R+Math.imul(Vt,Cn)|0;var Ma=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,$=Math.imul(V,dt),b=Math.imul(V,bn),b=b+Math.imul(le,dt)|0,R=Math.imul(le,bn),$=$+Math.imul(qt,En)|0,b=b+Math.imul(qt,Cn)|0,b=b+Math.imul(ne,En)|0,R=R+Math.imul(ne,Cn)|0;var Pr=(se+$|0)+((b&8191)<<13)|0;se=(R+(b>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,$=Math.imul(V,En),b=Math.imul(V,Cn),b=b+Math.imul(le,En)|0,R=Math.imul(le,Cn);var vi=(se+$|0)+((b&8191)<<13)|0;return se=(R+(b>>>13)|0)+(vi>>>26)|0,vi&=67108863,X[0]=Ca,X[1]=Ra,X[2]=fs,X[3]=ko,X[4]=zs,X[5]=hs,X[6]=ki,X[7]=hn,X[8]=Ul,X[9]=Ws,X[10]=Po,X[11]=ps,X[12]=Lo,X[13]=$s,X[14]=ms,X[15]=kr,X[16]=Ma,X[17]=Pr,X[18]=vi,se!==0&&(X[19]=se,W.length++),W};Math.imul||(L=N);function M(S,g,I){I.negative=g.negative^S.negative,I.length=S.length+g.length;for(var W=0,Y=0,K=0;K<I.length-1;K++){var X=Y;Y=0;for(var se=W&67108863,$=Math.min(K,g.length-1),b=Math.max(0,K-S.length+1);b<=$;b++){var R=K-b,Q=S.words[R]|0,ie=g.words[b]|0,ue=Q*ie,ce=ue&67108863;X=X+(ue/67108864|0)|0,ce=ce+se|0,se=ce&67108863,X=X+(ce>>>26)|0,Y+=X>>>26,X&=67108863}I.words[K]=se,W=X,X=Y}return W!==0?I.words[K]=W:I.length--,I._strip()}function Z(S,g,I){return M(S,g,I)}s.prototype.mulTo=function(g,I){var W,Y=this.length+g.length;return this.length===10&&g.length===10?W=L(this,g,I):Y<63?W=N(this,g,I):Y<1024?W=M(this,g,I):W=Z(this,g,I),W},s.prototype.mul=function(g){var I=new s(null);return I.words=new Array(this.length+g.length),this.mulTo(g,I)},s.prototype.mulf=function(g){var I=new s(null);return I.words=new Array(this.length+g.length),Z(this,g,I)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){var I=g<0;I&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var W=0,Y=0;Y<this.length;Y++){var K=(this.words[Y]|0)*g,X=(K&67108863)+(W&67108863);W>>=26,W+=K/67108864|0,W+=X>>>26,this.words[Y]=X&67108863}return W!==0&&(this.words[Y]=W,this.length++),this.length=g===0?1:this.length,I?this.ineg():this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var I=E(g);if(I.length===0)return new s(1);for(var W=this,Y=0;Y<I.length&&I[Y]===0;Y++,W=W.sqr());if(++Y<I.length)for(var K=W.sqr();Y<I.length;Y++,K=K.sqr())I[Y]!==0&&(W=W.mul(K));return W},s.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var I=g%26,W=(g-I)/26,Y=67108863>>>26-I<<26-I,K;if(I!==0){var X=0;for(K=0;K<this.length;K++){var se=this.words[K]&Y,$=(this.words[K]|0)-se<<I;this.words[K]=$|X,X=se>>>26-I}X&&(this.words[K]=X,this.length++)}if(W!==0){for(K=this.length-1;K>=0;K--)this.words[K+W]=this.words[K];for(K=0;K<W;K++)this.words[K]=0;this.length+=W}return this._strip()},s.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,I,W){r(typeof g=="number"&&g>=0);var Y;I?Y=(I-I%26)/26:Y=0;var K=g%26,X=Math.min((g-K)/26,this.length),se=67108863^67108863>>>K<<K,$=W;if(Y-=X,Y=Math.max(0,Y),$){for(var b=0;b<X;b++)$.words[b]=this.words[b];$.length=X}if(X!==0)if(this.length>X)for(this.length-=X,b=0;b<this.length;b++)this.words[b]=this.words[b+X];else this.words[0]=0,this.length=1;var R=0;for(b=this.length-1;b>=0&&(R!==0||b>=Y);b--){var Q=this.words[b]|0;this.words[b]=R<<26-K|Q>>>K,R=Q&se}return $&&R!==0&&($.words[$.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(g,I,W){return r(this.negative===0),this.iushrn(g,I,W)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var I=g%26,W=(g-I)/26,Y=1<<I;if(this.length<=W)return!1;var K=this.words[W];return!!(K&Y)},s.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var I=g%26,W=(g-I)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(I!==0&&W++,this.length=Math.min(W,this.length),I!==0){var Y=67108863^67108863>>>I<<I;this.words[this.length-1]&=Y}return this._strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},s.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,I,W){var Y=g.length+W,K;this._expand(Y);var X,se=0;for(K=0;K<g.length;K++){X=(this.words[K+W]|0)+se;var $=(g.words[K]|0)*I;X-=$&67108863,se=(X>>26)-($/67108864|0),this.words[K+W]=X&67108863}for(;K<this.length-W;K++)X=(this.words[K+W]|0)+se,se=X>>26,this.words[K+W]=X&67108863;if(se===0)return this._strip();for(r(se===-1),se=0,K=0;K<this.length;K++)X=-(this.words[K]|0)+se,se=X>>26,this.words[K]=X&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(g,I){var W=this.length-g.length,Y=this.clone(),K=g,X=K.words[K.length-1]|0,se=this._countBits(X);W=26-se,W!==0&&(K=K.ushln(W),Y.iushln(W),X=K.words[K.length-1]|0);var $=Y.length-K.length,b;if(I!=="mod"){b=new s(null),b.length=$+1,b.words=new Array(b.length);for(var R=0;R<b.length;R++)b.words[R]=0}var Q=Y.clone()._ishlnsubmul(K,1,$);Q.negative===0&&(Y=Q,b&&(b.words[$]=1));for(var ie=$-1;ie>=0;ie--){var ue=(Y.words[K.length+ie]|0)*67108864+(Y.words[K.length+ie-1]|0);for(ue=Math.min(ue/X|0,67108863),Y._ishlnsubmul(K,ue,ie);Y.negative!==0;)ue--,Y.negative=0,Y._ishlnsubmul(K,1,ie),Y.isZero()||(Y.negative^=1);b&&(b.words[ie]=ue)}return b&&b._strip(),Y._strip(),I!=="div"&&W!==0&&Y.iushrn(W),{div:b||null,mod:Y}},s.prototype.divmod=function(g,I,W){if(r(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var Y,K,X;return this.negative!==0&&g.negative===0?(X=this.neg().divmod(g,I),I!=="mod"&&(Y=X.div.neg()),I!=="div"&&(K=X.mod.neg(),W&&K.negative!==0&&K.iadd(g)),{div:Y,mod:K}):this.negative===0&&g.negative!==0?(X=this.divmod(g.neg(),I),I!=="mod"&&(Y=X.div.neg()),{div:Y,mod:X.mod}):(this.negative&g.negative)!==0?(X=this.neg().divmod(g.neg(),I),I!=="div"&&(K=X.mod.neg(),W&&K.negative!==0&&K.isub(g)),{div:X.div,mod:K}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?I==="div"?{div:this.divn(g.words[0]),mod:null}:I==="mod"?{div:null,mod:new s(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modrn(g.words[0]))}:this._wordDiv(g,I)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var I=this.divmod(g);if(I.mod.isZero())return I.div;var W=I.div.negative!==0?I.mod.isub(g):I.mod,Y=g.ushrn(1),K=g.andln(1),X=W.cmp(Y);return X<0||K===1&&X===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},s.prototype.modrn=function(g){var I=g<0;I&&(g=-g),r(g<=67108863);for(var W=(1<<26)%g,Y=0,K=this.length-1;K>=0;K--)Y=(W*Y+(this.words[K]|0))%g;return I?-Y:Y},s.prototype.modn=function(g){return this.modrn(g)},s.prototype.idivn=function(g){var I=g<0;I&&(g=-g),r(g<=67108863);for(var W=0,Y=this.length-1;Y>=0;Y--){var K=(this.words[Y]|0)+W*67108864;this.words[Y]=K/g|0,W=K%g}return this._strip(),I?this.ineg():this},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var I=this,W=g.clone();I.negative!==0?I=I.umod(g):I=I.clone();for(var Y=new s(1),K=new s(0),X=new s(0),se=new s(1),$=0;I.isEven()&&W.isEven();)I.iushrn(1),W.iushrn(1),++$;for(var b=W.clone(),R=I.clone();!I.isZero();){for(var Q=0,ie=1;(I.words[0]&ie)===0&&Q<26;++Q,ie<<=1);if(Q>0)for(I.iushrn(Q);Q-- >0;)(Y.isOdd()||K.isOdd())&&(Y.iadd(b),K.isub(R)),Y.iushrn(1),K.iushrn(1);for(var ue=0,ce=1;(W.words[0]&ce)===0&&ue<26;++ue,ce<<=1);if(ue>0)for(W.iushrn(ue);ue-- >0;)(X.isOdd()||se.isOdd())&&(X.iadd(b),se.isub(R)),X.iushrn(1),se.iushrn(1);I.cmp(W)>=0?(I.isub(W),Y.isub(X),K.isub(se)):(W.isub(I),X.isub(Y),se.isub(K))}return{a:X,b:se,gcd:W.iushln($)}},s.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var I=this,W=g.clone();I.negative!==0?I=I.umod(g):I=I.clone();for(var Y=new s(1),K=new s(0),X=W.clone();I.cmpn(1)>0&&W.cmpn(1)>0;){for(var se=0,$=1;(I.words[0]&$)===0&&se<26;++se,$<<=1);if(se>0)for(I.iushrn(se);se-- >0;)Y.isOdd()&&Y.iadd(X),Y.iushrn(1);for(var b=0,R=1;(W.words[0]&R)===0&&b<26;++b,R<<=1);if(b>0)for(W.iushrn(b);b-- >0;)K.isOdd()&&K.iadd(X),K.iushrn(1);I.cmp(W)>=0?(I.isub(W),Y.isub(K)):(W.isub(I),K.isub(Y))}var Q;return I.cmpn(1)===0?Q=Y:Q=K,Q.cmpn(0)<0&&Q.iadd(g),Q},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var I=this.clone(),W=g.clone();I.negative=0,W.negative=0;for(var Y=0;I.isEven()&&W.isEven();Y++)I.iushrn(1),W.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;W.isEven();)W.iushrn(1);var K=I.cmp(W);if(K<0){var X=I;I=W,W=X}else if(K===0||W.cmpn(1)===0)break;I.isub(W)}while(!0);return W.iushln(Y)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){r(typeof g=="number");var I=g%26,W=(g-I)/26,Y=1<<I;if(this.length<=W)return this._expand(W+1),this.words[W]|=Y,this;for(var K=Y,X=W;K!==0&&X<this.length;X++){var se=this.words[X]|0;se+=K,K=se>>>26,se&=67108863,this.words[X]=se}return K!==0&&(this.words[X]=K,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var I=g<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var W;if(this.length>1)W=1;else{I&&(g=-g),r(g<=67108863,"Number is too big");var Y=this.words[0]|0;W=Y===g?0:Y<g?-1:1}return this.negative!==0?-W|0:W},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var I=this.ucmp(g);return this.negative!==0?-I|0:I},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var I=0,W=this.length-1;W>=0;W--){var Y=this.words[W]|0,K=g.words[W]|0;if(Y!==K){Y<K?I=-1:Y>K&&(I=1);break}}return I},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new H(g)},s.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var J={k256:null,p224:null,p192:null,p25519:null};function re(S,g){this.name=S,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},re.prototype.ireduce=function(g){var I=g,W;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),W=I.bitLength();while(W>this.n);var Y=W<this.n?-1:I.ucmp(this.p);return Y===0?(I.words[0]=0,I.length=1):Y>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},re.prototype.split=function(g,I){g.iushrn(this.n,0,I)},re.prototype.imulK=function(g){return g.imul(this.k)};function q(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,re),q.prototype.split=function(g,I){for(var W=4194303,Y=Math.min(g.length,9),K=0;K<Y;K++)I.words[K]=g.words[K];if(I.length=Y,g.length<=9){g.words[0]=0,g.length=1;return}var X=g.words[9];for(I.words[I.length++]=X&W,K=10;K<g.length;K++){var se=g.words[K]|0;g.words[K-10]=(se&W)<<4|X>>>22,X=se}X>>>=22,g.words[K-10]=X,X===0&&g.length>10?g.length-=10:g.length-=9},q.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var I=0,W=0;W<g.length;W++){var Y=g.words[W]|0;I+=Y*977,g.words[W]=I&67108863,I=Y*64+(I/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function U(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,re);function P(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(P,re);function z(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(z,re),z.prototype.imulK=function(g){for(var I=0,W=0;W<g.length;W++){var Y=(g.words[W]|0)*19+I,K=Y&67108863;Y>>>=26,g.words[W]=K,I=Y}return I!==0&&(g.words[g.length++]=I),g},s._prime=function(g){if(J[g])return J[g];var I;if(g==="k256")I=new q;else if(g==="p224")I=new U;else if(g==="p192")I=new P;else if(g==="p25519")I=new z;else throw new Error("Unknown prime "+g);return J[g]=I,I};function H(S){if(typeof S=="string"){var g=s._prime(S);this.m=g.p,this.prime=g}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}H.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},H.prototype._verify2=function(g,I){r((g.negative|I.negative)===0,"red works only with positives"),r(g.red&&g.red===I.red,"red works only with red numbers")},H.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(f(g,g.umod(this.m)._forceRed(this)),g)},H.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},H.prototype.add=function(g,I){this._verify2(g,I);var W=g.add(I);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},H.prototype.iadd=function(g,I){this._verify2(g,I);var W=g.iadd(I);return W.cmp(this.m)>=0&&W.isub(this.m),W},H.prototype.sub=function(g,I){this._verify2(g,I);var W=g.sub(I);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},H.prototype.isub=function(g,I){this._verify2(g,I);var W=g.isub(I);return W.cmpn(0)<0&&W.iadd(this.m),W},H.prototype.shl=function(g,I){return this._verify1(g),this.imod(g.ushln(I))},H.prototype.imul=function(g,I){return this._verify2(g,I),this.imod(g.imul(I))},H.prototype.mul=function(g,I){return this._verify2(g,I),this.imod(g.mul(I))},H.prototype.isqr=function(g){return this.imul(g,g.clone())},H.prototype.sqr=function(g){return this.mul(g,g)},H.prototype.sqrt=function(g){if(g.isZero())return g.clone();var I=this.m.andln(3);if(r(I%2===1),I===3){var W=this.m.add(new s(1)).iushrn(2);return this.pow(g,W)}for(var Y=this.m.subn(1),K=0;!Y.isZero()&&Y.andln(1)===0;)K++,Y.iushrn(1);r(!Y.isZero());var X=new s(1).toRed(this),se=X.redNeg(),$=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new s(2*b*b).toRed(this);this.pow(b,$).cmp(se)!==0;)b.redIAdd(se);for(var R=this.pow(b,Y),Q=this.pow(g,Y.addn(1).iushrn(1)),ie=this.pow(g,Y),ue=K;ie.cmp(X)!==0;){for(var ce=ie,_e=0;ce.cmp(X)!==0;_e++)ce=ce.redSqr();r(_e<ue);var Me=this.pow(R,new s(1).iushln(ue-_e-1));Q=Q.redMul(Me),R=Me.redSqr(),ie=ie.redMul(R),ue=_e}return Q},H.prototype.invm=function(g){var I=g._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},H.prototype.pow=function(g,I){if(I.isZero())return new s(1).toRed(this);if(I.cmpn(1)===0)return g.clone();var W=4,Y=new Array(1<<W);Y[0]=new s(1).toRed(this),Y[1]=g;for(var K=2;K<Y.length;K++)Y[K]=this.mul(Y[K-1],g);var X=Y[0],se=0,$=0,b=I.bitLength()%26;for(b===0&&(b=26),K=I.length-1;K>=0;K--){for(var R=I.words[K],Q=b-1;Q>=0;Q--){var ie=R>>Q&1;if(X!==Y[0]&&(X=this.sqr(X)),ie===0&&se===0){$=0;continue}se<<=1,se|=ie,$++,!($!==W&&(K!==0||Q!==0))&&(X=this.mul(X,Y[se]),$=0,se=0)}b=26}return X},H.prototype.convertTo=function(g){var I=g.umod(this.m);return I===g?I.clone():I},H.prototype.convertFrom=function(g){var I=g.clone();return I.red=null,I},s.mont=function(g){return new k(g)};function k(S){H.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,H),k.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},k.prototype.convertFrom=function(g){var I=this.imod(g.mul(this.rinv));return I.red=null,I},k.prototype.imul=function(g,I){if(g.isZero()||I.isZero())return g.words[0]=0,g.length=1,g;var W=g.imul(I),Y=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=W.isub(Y).iushrn(this.shift),X=K;return K.cmp(this.m)>=0?X=K.isub(this.m):K.cmpn(0)<0&&(X=K.iadd(this.m)),X._forceRed(this)},k.prototype.mul=function(g,I){if(g.isZero()||I.isZero())return new s(0)._forceRed(this);var W=g.mul(I),Y=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=W.isub(Y).iushrn(this.shift),X=K;return K.cmp(this.m)>=0?X=K.isub(this.m):K.cmpn(0)<0&&(X=K.iadd(this.m)),X._forceRed(this)},k.prototype.invm=function(g){var I=this.imod(g._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,rie)})(Kg)),Kg.exports}var iie=s6();const wN=Ol(iie);var vg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var vN;function o6(){return vN||(vN=1,(function(t,e){var n=ST(),r=n.Buffer;function i(o,l){for(var u in o)l[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,l,u){return r(o,l,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,l,u)},s.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=r(o);return l!==void 0?typeof u=="string"?d.fill(l,u):d.fill(l):d.fill(0),d},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(vg,vg.exports)),vg.exports}var ix,xN;function sie(){if(xN)return ix;xN=1;var t=o6().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),l=o.charCodeAt(0);if(r[l]!==255)throw new TypeError(o+" is ambiguous");r[l]=s}var u=n.length,d=n.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function v(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=t.from(_)),!t.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,N=0,L=0,M=_.length;L!==M&&_[L]===0;)L++,E++;for(var Z=(M-L)*p+1>>>0,J=new Uint8Array(Z);L!==M;){for(var re=_[L],q=0,U=Z-1;(re!==0||q<N)&&U!==-1;U--,q++)re+=256*J[U]>>>0,J[U]=re%u>>>0,re=re/u>>>0;if(re!==0)throw new Error("Non-zero carry");N=q,L++}for(var P=Z-N;P!==Z&&J[P]===0;)P++;for(var z=d.repeat(E);P<Z;++P)z+=n.charAt(J[P]);return z}function x(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return t.alloc(0);for(var E=0,N=0,L=0;_[E]===d;)N++,E++;for(var M=(_.length-E)*f+1>>>0,Z=new Uint8Array(M);E<_.length;){var J=_.charCodeAt(E);if(J>255)return;var re=r[J];if(re===255)return;for(var q=0,U=M-1;(re!==0||q<L)&&U!==-1;U--,q++)re+=u*Z[U]>>>0,Z[U]=re%256>>>0,re=re/256>>>0;if(re!==0)throw new Error("Non-zero carry");L=q,E++}for(var P=M-L;P!==M&&Z[P]===0;)P++;var z=t.allocUnsafe(N+(M-P));z.fill(0,0,N);for(var H=N;P!==M;)z[H++]=Z[P++];return z}function T(_){var E=x(_);if(E)return E;throw new Error("Non-base"+u+" character")}return{encode:v,decodeUnsafe:x,decode:T}}return ix=e,ix}var sx,bN;function oie(){if(bN)return sx;bN=1;var t=sie(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return sx=t(e),sx}var aie=oie();const Wr=Ol(aie),EN=Bj;var mn={},ox,_N;function lie(){if(_N)return ox;_N=1;var t=o6().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),l=o.charCodeAt(0);if(r[l]!==255)throw new TypeError(o+" is ambiguous");r[l]=s}var u=n.length,d=n.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function v(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=t.from(_)),!t.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,N=0,L=0,M=_.length;L!==M&&_[L]===0;)L++,E++;for(var Z=(M-L)*p+1>>>0,J=new Uint8Array(Z);L!==M;){for(var re=_[L],q=0,U=Z-1;(re!==0||q<N)&&U!==-1;U--,q++)re+=256*J[U]>>>0,J[U]=re%u>>>0,re=re/u>>>0;if(re!==0)throw new Error("Non-zero carry");N=q,L++}for(var P=Z-N;P!==Z&&J[P]===0;)P++;for(var z=d.repeat(E);P<Z;++P)z+=n.charAt(J[P]);return z}function x(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return t.alloc(0);for(var E=0,N=0,L=0;_[E]===d;)N++,E++;for(var M=(_.length-E)*f+1>>>0,Z=new Uint8Array(M);E<_.length;){var J=_.charCodeAt(E);if(J>255)return;var re=r[J];if(re===255)return;for(var q=0,U=M-1;(re!==0||q<L)&&U!==-1;U--,q++)re+=u*Z[U]>>>0,Z[U]=re%256>>>0,re=re/256>>>0;if(re!==0)throw new Error("Non-zero carry");L=q,E++}for(var P=M-L;P!==M&&Z[P]===0;)P++;var z=t.allocUnsafe(N+(M-P));z.fill(0,0,N);for(var H=N;P!==M;)z[H++]=Z[P++];return z}function T(_){var E=x(_);if(E)return E;throw new Error("Non-base"+u+" character")}return{encode:v,decodeUnsafe:x,decode:T}}return ox=e,ox}var ax,SN;function cie(){if(SN)return ax;SN=1;var t=lie(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return ax=t(e),ax}function ra(t,e,n){return e<=t&&t<=n}function aw(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function uie(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var l=s&1023,u=o&1023;i.push(65536+(l<<10)+u),r+=1}else i.push(65533)}r+=1}return i}function die(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var e0=-1;function TT(t){this.tokens=[].slice.call(t)}TT.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():e0},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Hd=-1;function lx(t,e){if(t)throw TypeError("Decoder error");return e||65533}var t0="utf-8";function n0(t,e){if(!(this instanceof n0))return new n0(t,e);if(t=t!==void 0?String(t).toLowerCase():t0,t!==t0)throw new Error("Encoding not supported. Only utf-8 is supported");e=aw(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}n0.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=aw(n),this._streaming||(this._decoder=new fie({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new TT(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Hd);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Hd)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),die(s)}};function r0(t,e){if(!(this instanceof r0))return new r0(t,e);if(t=t!==void 0?String(t).toLowerCase():t0,t!==t0)throw new Error("Encoding not supported. Only utf-8 is supported");e=aw(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}r0.prototype={encode:function(e,n){e=e?String(e):"",n=aw(n),this._streaming||(this._encoder=new hie(this._options)),this._streaming=!!n.stream;for(var r=[],i=new TT(uie(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Hd);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Hd;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function fie(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(l,u){if(u===e0&&i!==0)return i=0,lx(e);if(u===e0)return Hd;if(i===0){if(ra(u,0,127))return u;if(ra(u,194,223))i=1,n=u-192;else if(ra(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,n=u-224;else if(ra(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,n=u-240;else return lx(e);return n=n<<6*i,null}if(!ra(u,s,o))return n=i=r=0,s=128,o=191,l.prepend(u),lx(e);if(s=128,o=191,r+=1,n+=u-128<<6*(i-r),r!==i)return null;var d=n;return n=i=r=0,d}}function hie(t){t.fatal,this.handler=function(e,n){if(n===e0)return Hd;if(ra(n,0,127))return n;var r,i;ra(n,128,2047)?(r=1,i=192):ra(n,2048,65535)?(r=2,i=224):ra(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const pie=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:n0,TextEncoder:r0},Symbol.toStringTag,{value:"Module"})),mie=tP(pie);var TN;function gie(){if(TN)return mn;TN=1;var t=mn&&mn.__createBinding||(Object.create?(function(P,z,H,k){k===void 0&&(k=H),Object.defineProperty(P,k,{enumerable:!0,get:function(){return z[H]}})}):(function(P,z,H,k){k===void 0&&(k=H),P[k]=z[H]})),e=mn&&mn.__setModuleDefault||(Object.create?(function(P,z){Object.defineProperty(P,"default",{enumerable:!0,value:z})}):function(P,z){P.default=z}),n=mn&&mn.__decorate||function(P,z,H,k){var S=arguments.length,g=S<3?z:k===null?k=Object.getOwnPropertyDescriptor(z,H):k,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(P,z,H,k);else for(var W=P.length-1;W>=0;W--)(I=P[W])&&(g=(S<3?I(g):S>3?I(z,H,g):I(z,H))||g);return S>3&&g&&Object.defineProperty(z,H,g),g},r=mn&&mn.__importStar||function(P){if(P&&P.__esModule)return P;var z={};if(P!=null)for(var H in P)H!=="default"&&Object.hasOwnProperty.call(P,H)&&t(z,P,H);return e(z,P),z},i=mn&&mn.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(mn,"__esModule",{value:!0}),mn.deserializeUnchecked=mn.deserialize=mn.serialize=mn.BinaryReader=mn.BinaryWriter=mn.BorshError=mn.baseDecode=mn.baseEncode=void 0;const s=i(s6()),o=i(cie()),l=r(mie),u=typeof TextDecoder!="function"?l.TextDecoder:TextDecoder,d=new u("utf-8",{fatal:!0});function f(P){return typeof P=="string"&&(P=Jn.from(P,"utf8")),o.default.encode(Jn.from(P))}mn.baseEncode=f;function p(P){return Jn.from(o.default.decode(P))}mn.baseDecode=p;const v=1024;class x extends Error{constructor(z){super(z),this.fieldPath=[],this.originalMessage=z}addToFieldPath(z){this.fieldPath.splice(0,0,z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mn.BorshError=x;class T{constructor(){this.buf=Jn.alloc(v),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Jn.concat([this.buf,Jn.alloc(v)]))}writeU8(z){this.maybeResize(),this.buf.writeUInt8(z,this.length),this.length+=1}writeU16(z){this.maybeResize(),this.buf.writeUInt16LE(z,this.length),this.length+=2}writeU32(z){this.maybeResize(),this.buf.writeUInt32LE(z,this.length),this.length+=4}writeU64(z){this.maybeResize(),this.writeBuffer(Jn.from(new s.default(z).toArray("le",8)))}writeU128(z){this.maybeResize(),this.writeBuffer(Jn.from(new s.default(z).toArray("le",16)))}writeU256(z){this.maybeResize(),this.writeBuffer(Jn.from(new s.default(z).toArray("le",32)))}writeU512(z){this.maybeResize(),this.writeBuffer(Jn.from(new s.default(z).toArray("le",64)))}writeBuffer(z){this.buf=Jn.concat([Jn.from(this.buf.subarray(0,this.length)),z,Jn.alloc(v)]),this.length+=z.length}writeString(z){this.maybeResize();const H=Jn.from(z,"utf8");this.writeU32(H.length),this.writeBuffer(H)}writeFixedArray(z){this.writeBuffer(Jn.from(z))}writeArray(z,H){this.maybeResize(),this.writeU32(z.length);for(const k of z)this.maybeResize(),H(k)}toArray(){return this.buf.subarray(0,this.length)}}mn.BinaryWriter=T;function _(P,z,H){const k=H.value;H.value=function(...S){try{return k.apply(this,S)}catch(g){if(g instanceof RangeError){const I=g.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(I)>=0)throw new x("Reached the end of buffer when deserializing")}throw g}}}class E{constructor(z){this.buf=z,this.offset=0}readU8(){const z=this.buf.readUInt8(this.offset);return this.offset+=1,z}readU16(){const z=this.buf.readUInt16LE(this.offset);return this.offset+=2,z}readU32(){const z=this.buf.readUInt32LE(this.offset);return this.offset+=4,z}readU64(){const z=this.readBuffer(8);return new s.default(z,"le")}readU128(){const z=this.readBuffer(16);return new s.default(z,"le")}readU256(){const z=this.readBuffer(32);return new s.default(z,"le")}readU512(){const z=this.readBuffer(64);return new s.default(z,"le")}readBuffer(z){if(this.offset+z>this.buf.length)throw new x(`Expected buffer length ${z} isn't within bounds`);const H=this.buf.slice(this.offset,this.offset+z);return this.offset+=z,H}readString(){const z=this.readU32(),H=this.readBuffer(z);try{return d.decode(H)}catch(k){throw new x(`Error decoding UTF-8 string: ${k}`)}}readFixedArray(z){return new Uint8Array(this.readBuffer(z))}readArray(z){const H=this.readU32(),k=Array();for(let S=0;S<H;++S)k.push(z());return k}}n([_],E.prototype,"readU8",null),n([_],E.prototype,"readU16",null),n([_],E.prototype,"readU32",null),n([_],E.prototype,"readU64",null),n([_],E.prototype,"readU128",null),n([_],E.prototype,"readU256",null),n([_],E.prototype,"readU512",null),n([_],E.prototype,"readString",null),n([_],E.prototype,"readFixedArray",null),n([_],E.prototype,"readArray",null),mn.BinaryReader=E;function N(P){return P.charAt(0).toUpperCase()+P.slice(1)}function L(P,z,H,k,S){try{if(typeof k=="string")S[`write${N(k)}`](H);else if(k instanceof Array)if(typeof k[0]=="number"){if(H.length!==k[0])throw new x(`Expecting byte array of length ${k[0]}, but got ${H.length} bytes`);S.writeFixedArray(H)}else if(k.length===2&&typeof k[1]=="number"){if(H.length!==k[1])throw new x(`Expecting byte array of length ${k[1]}, but got ${H.length} bytes`);for(let g=0;g<k[1];g++)L(P,null,H[g],k[0],S)}else S.writeArray(H,g=>{L(P,z,g,k[0],S)});else if(k.kind!==void 0)switch(k.kind){case"option":{H==null?S.writeU8(0):(S.writeU8(1),L(P,z,H,k.type,S));break}case"map":{S.writeU32(H.size),H.forEach((g,I)=>{L(P,z,I,k.key,S),L(P,z,g,k.value,S)});break}default:throw new x(`FieldType ${k} unrecognized`)}else M(P,H,S)}catch(g){throw g instanceof x&&g.addToFieldPath(z),g}}function M(P,z,H){if(typeof z.borshSerialize=="function"){z.borshSerialize(H);return}const k=P.get(z.constructor);if(!k)throw new x(`Class ${z.constructor.name} is missing in schema`);if(k.kind==="struct")k.fields.map(([S,g])=>{L(P,S,z[S],g,H)});else if(k.kind==="enum"){const S=z[k.field];for(let g=0;g<k.values.length;++g){const[I,W]=k.values[g];if(I===S){H.writeU8(g),L(P,I,z[I],W,H);break}}}else throw new x(`Unexpected schema kind: ${k.kind} for ${z.constructor.name}`)}function Z(P,z,H=T){const k=new H;return M(P,z,k),k.toArray()}mn.serialize=Z;function J(P,z,H,k){try{if(typeof H=="string")return k[`read${N(H)}`]();if(H instanceof Array){if(typeof H[0]=="number")return k.readFixedArray(H[0]);if(typeof H[1]=="number"){const S=[];for(let g=0;g<H[1];g++)S.push(J(P,null,H[0],k));return S}else return k.readArray(()=>J(P,z,H[0],k))}if(H.kind==="option")return k.readU8()?J(P,z,H.type,k):void 0;if(H.kind==="map"){let S=new Map;const g=k.readU32();for(let I=0;I<g;I++){const W=J(P,z,H.key,k),Y=J(P,z,H.value,k);S.set(W,Y)}return S}return re(P,H,k)}catch(S){throw S instanceof x&&S.addToFieldPath(z),S}}function re(P,z,H){if(typeof z.borshDeserialize=="function")return z.borshDeserialize(H);const k=P.get(z);if(!k)throw new x(`Class ${z.name} is missing in schema`);if(k.kind==="struct"){const S={};for(const[g,I]of P.get(z).fields)S[g]=J(P,g,I,H);return new z(S)}if(k.kind==="enum"){const S=H.readU8();if(S>=k.values.length)throw new x(`Enum index: ${S} is out of range`);const[g,I]=k.values[S],W=J(P,g,I,H);return new z({[g]:W})}throw new x(`Unexpected schema kind: ${k.kind} for ${z.constructor.name}`)}function q(P,z,H,k=E){const S=new k(H),g=re(P,z,S);if(S.offset<H.length)throw new x(`Unexpected ${H.length-S.offset} bytes after deserialized data`);return g}mn.deserialize=q;function U(P,z,H,k=E){const S=new k(H);return re(P,z,S)}return mn.deserializeUnchecked=U,mn}var cx=gie(),Ae={},AN;function yie(){if(AN)return Ae;AN=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.s16=Ae.s8=Ae.nu64be=Ae.u48be=Ae.u40be=Ae.u32be=Ae.u24be=Ae.u16be=Ae.nu64=Ae.u48=Ae.u40=Ae.u32=Ae.u24=Ae.u16=Ae.u8=Ae.offset=Ae.greedy=Ae.Constant=Ae.UTF8=Ae.CString=Ae.Blob=Ae.Boolean=Ae.BitField=Ae.BitStructure=Ae.VariantLayout=Ae.Union=Ae.UnionLayoutDiscriminator=Ae.UnionDiscriminator=Ae.Structure=Ae.Sequence=Ae.DoubleBE=Ae.Double=Ae.FloatBE=Ae.Float=Ae.NearInt64BE=Ae.NearInt64=Ae.NearUInt64BE=Ae.NearUInt64=Ae.IntBE=Ae.Int=Ae.UIntBE=Ae.UInt=Ae.OffsetLayout=Ae.GreedyCount=Ae.ExternalLayout=Ae.bindConstructorLayout=Ae.nameWithProperty=Ae.Layout=Ae.uint8ArrayToBuffer=Ae.checkUint8Array=void 0,Ae.constant=Ae.utf8=Ae.cstr=Ae.blob=Ae.unionLayoutDiscriminator=Ae.union=Ae.seq=Ae.bits=Ae.struct=Ae.f64be=Ae.f64=Ae.f32be=Ae.f32=Ae.ns64be=Ae.s48be=Ae.s40be=Ae.s32be=Ae.s24be=Ae.s16be=Ae.ns64=Ae.s48=Ae.s40=Ae.s32=Ae.s24=void 0;const t=ST();function e(b){if(!(b instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ae.checkUint8Array=e;function n(b){return e(b),t.Buffer.from(b.buffer,b.byteOffset,b.length)}Ae.uint8ArrayToBuffer=n;let r=class{constructor(R,Q){if(!Number.isInteger(R))throw new TypeError("span must be an integer");this.span=R,this.property=Q}makeDestinationObject(){return{}}getSpan(R,Q){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(R){const Q=Object.create(this.constructor.prototype);return Object.assign(Q,this),Q.property=R,Q}fromArray(R){}};Ae.Layout=r;function i(b,R){return R.property?b+"["+R.property+"]":b}Ae.nameWithProperty=i;function s(b,R){if(typeof b!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(b,"layout_"))throw new Error("Class is already bound to a layout");if(!(R&&R instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(R,"boundConstructor_"))throw new Error("layout is already bound to a constructor");b.layout_=R,R.boundConstructor_=b,R.makeDestinationObject=(()=>new b),Object.defineProperty(b.prototype,"encode",{value(Q,ie){return R.encode(this,Q,ie)},writable:!0}),Object.defineProperty(b,"decode",{value(Q,ie){return R.decode(Q,ie)},writable:!0})}Ae.bindConstructorLayout=s;class o extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Ae.ExternalLayout=o;class l extends o{constructor(R=1,Q){if(!Number.isInteger(R)||0>=R)throw new TypeError("elementSpan must be a (positive) integer");super(-1,Q),this.elementSpan=R}isCount(){return!0}decode(R,Q=0){e(R);const ie=R.length-Q;return Math.floor(ie/this.elementSpan)}encode(R,Q,ie){return 0}}Ae.GreedyCount=l;class u extends o{constructor(R,Q=0,ie){if(!(R instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(Q))throw new TypeError("offset must be integer or undefined");super(R.span,ie||R.property),this.layout=R,this.offset=Q}isCount(){return this.layout instanceof d||this.layout instanceof f}decode(R,Q=0){return this.layout.decode(R,Q+this.offset)}encode(R,Q,ie=0){return this.layout.encode(R,Q,ie+this.offset)}}Ae.OffsetLayout=u;class d extends r{constructor(R,Q){if(super(R,Q),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,Q=0){return n(R).readUIntLE(Q,this.span)}encode(R,Q,ie=0){return n(Q).writeUIntLE(R,ie,this.span),this.span}}Ae.UInt=d;class f extends r{constructor(R,Q){if(super(R,Q),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,Q=0){return n(R).readUIntBE(Q,this.span)}encode(R,Q,ie=0){return n(Q).writeUIntBE(R,ie,this.span),this.span}}Ae.UIntBE=f;class p extends r{constructor(R,Q){if(super(R,Q),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,Q=0){return n(R).readIntLE(Q,this.span)}encode(R,Q,ie=0){return n(Q).writeIntLE(R,ie,this.span),this.span}}Ae.Int=p;class v extends r{constructor(R,Q){if(super(R,Q),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,Q=0){return n(R).readIntBE(Q,this.span)}encode(R,Q,ie=0){return n(Q).writeIntBE(R,ie,this.span),this.span}}Ae.IntBE=v;const x=Math.pow(2,32);function T(b){const R=Math.floor(b/x),Q=b-R*x;return{hi32:R,lo32:Q}}function _(b,R){return b*x+R}class E extends r{constructor(R){super(8,R)}decode(R,Q=0){const ie=n(R),ue=ie.readUInt32LE(Q),ce=ie.readUInt32LE(Q+4);return _(ce,ue)}encode(R,Q,ie=0){const ue=T(R),ce=n(Q);return ce.writeUInt32LE(ue.lo32,ie),ce.writeUInt32LE(ue.hi32,ie+4),8}}Ae.NearUInt64=E;class N extends r{constructor(R){super(8,R)}decode(R,Q=0){const ie=n(R),ue=ie.readUInt32BE(Q),ce=ie.readUInt32BE(Q+4);return _(ue,ce)}encode(R,Q,ie=0){const ue=T(R),ce=n(Q);return ce.writeUInt32BE(ue.hi32,ie),ce.writeUInt32BE(ue.lo32,ie+4),8}}Ae.NearUInt64BE=N;class L extends r{constructor(R){super(8,R)}decode(R,Q=0){const ie=n(R),ue=ie.readUInt32LE(Q),ce=ie.readInt32LE(Q+4);return _(ce,ue)}encode(R,Q,ie=0){const ue=T(R),ce=n(Q);return ce.writeUInt32LE(ue.lo32,ie),ce.writeInt32LE(ue.hi32,ie+4),8}}Ae.NearInt64=L;class M extends r{constructor(R){super(8,R)}decode(R,Q=0){const ie=n(R),ue=ie.readInt32BE(Q),ce=ie.readUInt32BE(Q+4);return _(ue,ce)}encode(R,Q,ie=0){const ue=T(R),ce=n(Q);return ce.writeInt32BE(ue.hi32,ie),ce.writeUInt32BE(ue.lo32,ie+4),8}}Ae.NearInt64BE=M;class Z extends r{constructor(R){super(4,R)}decode(R,Q=0){return n(R).readFloatLE(Q)}encode(R,Q,ie=0){return n(Q).writeFloatLE(R,ie),4}}Ae.Float=Z;class J extends r{constructor(R){super(4,R)}decode(R,Q=0){return n(R).readFloatBE(Q)}encode(R,Q,ie=0){return n(Q).writeFloatBE(R,ie),4}}Ae.FloatBE=J;class re extends r{constructor(R){super(8,R)}decode(R,Q=0){return n(R).readDoubleLE(Q)}encode(R,Q,ie=0){return n(Q).writeDoubleLE(R,ie),8}}Ae.Double=re;class q extends r{constructor(R){super(8,R)}decode(R,Q=0){return n(R).readDoubleBE(Q)}encode(R,Q,ie=0){return n(Q).writeDoubleBE(R,ie),8}}Ae.DoubleBE=q;class U extends r{constructor(R,Q,ie){if(!(R instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(Q instanceof o&&Q.isCount()||Number.isInteger(Q)&&0<=Q))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ue=-1;!(Q instanceof o)&&0<R.span&&(ue=Q*R.span),super(ue,ie),this.elementLayout=R,this.count=Q}getSpan(R,Q=0){if(0<=this.span)return this.span;let ie=0,ue=this.count;if(ue instanceof o&&(ue=ue.decode(R,Q)),0<this.elementLayout.span)ie=ue*this.elementLayout.span;else{let ce=0;for(;ce<ue;)ie+=this.elementLayout.getSpan(R,Q+ie),++ce}return ie}decode(R,Q=0){const ie=[];let ue=0,ce=this.count;for(ce instanceof o&&(ce=ce.decode(R,Q));ue<ce;)ie.push(this.elementLayout.decode(R,Q)),Q+=this.elementLayout.getSpan(R,Q),ue+=1;return ie}encode(R,Q,ie=0){const ue=this.elementLayout,ce=R.reduce((_e,Me)=>_e+ue.encode(Me,Q,ie+_e),0);return this.count instanceof o&&this.count.encode(R.length,Q,ie),ce}}Ae.Sequence=U;class P extends r{constructor(R,Q,ie){if(!(Array.isArray(R)&&R.reduce((ce,_e)=>ce&&_e instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof Q=="boolean"&&ie===void 0&&(ie=Q,Q=void 0);for(const ce of R)if(0>ce.span&&ce.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ue=-1;try{ue=R.reduce((ce,_e)=>ce+_e.getSpan(),0)}catch{}super(ue,Q),this.fields=R,this.decodePrefixes=!!ie}getSpan(R,Q=0){if(0<=this.span)return this.span;let ie=0;try{ie=this.fields.reduce((ue,ce)=>{const _e=ce.getSpan(R,Q);return Q+=_e,ue+_e},0)}catch{throw new RangeError("indeterminate span")}return ie}decode(R,Q=0){e(R);const ie=this.makeDestinationObject();for(const ue of this.fields)if(ue.property!==void 0&&(ie[ue.property]=ue.decode(R,Q)),Q+=ue.getSpan(R,Q),this.decodePrefixes&&R.length===Q)break;return ie}encode(R,Q,ie=0){const ue=ie;let ce=0,_e=0;for(const Me of this.fields){let Ve=Me.span;if(_e=0<Ve?Ve:0,Me.property!==void 0){const We=R[Me.property];We!==void 0&&(_e=Me.encode(We,Q,ie),0>Ve&&(Ve=Me.getSpan(Q,ie)))}ce=ie,ie+=Ve}return ce+_e-ue}fromArray(R){const Q=this.makeDestinationObject();for(const ie of this.fields)ie.property!==void 0&&0<R.length&&(Q[ie.property]=R.shift());return Q}layoutFor(R){if(typeof R!="string")throw new TypeError("property must be string");for(const Q of this.fields)if(Q.property===R)return Q}offsetOf(R){if(typeof R!="string")throw new TypeError("property must be string");let Q=0;for(const ie of this.fields){if(ie.property===R)return Q;0>ie.span?Q=-1:0<=Q&&(Q+=ie.span)}}}Ae.Structure=P;class z{constructor(R){this.property=R}decode(R,Q){throw new Error("UnionDiscriminator is abstract")}encode(R,Q,ie){throw new Error("UnionDiscriminator is abstract")}}Ae.UnionDiscriminator=z;class H extends z{constructor(R,Q){if(!(R instanceof o&&R.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(Q||R.property||"variant"),this.layout=R}decode(R,Q){return this.layout.decode(R,Q)}encode(R,Q,ie){return this.layout.encode(R,Q,ie)}}Ae.UnionLayoutDiscriminator=H;class k extends r{constructor(R,Q,ie){let ue;if(R instanceof d||R instanceof f)ue=new H(new u(R));else if(R instanceof o&&R.isCount())ue=new H(R);else if(R instanceof z)ue=R;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(Q===void 0&&(Q=null),!(Q===null||Q instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(Q!==null){if(0>Q.span)throw new Error("defaultLayout must have constant span");Q.property===void 0&&(Q=Q.replicate("content"))}let ce=-1;Q&&(ce=Q.span,0<=ce&&(R instanceof d||R instanceof f)&&(ce+=ue.layout.span)),super(ce,ie),this.discriminator=ue,this.usesPrefixDiscriminator=R instanceof d||R instanceof f,this.defaultLayout=Q,this.registry={};let _e=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Me){return _e(Me)},this.configGetSourceVariant=function(Me){_e=Me.bind(this)}}getSpan(R,Q=0){if(0<=this.span)return this.span;const ie=this.getVariant(R,Q);if(!ie)throw new Error("unable to determine span for unrecognized variant");return ie.getSpan(R,Q)}defaultGetSourceVariant(R){if(Object.prototype.hasOwnProperty.call(R,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(R,this.defaultLayout.property))return;const Q=this.registry[R[this.discriminator.property]];if(Q&&(!Q.layout||Q.property&&Object.prototype.hasOwnProperty.call(R,Q.property)))return Q}else for(const Q in this.registry){const ie=this.registry[Q];if(ie.property&&Object.prototype.hasOwnProperty.call(R,ie.property))return ie}throw new Error("unable to infer src variant")}decode(R,Q=0){let ie;const ue=this.discriminator,ce=ue.decode(R,Q),_e=this.registry[ce];if(_e===void 0){const Me=this.defaultLayout;let Ve=0;this.usesPrefixDiscriminator&&(Ve=ue.layout.span),ie=this.makeDestinationObject(),ie[ue.property]=ce,ie[Me.property]=Me.decode(R,Q+Ve)}else ie=_e.decode(R,Q);return ie}encode(R,Q,ie=0){const ue=this.getSourceVariant(R);if(ue===void 0){const ce=this.discriminator,_e=this.defaultLayout;let Me=0;return this.usesPrefixDiscriminator&&(Me=ce.layout.span),ce.encode(R[ce.property],Q,ie),Me+_e.encode(R[_e.property],Q,ie+Me)}return ue.encode(R,Q,ie)}addVariant(R,Q,ie){const ue=new S(this,R,Q,ie);return this.registry[R]=ue,ue}getVariant(R,Q=0){let ie;return R instanceof Uint8Array?ie=this.discriminator.decode(R,Q):ie=R,this.registry[ie]}}Ae.Union=k;class S extends r{constructor(R,Q,ie,ue){if(!(R instanceof k))throw new TypeError("union must be a Union");if(!Number.isInteger(Q)||0>Q)throw new TypeError("variant must be a (non-negative) integer");if(typeof ie=="string"&&ue===void 0&&(ue=ie,ie=null),ie){if(!(ie instanceof r))throw new TypeError("layout must be a Layout");if(R.defaultLayout!==null&&0<=ie.span&&ie.span>R.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ue!="string")throw new TypeError("variant must have a String property")}let ce=R.span;0>R.span&&(ce=ie?ie.span:0,0<=ce&&R.usesPrefixDiscriminator&&(ce+=R.discriminator.layout.span)),super(ce,ue),this.union=R,this.variant=Q,this.layout=ie||null}getSpan(R,Q=0){if(0<=this.span)return this.span;let ie=0;this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span);let ue=0;return this.layout&&(ue=this.layout.getSpan(R,Q+ie)),ie+ue}decode(R,Q=0){const ie=this.makeDestinationObject();if(this!==this.union.getVariant(R,Q))throw new Error("variant mismatch");let ue=0;return this.union.usesPrefixDiscriminator&&(ue=this.union.discriminator.layout.span),this.layout?ie[this.property]=this.layout.decode(R,Q+ue):this.property?ie[this.property]=!0:this.union.usesPrefixDiscriminator&&(ie[this.union.discriminator.property]=this.variant),ie}encode(R,Q,ie=0){let ue=0;if(this.union.usesPrefixDiscriminator&&(ue=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(R,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,Q,ie);let ce=ue;if(this.layout&&(this.layout.encode(R[this.property],Q,ie+ue),ce+=this.layout.getSpan(Q,ie+ue),0<=this.union.span&&ce>this.union.span))throw new Error("encoded variant overruns containing union");return ce}fromArray(R){if(this.layout)return this.layout.fromArray(R)}}Ae.VariantLayout=S;function g(b){return 0>b&&(b+=4294967296),b}class I extends r{constructor(R,Q,ie){if(!(R instanceof d||R instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof Q=="string"&&ie===void 0&&(ie=Q,Q=!1),4<R.span)throw new RangeError("word cannot exceed 32 bits");super(R.span,ie),this.word=R,this.msb=!!Q,this.fields=[];let ue=0;this._packedSetValue=function(ce){return ue=g(ce),this},this._packedGetValue=function(){return ue}}decode(R,Q=0){const ie=this.makeDestinationObject(),ue=this.word.decode(R,Q);this._packedSetValue(ue);for(const ce of this.fields)ce.property!==void 0&&(ie[ce.property]=ce.decode(R));return ie}encode(R,Q,ie=0){const ue=this.word.decode(Q,ie);this._packedSetValue(ue);for(const ce of this.fields)if(ce.property!==void 0){const _e=R[ce.property];_e!==void 0&&ce.encode(_e)}return this.word.encode(this._packedGetValue(),Q,ie)}addField(R,Q){const ie=new W(this,R,Q);return this.fields.push(ie),ie}addBoolean(R){const Q=new Y(this,R);return this.fields.push(Q),Q}fieldFor(R){if(typeof R!="string")throw new TypeError("property must be string");for(const Q of this.fields)if(Q.property===R)return Q}}Ae.BitStructure=I;class W{constructor(R,Q,ie){if(!(R instanceof I))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(Q)||0>=Q)throw new TypeError("bits must be positive integer");const ue=8*R.span,ce=R.fields.reduce((_e,Me)=>_e+Me.bits,0);if(Q+ce>ue)throw new Error("bits too long for span remainder ("+(ue-ce)+" of "+ue+" remain)");this.container=R,this.bits=Q,this.valueMask=(1<<Q)-1,Q===32&&(this.valueMask=4294967295),this.start=ce,this.container.msb&&(this.start=ue-ce-Q),this.wordMask=g(this.valueMask<<this.start),this.property=ie}decode(R,Q){const ie=this.container._packedGetValue();return g(ie&this.wordMask)>>>this.start}encode(R){if(typeof R!="number"||!Number.isInteger(R)||R!==g(R&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const Q=this.container._packedGetValue(),ie=g(R<<this.start);this.container._packedSetValue(g(Q&~this.wordMask)|ie)}}Ae.BitField=W;class Y extends W{constructor(R,Q){super(R,1,Q)}decode(R,Q){return!!super.decode(R,Q)}encode(R){typeof R=="boolean"&&(R=+R),super.encode(R)}}Ae.Boolean=Y;class K extends r{constructor(R,Q){if(!(R instanceof o&&R.isCount()||Number.isInteger(R)&&0<=R))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ie=-1;R instanceof o||(ie=R),super(ie,Q),this.length=R}getSpan(R,Q){let ie=this.span;return 0>ie&&(ie=this.length.decode(R,Q)),ie}decode(R,Q=0){let ie=this.span;return 0>ie&&(ie=this.length.decode(R,Q)),n(R).slice(Q,Q+ie)}encode(R,Q,ie){let ue=this.length;if(this.length instanceof o&&(ue=R.length),!(R instanceof Uint8Array&&ue===R.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+ue+") Uint8Array as src");if(ie+ue>Q.length)throw new RangeError("encoding overruns Uint8Array");const ce=n(R);return n(Q).write(ce.toString("hex"),ie,ue,"hex"),this.length instanceof o&&this.length.encode(ue,Q,ie),ue}}Ae.Blob=K;class X extends r{constructor(R){super(-1,R)}getSpan(R,Q=0){e(R);let ie=Q;for(;ie<R.length&&R[ie]!==0;)ie+=1;return 1+ie-Q}decode(R,Q=0){const ie=this.getSpan(R,Q);return n(R).slice(Q,Q+ie-1).toString("utf-8")}encode(R,Q,ie=0){typeof R!="string"&&(R=String(R));const ue=t.Buffer.from(R,"utf8"),ce=ue.length;if(ie+ce>Q.length)throw new RangeError("encoding overruns Buffer");const _e=n(Q);return ue.copy(_e,ie),_e[ie+ce]=0,ce+1}}Ae.CString=X;class se extends r{constructor(R,Q){if(typeof R=="string"&&Q===void 0&&(Q=R,R=void 0),R===void 0)R=-1;else if(!Number.isInteger(R))throw new TypeError("maxSpan must be an integer");super(-1,Q),this.maxSpan=R}getSpan(R,Q=0){return e(R),R.length-Q}decode(R,Q=0){const ie=this.getSpan(R,Q);if(0<=this.maxSpan&&this.maxSpan<ie)throw new RangeError("text length exceeds maxSpan");return n(R).slice(Q,Q+ie).toString("utf-8")}encode(R,Q,ie=0){typeof R!="string"&&(R=String(R));const ue=t.Buffer.from(R,"utf8"),ce=ue.length;if(0<=this.maxSpan&&this.maxSpan<ce)throw new RangeError("text length exceeds maxSpan");if(ie+ce>Q.length)throw new RangeError("encoding overruns Buffer");return ue.copy(n(Q),ie),ce}}Ae.UTF8=se;class $ extends r{constructor(R,Q){super(0,Q),this.value=R}decode(R,Q){return this.value}encode(R,Q,ie){return 0}}return Ae.Constant=$,Ae.greedy=((b,R)=>new l(b,R)),Ae.offset=((b,R,Q)=>new u(b,R,Q)),Ae.u8=(b=>new d(1,b)),Ae.u16=(b=>new d(2,b)),Ae.u24=(b=>new d(3,b)),Ae.u32=(b=>new d(4,b)),Ae.u40=(b=>new d(5,b)),Ae.u48=(b=>new d(6,b)),Ae.nu64=(b=>new E(b)),Ae.u16be=(b=>new f(2,b)),Ae.u24be=(b=>new f(3,b)),Ae.u32be=(b=>new f(4,b)),Ae.u40be=(b=>new f(5,b)),Ae.u48be=(b=>new f(6,b)),Ae.nu64be=(b=>new N(b)),Ae.s8=(b=>new p(1,b)),Ae.s16=(b=>new p(2,b)),Ae.s24=(b=>new p(3,b)),Ae.s32=(b=>new p(4,b)),Ae.s40=(b=>new p(5,b)),Ae.s48=(b=>new p(6,b)),Ae.ns64=(b=>new L(b)),Ae.s16be=(b=>new v(2,b)),Ae.s24be=(b=>new v(3,b)),Ae.s32be=(b=>new v(4,b)),Ae.s40be=(b=>new v(5,b)),Ae.s48be=(b=>new v(6,b)),Ae.ns64be=(b=>new M(b)),Ae.f32=(b=>new Z(b)),Ae.f32be=(b=>new J(b)),Ae.f64=(b=>new re(b)),Ae.f64be=(b=>new q(b)),Ae.struct=((b,R,Q)=>new P(b,R,Q)),Ae.bits=((b,R,Q)=>new I(b,R,Q)),Ae.seq=((b,R,Q)=>new U(b,R,Q)),Ae.union=((b,R,Q)=>new k(b,R,Q)),Ae.unionLayoutDiscriminator=((b,R)=>new H(b,R)),Ae.blob=((b,R)=>new K(b,R)),Ae.cstr=(b=>new X(b)),Ae.utf8=((b,R)=>new se(b,R)),Ae.constant=((b,R)=>new $(b,R)),Ae}var fe=yie(),wie=8078e3,vie=8078001,xie=8078004,bie=8078005,Eie=8078006,_ie=8078011;function a6(t){return Array.isArray(t)?"%5B"+t.map(a6).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Sie([t,e]){return`${t}=${a6(e)}`}function Tie(t){const e=Object.entries(t).map(Sie).join("&");return btoa(e)}function Aie(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Tie(e)}'`),`${n}\``}}var Cd=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){const{cause:s,...o}=e;s&&(r={cause:s}),Object.keys(o).length>0&&(n=o)}const i=Aie(t,n);super(i,r),this.context={__code:t,...n},this.name="SolanaError"}};function Iie(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Cie(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Iie(e,t));return t.write(e,n,0),n}})}function Rie(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Xu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Mie(t,e){if(Xu(t)!==Xu(e))throw new Cd(xie);if(Xu(t)&&Xu(e)&&t.fixedSize!==e.fixedSize)throw new Cd(bie,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Xu(t)&&!Xu(e)&&t.maxSize!==e.maxSize)throw new Cd(Eie,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Nie(t,e,n=0){if(e.length-n<=0)throw new Cd(wie,{codecDescription:t})}function kie(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Cd(vie,{bytesLength:i,codecDescription:t,expected:e})}function Pie(t,e,n,r){if(r<e||r>n)throw new Cd(_ie,{codecDescription:t,max:n,min:e,value:r})}function l6(t){return t?.endian!==1}function Lie(t){return Cie({fixedSize:t.size,write(e,n,r){t.range&&Pie(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,l6(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Die(t){return Rie({fixedSize:t.size,read(e,n=0){Nie(t.name,e,n),kie(t.name,t.size,e,n);const r=new DataView(Oie(e,n,t.size));return[t.get(r,l6(t.config)),n+t.size]}})}function Oie(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var jie=(t={})=>Lie({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),Bie=(t={})=>Die({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),Fie=(t={})=>Mie(jie(t),Bie(t));class Vie extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:l}=e,u=l.length===0?i:`At path: ${l.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function Uie(t){return Up(t)&&typeof t[Symbol.iterator]=="function"}function Up(t){return typeof t=="object"&&t!=null}function i0(t){return Up(t)&&!Array.isArray(t)}function js(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function zie(t){const{done:e,value:n}=t.next();return e?void 0:n}function Wie(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:l,message:u=`Expected a value of type \`${o}\`${l?` with refinement \`${l}\``:""}, but received: \`${js(r)}\``}=t;return{value:r,type:o,refinement:l,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*IN(t,e,n,r){Uie(t)||(t=[t]);for(const i of t){const s=Wie(i,e,n,r);s&&(yield s)}}function*AT(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,l={path:r,branch:i,mask:o};s&&(t=e.coercer(t,l));let u="valid";for(const d of e.validator(t,l))d.explanation=n.message,u="not_valid",yield[d,void 0];for(let[d,f,p]of e.entries(t,l)){const v=AT(f,p,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,f],coerce:s,mask:o,message:n.message});for(const x of v)x[0]?(u=x[0].refinement!=null?"not_refined":"not_valid",yield[x[0],void 0]):s&&(f=x[1],d===void 0?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):Up(t)&&(f!==void 0||d in t)&&(t[d]=f))}if(u!=="not_valid")for(const d of e.refiner(t,l))d.explanation=n.message,u="not_refined",yield[d,void 0];u==="valid"&&(yield[void 0,t])}let No=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:l=function*(){}}=e;this.type=n,this.schema=r,this.entries=l,this.coercer=o,i?this.validator=(u,d)=>{const f=i(u,d);return IN(f,d,this,u)}:this.validator=()=>[],s?this.refiner=(u,d)=>{const f=s(u,d);return IN(f,d,this,u)}:this.refiner=()=>[]}assert(e,n){return $ie(e,this,n)}create(e,n){return ze(e,this,n)}is(e){return c6(e,this)}mask(e,n){return qie(e,this,n)}validate(e,n={}){return zp(e,this,n)}};function $ie(t,e,n){const r=zp(t,e,{message:n});if(r[0])throw r[0]}function ze(t,e,n){const r=zp(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function qie(t,e,n){const r=zp(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function c6(t,e){return!zp(t,e)[0]}function zp(t,e,n={}){const r=AT(t,e,n),i=zie(r);return i[0]?[new Vie(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ou(t,e){return new No({type:t,schema:null,validator:e})}function Hie(){return ou("any",()=>!0)}function He(t){return new No({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${js(e)}`}})}function Ro(){return ou("boolean",t=>typeof t=="boolean")}function IT(t){return ou("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${js(e)}`)}function zn(t){const e=js(t),n=typeof t;return new No({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${js(r)}`}})}function Kie(){return ou("never",()=>!1)}function Ke(t){return new No({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Ee(){return ou("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${js(t)}`)}function ct(t){return new No({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function u6(t,e){return new No({type:"record",schema:null,*entries(n){if(Up(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return i0(n)||`Expected an object, but received: ${js(n)}`},coercer(n){return i0(n)?{...n}:n}})}function Fe(){return ou("string",t=>typeof t=="string"||`Expected a string, but received: ${js(t)}`)}function CT(t){const e=Kie();return new No({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${js(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Oe(t){const e=Object.keys(t);return new No({type:"type",schema:t,*entries(n){if(Up(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return i0(n)||`Expected an object, but received: ${js(n)}`},coercer(n){return i0(n)?{...n}:n}})}function gi(t){const e=t.map(n=>n.type).join(" | ");return new No({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=AT(n,s,r),[l]=o;if(l[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${js(n)}`,...i]}})}function hf(){return ou("unknown",()=>!0)}function Wp(t,e,n){return new No({...t,coercer:(r,i)=>c6(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var xg,Gie=new Uint8Array(16);function d6(){if(!xg&&(xg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xg(Gie)}const Yie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lw(t){return typeof t=="string"&&Yie.test(t)}var Br=[];for(var ux=0;ux<256;++ux)Br.push((ux+256).toString(16).substr(1));function cw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Br[t[e+0]]+Br[t[e+1]]+Br[t[e+2]]+Br[t[e+3]]+"-"+Br[t[e+4]]+Br[t[e+5]]+"-"+Br[t[e+6]]+Br[t[e+7]]+"-"+Br[t[e+8]]+Br[t[e+9]]+"-"+Br[t[e+10]]+Br[t[e+11]]+Br[t[e+12]]+Br[t[e+13]]+Br[t[e+14]]+Br[t[e+15]]).toLowerCase();if(!lw(n))throw TypeError("Stringified UUID is invalid");return n}var CN,dx,fx=0,hx=0;function Qie(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||CN,o=t.clockseq!==void 0?t.clockseq:dx;if(s==null||o==null){var l=t.random||(t.rng||d6)();s==null&&(s=CN=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),o==null&&(o=dx=(l[6]<<8|l[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:hx+1,f=u-fx+(d-hx)/1e4;if(f<0&&t.clockseq===void 0&&(o=o+1&16383),(f<0||u>fx)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fx=u,hx=d,dx=o,u+=122192928e5;var p=((u&268435455)*1e4+d)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=p&255;var v=u/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var x=0;x<6;++x)i[r+x]=s[x];return e||cw(i)}function f6(t){if(!lw(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Xie(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Zie="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Jie="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function h6(t,e,n){function r(i,s,o,l){if(typeof i=="string"&&(i=Xie(i)),typeof s=="string"&&(s=f6(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){l=l||0;for(var d=0;d<16;++d)o[l+d]=u[d];return o}return cw(u)}try{r.name=t}catch{}return r.DNS=Zie,r.URL=Jie,r}function ese(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return tse(nse(rse(t),t.length*8))}function tse(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function p6(t){return(t+64>>>9<<4)+14+1}function nse(t,e){t[e>>5]|=128<<e%32,t[p6(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var l=n,u=r,d=i,f=s;n=ei(n,r,i,s,t[o],7,-680876936),s=ei(s,n,r,i,t[o+1],12,-389564586),i=ei(i,s,n,r,t[o+2],17,606105819),r=ei(r,i,s,n,t[o+3],22,-1044525330),n=ei(n,r,i,s,t[o+4],7,-176418897),s=ei(s,n,r,i,t[o+5],12,1200080426),i=ei(i,s,n,r,t[o+6],17,-1473231341),r=ei(r,i,s,n,t[o+7],22,-45705983),n=ei(n,r,i,s,t[o+8],7,1770035416),s=ei(s,n,r,i,t[o+9],12,-1958414417),i=ei(i,s,n,r,t[o+10],17,-42063),r=ei(r,i,s,n,t[o+11],22,-1990404162),n=ei(n,r,i,s,t[o+12],7,1804603682),s=ei(s,n,r,i,t[o+13],12,-40341101),i=ei(i,s,n,r,t[o+14],17,-1502002290),r=ei(r,i,s,n,t[o+15],22,1236535329),n=ti(n,r,i,s,t[o+1],5,-165796510),s=ti(s,n,r,i,t[o+6],9,-1069501632),i=ti(i,s,n,r,t[o+11],14,643717713),r=ti(r,i,s,n,t[o],20,-373897302),n=ti(n,r,i,s,t[o+5],5,-701558691),s=ti(s,n,r,i,t[o+10],9,38016083),i=ti(i,s,n,r,t[o+15],14,-660478335),r=ti(r,i,s,n,t[o+4],20,-405537848),n=ti(n,r,i,s,t[o+9],5,568446438),s=ti(s,n,r,i,t[o+14],9,-1019803690),i=ti(i,s,n,r,t[o+3],14,-187363961),r=ti(r,i,s,n,t[o+8],20,1163531501),n=ti(n,r,i,s,t[o+13],5,-1444681467),s=ti(s,n,r,i,t[o+2],9,-51403784),i=ti(i,s,n,r,t[o+7],14,1735328473),r=ti(r,i,s,n,t[o+12],20,-1926607734),n=ni(n,r,i,s,t[o+5],4,-378558),s=ni(s,n,r,i,t[o+8],11,-2022574463),i=ni(i,s,n,r,t[o+11],16,1839030562),r=ni(r,i,s,n,t[o+14],23,-35309556),n=ni(n,r,i,s,t[o+1],4,-1530992060),s=ni(s,n,r,i,t[o+4],11,1272893353),i=ni(i,s,n,r,t[o+7],16,-155497632),r=ni(r,i,s,n,t[o+10],23,-1094730640),n=ni(n,r,i,s,t[o+13],4,681279174),s=ni(s,n,r,i,t[o],11,-358537222),i=ni(i,s,n,r,t[o+3],16,-722521979),r=ni(r,i,s,n,t[o+6],23,76029189),n=ni(n,r,i,s,t[o+9],4,-640364487),s=ni(s,n,r,i,t[o+12],11,-421815835),i=ni(i,s,n,r,t[o+15],16,530742520),r=ni(r,i,s,n,t[o+2],23,-995338651),n=ri(n,r,i,s,t[o],6,-198630844),s=ri(s,n,r,i,t[o+7],10,1126891415),i=ri(i,s,n,r,t[o+14],15,-1416354905),r=ri(r,i,s,n,t[o+5],21,-57434055),n=ri(n,r,i,s,t[o+12],6,1700485571),s=ri(s,n,r,i,t[o+3],10,-1894986606),i=ri(i,s,n,r,t[o+10],15,-1051523),r=ri(r,i,s,n,t[o+1],21,-2054922799),n=ri(n,r,i,s,t[o+8],6,1873313359),s=ri(s,n,r,i,t[o+15],10,-30611744),i=ri(i,s,n,r,t[o+6],15,-1560198380),r=ri(r,i,s,n,t[o+13],21,1309151649),n=ri(n,r,i,s,t[o+4],6,-145523070),s=ri(s,n,r,i,t[o+11],10,-1120210379),i=ri(i,s,n,r,t[o+2],15,718787259),r=ri(r,i,s,n,t[o+9],21,-343485551),n=vl(n,l),r=vl(r,u),i=vl(i,d),s=vl(s,f)}return[n,r,i,s]}function rse(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(p6(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function vl(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function ise(t,e){return t<<e|t>>>32-e}function uw(t,e,n,r,i,s){return vl(ise(vl(vl(e,t),vl(r,s)),i),n)}function ei(t,e,n,r,i,s,o){return uw(e&n|~e&r,t,e,i,s,o)}function ti(t,e,n,r,i,s,o){return uw(e&r|n&~r,t,e,i,s,o)}function ni(t,e,n,r,i,s,o){return uw(e^n^r,t,e,i,s,o)}function ri(t,e,n,r,i,s,o){return uw(n^(e|~r),t,e,i,s,o)}var sse=h6("v3",48,ese);function ose(t,e,n){t=t||{};var r=t.random||(t.rng||d6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return cw(r)}function ase(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function px(t,e){return t<<e|t>>>32-e}function lse(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),l=new Array(o),u=0;u<o;++u){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=t[u*64+f*4]<<24|t[u*64+f*4+1]<<16|t[u*64+f*4+2]<<8|t[u*64+f*4+3];l[u]=d}l[o-1][14]=(t.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(t.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var v=new Uint32Array(80),x=0;x<16;++x)v[x]=l[p][x];for(var T=16;T<80;++T)v[T]=px(v[T-3]^v[T-8]^v[T-14]^v[T-16],1);for(var _=n[0],E=n[1],N=n[2],L=n[3],M=n[4],Z=0;Z<80;++Z){var J=Math.floor(Z/20),re=px(_,5)+ase(J,E,N,L)+M+e[J]+v[Z]>>>0;M=L,L=N,N=px(E,30)>>>0,E=_,_=re}n[0]=n[0]+_>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+N>>>0,n[3]=n[3]+L>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var cse=h6("v5",80,lse);const use="00000000-0000-0000-0000-000000000000";function dse(t){if(!lw(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const fse=Object.freeze(Object.defineProperty({__proto__:null,NIL:use,parse:f6,stringify:cw,v1:Qie,v3:sse,v4:ose,v5:cse,validate:lw,version:dse},Symbol.toStringTag,{value:"Module"})),m6=tP(fse);var mx,RN;function hse(){if(RN)return mx;RN=1;const t=m6.v4;return mx=function(n,r,i,s){if(typeof n!="string")throw new TypeError(n+" must be a string");s=s||{};const o=typeof s.version=="number"?s.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const l={method:n};if(o===2&&(l.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");l.params=r}if(typeof i>"u"){const u=typeof s.generator=="function"?s.generator:function(){return t()};l.id=u(l,s)}else o===2&&i===null?s.notificationIdNull&&(l.id=null):l.id=i;return l},mx}var gx,MN;function pse(){if(MN)return gx;MN=1;const t=m6.v4,e=hse(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return t()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return gx=n,n.prototype.request=function(r,i,s,o){const l=this;let u=null;const d=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&d)throw new TypeError("JSON-RPC 1.0 does not support batching");if(d||!d&&r&&typeof r=="object"&&typeof i=="function")o=i,u=r;else{typeof s=="function"&&(o=s,s=void 0);const v=typeof o=="function";try{u=e(r,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(x){if(v)return o(x);throw x}if(!v)return u}let p;try{p=JSON.stringify(u,this.options.replacer)}catch(v){return o(v)}return this.callServer(p,function(v,x){l._parseResponse(v,x,o)}),u},n.prototype._parseResponse=function(r,i,s){if(r){s(r);return}if(!i)return s();let o;try{o=JSON.parse(i,this.options.reviver)}catch(l){return s(l)}if(s.length===3)if(Array.isArray(o)){const l=function(d){return typeof d.error<"u"},u=function(d){return!l(d)};return s(null,o.filter(l),o.filter(u))}else return s(null,o.error,o.result);s(null,o)},gx}var mse=pse();const gse=Ol(mse);var yx={exports:{}},NN;function yse(){return NN||(NN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,p||u,v),T=n?n+d:d;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],x]:u._events[T].push(x):(u._events[T]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,T=new Array(x);v<x;v++)T[v]=p[v].fn;return T},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,v,x,T){var _=n?n+d:d;if(!this._events[_])return!1;var E=this._events[_],N=arguments.length,L,M;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),N){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,p),!0;case 4:return E.fn.call(E.context,f,p,v),!0;case 5:return E.fn.call(E.context,f,p,v,x),!0;case 6:return E.fn.call(E.context,f,p,v,x,T),!0}for(M=1,L=new Array(N-1);M<N;M++)L[M-1]=arguments[M];E.fn.apply(E.context,L)}else{var Z=E.length,J;for(M=0;M<Z;M++)switch(E[M].once&&this.removeListener(d,E[M].fn,void 0,!0),N){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,f);break;case 3:E[M].fn.call(E[M].context,f,p);break;case 4:E[M].fn.call(E[M].context,f,p,v);break;default:if(!L)for(J=1,L=new Array(N-1);J<N;J++)L[J-1]=arguments[J];E[M].fn.apply(E[M].context,L)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,v){var x=n?n+d:d;if(!this._events[x])return this;if(!f)return o(this,x),this;var T=this._events[x];if(T.fn)T.fn===f&&(!v||T.once)&&(!p||T.context===p)&&o(this,x);else{for(var _=0,E=[],N=T.length;_<N;_++)(T[_].fn!==f||v&&!T[_].once||p&&T[_].context!==p)&&E.push(T[_]);E.length?this._events[x]=E.length===1?E[0]:E:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(yx)),yx.exports}var wse=yse();const g6=Ol(wse);var vse=class extends g6{socket;constructor(t,e,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(t,e,n){const r=n||e;try{this.socket.send(t),r()}catch(i){r(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function xse(t,e){return new vse(t,e)}var bse=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Ese=class extends g6{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},l,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new bse,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,r){return!r&&typeof n=="object"&&(r=n,n=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),l={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(l),r,u=>{if(u)return s(u);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return r(s);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket&&this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Ft.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const r=[n.notification];if(n.params.constructor===Object)r.push(n.params);else for(let i=0;i<n.params.length;i++)r.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};class y6 extends Lj{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kj(e);const r=wT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),$d(s)}update(e){return Qy(this),this.iHash.update(e),this}digestInto(e){Qy(this),iu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const w6=(t,e,n)=>new y6(t,e).update(n).digest();w6.create=(t,e)=>new y6(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kN=(t,e)=>(t+(t>=0?e:-e)/v6)/e;function _se(t,e,n){const[[r,i],[s,o]]=e,l=kN(o*t,n),u=kN(-i*t,n);let d=t-l*r-u*s,f=-l*i-u*o;const p=d<ua,v=f<ua;p&&(d=-d),v&&(f=-f);const x=Bp(Math.ceil(Uj(n)/2))+Rd;if(d<ua||d>=x||f<ua||f>=x)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:p,k1:d,k2neg:v,k2:f}}function EE(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function wx(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Kc(n.lowS,"lowS"),Kc(n.prehash,"prehash"),n.format!==void 0&&EE(n.format),n}class Sse extends Error{constructor(e=""){super(e)}}const ea={Err:Sse,_tlv:{encode:(t,e)=>{const{Err:n}=ea;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=wg(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?wg(i.length/2|128):"";return wg(t)+s+i+e},decode(t,e){const{Err:n}=ea;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of d)o=o<<8|f;if(r+=u,o<128)throw new n("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+o);if(l.length!==o)throw new n("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ea;if(t<ua)throw new e("integer: negative integers are not allowed");let n=wg(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ea;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ow(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ea,i=Qn("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:u}=r.decode(2,s),{v:d,l:f}=r.decode(2,u);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=ea,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},ua=BigInt(0),Rd=BigInt(1),v6=BigInt(2),bg=BigInt(3),Tse=BigInt(4);function md(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Qn("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Ase(t,e={}){const n=r6("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:l}=s;Fp(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=b6(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p(k,S,g){const{x:I,y:W}=S.toAffine(),Y=r.toBytes(I);if(Kc(g,"isCompressed"),g){f();const K=!r.isOdd(W);return po(x6(K),Y)}else return po(Uint8Array.of(4),Y,r.toBytes(W))}function v(k){Ns(k,void 0,"Point");const{publicKey:S,publicKeyUncompressed:g}=d,I=k.length,W=k[0],Y=k.subarray(1);if(I===S&&(W===2||W===3)){const K=r.fromBytes(Y);if(!r.isValid(K))throw new Error("bad point: is not on curve, wrong x");const X=_(K);let se;try{se=r.sqrt(X)}catch(R){const Q=R instanceof Error?": "+R.message:"";throw new Error("bad point: is not on curve, sqrt error"+Q)}f();const $=r.isOdd(se);return(W&1)===1!==$&&(se=r.neg(se)),{x:K,y:se}}else if(I===g&&W===4){const K=r.BYTES,X=r.fromBytes(Y.subarray(0,K)),se=r.fromBytes(Y.subarray(K,K*2));if(!E(X,se))throw new Error("bad point: is not on curve");return{x:X,y:se}}else throw new Error(`bad point: got length ${I}, expected compressed=${S} or uncompressed=${g}`)}const x=e.toBytes||p,T=e.fromBytes||v;function _(k){const S=r.sqr(k),g=r.mul(S,k);return r.add(r.add(g,r.mul(k,s.a)),s.b)}function E(k,S){const g=r.sqr(S),I=_(k);return r.eql(g,I)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const N=r.mul(r.pow(s.a,bg),Tse),L=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(N,L)))throw new Error("bad curve params: a or b");function M(k,S,g=!1){if(!r.isValid(S)||g&&r.is0(S))throw new Error(`bad point coordinate ${k}`);return S}function Z(k){if(!(k instanceof P))throw new Error("ProjectivePoint expected")}function J(k){if(!u||!u.basises)throw new Error("no endo");return _se(k,u.basises,i.ORDER)}const re=Zy((k,S)=>{const{X:g,Y:I,Z:W}=k;if(r.eql(W,r.ONE))return{x:g,y:I};const Y=k.is0();S==null&&(S=Y?r.ONE:r.inv(W));const K=r.mul(g,S),X=r.mul(I,S),se=r.mul(W,S);if(Y)return{x:r.ZERO,y:r.ZERO};if(!r.eql(se,r.ONE))throw new Error("invZ was invalid");return{x:K,y:X}}),q=Zy(k=>{if(k.is0()){if(e.allowInfinityPoint&&!r.is0(k.Y))return;throw new Error("bad point: ZERO")}const{x:S,y:g}=k.toAffine();if(!r.isValid(S)||!r.isValid(g))throw new Error("bad point: x or y not field elements");if(!E(S,g))throw new Error("bad point: equation left != right");if(!k.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(k,S,g,I,W){return g=new P(r.mul(g.X,k),g.Y,g.Z),S=Jy(I,S),g=Jy(W,g),S.add(g)}class P{constructor(S,g,I){this.X=M("x",S),this.Y=M("y",g,!0),this.Z=M("z",I),Object.freeze(this)}static CURVE(){return s}static fromAffine(S){const{x:g,y:I}=S||{};if(!S||!r.isValid(g)||!r.isValid(I))throw new Error("invalid affine point");if(S instanceof P)throw new Error("projective point not allowed");return r.is0(g)&&r.is0(I)?P.ZERO:new P(g,I,r.ONE)}static fromBytes(S){const g=P.fromAffine(T(Ns(S,void 0,"point")));return g.assertValidity(),g}static fromHex(S){return P.fromBytes(Qn("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,g=!0){return H.createCache(this,S),g||this.multiply(bg),this}assertValidity(){q(this)}hasEvenY(){const{y:S}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(S)}equals(S){Z(S);const{X:g,Y:I,Z:W}=this,{X:Y,Y:K,Z:X}=S,se=r.eql(r.mul(g,X),r.mul(Y,W)),$=r.eql(r.mul(I,X),r.mul(K,W));return se&&$}negate(){return new P(this.X,r.neg(this.Y),this.Z)}double(){const{a:S,b:g}=s,I=r.mul(g,bg),{X:W,Y,Z:K}=this;let X=r.ZERO,se=r.ZERO,$=r.ZERO,b=r.mul(W,W),R=r.mul(Y,Y),Q=r.mul(K,K),ie=r.mul(W,Y);return ie=r.add(ie,ie),$=r.mul(W,K),$=r.add($,$),X=r.mul(S,$),se=r.mul(I,Q),se=r.add(X,se),X=r.sub(R,se),se=r.add(R,se),se=r.mul(X,se),X=r.mul(ie,X),$=r.mul(I,$),Q=r.mul(S,Q),ie=r.sub(b,Q),ie=r.mul(S,ie),ie=r.add(ie,$),$=r.add(b,b),b=r.add($,b),b=r.add(b,Q),b=r.mul(b,ie),se=r.add(se,b),Q=r.mul(Y,K),Q=r.add(Q,Q),b=r.mul(Q,ie),X=r.sub(X,b),$=r.mul(Q,R),$=r.add($,$),$=r.add($,$),new P(X,se,$)}add(S){Z(S);const{X:g,Y:I,Z:W}=this,{X:Y,Y:K,Z:X}=S;let se=r.ZERO,$=r.ZERO,b=r.ZERO;const R=s.a,Q=r.mul(s.b,bg);let ie=r.mul(g,Y),ue=r.mul(I,K),ce=r.mul(W,X),_e=r.add(g,I),Me=r.add(Y,K);_e=r.mul(_e,Me),Me=r.add(ie,ue),_e=r.sub(_e,Me),Me=r.add(g,W);let Ve=r.add(Y,X);return Me=r.mul(Me,Ve),Ve=r.add(ie,ce),Me=r.sub(Me,Ve),Ve=r.add(I,W),se=r.add(K,X),Ve=r.mul(Ve,se),se=r.add(ue,ce),Ve=r.sub(Ve,se),b=r.mul(R,Me),se=r.mul(Q,ce),b=r.add(se,b),se=r.sub(ue,b),b=r.add(ue,b),$=r.mul(se,b),ue=r.add(ie,ie),ue=r.add(ue,ie),ce=r.mul(R,ce),Me=r.mul(Q,Me),ue=r.add(ue,ce),ce=r.sub(ie,ce),ce=r.mul(R,ce),Me=r.add(Me,ce),ie=r.mul(ue,Me),$=r.add($,ie),ie=r.mul(Ve,Me),se=r.mul(_e,se),se=r.sub(se,ie),ie=r.mul(_e,ue),b=r.mul(Ve,b),b=r.add(b,ie),new P(se,$,b)}subtract(S){return this.add(S.negate())}is0(){return this.equals(P.ZERO)}multiply(S){const{endo:g}=e;if(!i.isValidNot0(S))throw new Error("invalid scalar: out of range");let I,W;const Y=K=>H.cached(this,K,X=>_c(P,X));if(g){const{k1neg:K,k1:X,k2neg:se,k2:$}=J(S),{p:b,f:R}=Y(X),{p:Q,f:ie}=Y($);W=R.add(ie),I=U(g.beta,b,Q,K,se)}else{const{p:K,f:X}=Y(S);I=K,W=X}return _c(P,[I,W])[0]}multiplyUnsafe(S){const{endo:g}=e,I=this;if(!i.isValid(S))throw new Error("invalid scalar: out of range");if(S===ua||I.is0())return P.ZERO;if(S===Rd)return I;if(H.hasCache(this))return this.multiply(S);if(g){const{k1neg:W,k1:Y,k2neg:K,k2:X}=J(S),{p1:se,p2:$}=Ure(P,I,Y,X);return U(g.beta,se,$,W,K)}else return H.unsafe(I,S)}multiplyAndAddUnsafe(S,g,I){const W=this.multiplyUnsafe(g).add(S.multiplyUnsafe(I));return W.is0()?void 0:W}toAffine(S){return re(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return o===Rd?!0:S?S(P,this):H.unsafe(this,l).is0()}clearCofactor(){const{clearCofactor:S}=e;return o===Rd?this:S?S(P,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(S=!0){return Kc(S,"isCompressed"),this.assertValidity(),x(P,this,S)}toHex(S=!0){return Lc(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return _c(P,S)}static msm(S,g){return n6(P,i,S,g)}static fromPrivateKey(S){return P.BASE.multiply(md(i,S))}}P.BASE=new P(s.Gx,s.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=i;const z=i.BITS,H=new t6(P,e.endo?Math.ceil(z/2):z);return P.BASE.precompute(8),P}function x6(t){return Uint8Array.of(t?2:3)}function b6(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Ise(t,e={}){const{Fn:n}=t,r=e.randomBytes||vT,i=Object.assign(b6(t.Fp,n),{seed:Zj(n.ORDER)});function s(x){try{return!!md(n,x)}catch{return!1}}function o(x,T){const{publicKey:_,publicKeyUncompressed:E}=i;try{const N=x.length;return T===!0&&N!==_||T===!1&&N!==E?!1:!!t.fromBytes(x)}catch{return!1}}function l(x=r(i.seed)){return Bre(Ns(x,i.seed,"seed"),n.ORDER)}function u(x,T=!0){return t.BASE.multiply(md(n,x)).toBytes(T)}function d(x){const T=l(x);return{secretKey:T,publicKey:u(T)}}function f(x){if(typeof x=="bigint")return!1;if(x instanceof t)return!0;const{secretKey:T,publicKey:_,publicKeyUncompressed:E}=i;if(n.allowedLengths||T===_)return;const N=Qn("key",x).length;return N===_||N===E}function p(x,T,_=!0){if(f(x)===!0)throw new Error("first arg must be private key");if(f(T)===!1)throw new Error("second arg must be public key");const E=md(n,x);return t.fromHex(T).multiply(E).toBytes(_)}return Object.freeze({getPublicKey:u,getSharedSecret:p,keygen:d,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:l,isValidPrivateKey:s,randomPrivateKey:l,normPrivateKeyToScalar:x=>md(n,x),precompute(x=8,T=t.BASE){return T.precompute(x,!1)}},lengths:i})}function Cse(t,e,n={}){kj(e),Fp(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||vT,i=n.hmac||((g,...I)=>w6(e,g,po(...I))),{Fp:s,Fn:o}=t,{ORDER:l,BITS:u}=o,{keygen:d,getPublicKey:f,getSharedSecret:p,utils:v,lengths:x}=Ise(t,n),T={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},_="compact";function E(g){const I=l>>Rd;return g>I}function N(g,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${g}: out of range 1..Point.Fn.ORDER`);return I}function L(g,I){EE(I);const W=x.signature,Y=I==="compact"?W:I==="recovered"?W+1:void 0;return Ns(g,Y,`${I} signature`)}class M{constructor(I,W,Y){this.r=N("r",I),this.s=N("s",W),Y!=null&&(this.recovery=Y),Object.freeze(this)}static fromBytes(I,W=_){L(I,W);let Y;if(W==="der"){const{r:$,s:b}=ea.toSig(Ns(I));return new M($,b)}W==="recovered"&&(Y=I[0],W="compact",I=I.subarray(1));const K=o.BYTES,X=I.subarray(0,K),se=I.subarray(K,K*2);return new M(o.fromBytes(X),o.fromBytes(se),Y)}static fromHex(I,W){return this.fromBytes(Xy(I),W)}addRecoveryBit(I){return new M(this.r,this.s,I)}recoverPublicKey(I){const W=s.ORDER,{r:Y,s:K,recovery:X}=this;if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");if(l*v6<W&&X>1)throw new Error("recovery id is ambiguous for h>1 curve");const $=X===2||X===3?Y+l:Y;if(!s.isValid($))throw new Error("recovery id 2 or 3 invalid");const b=s.toBytes($),R=t.fromBytes(po(x6((X&1)===0),b)),Q=o.inv($),ie=J(Qn("msgHash",I)),ue=o.create(-ie*Q),ce=o.create(K*Q),_e=t.BASE.multiplyUnsafe(ue).add(R.multiplyUnsafe(ce));if(_e.is0())throw new Error("point at infinify");return _e.assertValidity(),_e}hasHighS(){return E(this.s)}toBytes(I=_){if(EE(I),I==="der")return Xy(ea.hexFromSig(this));const W=o.toBytes(this.r),Y=o.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return po(Uint8Array.of(this.recovery),W,Y)}return po(W,Y)}toHex(I){return Lc(this.toBytes(I))}assertValidity(){}static fromCompact(I){return M.fromBytes(Qn("sig",I),"compact")}static fromDER(I){return M.fromBytes(Qn("sig",I),"der")}normalizeS(){return this.hasHighS()?new M(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Lc(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Lc(this.toBytes("compact"))}}const Z=n.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const W=ow(I),Y=I.length*8-u;return Y>0?W>>BigInt(Y):W},J=n.bits2int_modN||function(I){return o.create(Z(I))},re=Bp(u);function q(g){return bE("num < 2^"+u,g,ua,re),o.toBytes(g)}function U(g,I){return Ns(g,void 0,"message"),I?Ns(e(g),void 0,"prehashed message"):g}function P(g,I,W){if(["recovered","canonical"].some(ue=>ue in W))throw new Error("sign() legacy options not supported");const{lowS:Y,prehash:K,extraEntropy:X}=wx(W,T);g=U(g,K);const se=J(g),$=md(o,I),b=[q($),q(se)];if(X!=null&&X!==!1){const ue=X===!0?r(x.secretKey):X;b.push(Qn("extraEntropy",ue))}const R=po(...b),Q=se;function ie(ue){const ce=Z(ue);if(!o.isValidNot0(ce))return;const _e=o.inv(ce),Me=t.BASE.multiply(ce).toAffine(),Ve=o.create(Me.x);if(Ve===ua)return;const We=o.create(_e*o.create(Q+Ve*$));if(We===ua)return;let tt=(Me.x===Ve?0:2)|Number(Me.y&Rd),Yt=We;return Y&&E(We)&&(Yt=o.neg(We),tt^=1),new M(Ve,Yt,tt)}return{seed:R,k2sig:ie}}function z(g,I,W={}){g=Qn("message",g);const{seed:Y,k2sig:K}=P(g,I,W);return Cre(e.outputLen,o.BYTES,i)(Y,K)}function H(g){let I;const W=typeof g=="string"||jp(g),Y=!W&&g!==null&&typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!W&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(Y)I=new M(g.r,g.s);else if(W){try{I=M.fromBytes(Qn("sig",g),"der")}catch(K){if(!(K instanceof ea.Err))throw K}if(!I)try{I=M.fromBytes(Qn("sig",g),"compact")}catch{return!1}}return I||!1}function k(g,I,W,Y={}){const{lowS:K,prehash:X,format:se}=wx(Y,T);if(W=Qn("publicKey",W),I=U(Qn("message",I),X),"strict"in Y)throw new Error("options.strict was renamed to lowS");const $=se===void 0?H(g):M.fromBytes(Qn("sig",g),se);if($===!1)return!1;try{const b=t.fromBytes(W);if(K&&$.hasHighS())return!1;const{r:R,s:Q}=$,ie=J(I),ue=o.inv(Q),ce=o.create(ie*ue),_e=o.create(R*ue),Me=t.BASE.multiplyUnsafe(ce).add(b.multiplyUnsafe(_e));return Me.is0()?!1:o.create(Me.x)===R}catch{return!1}}function S(g,I,W={}){const{prehash:Y}=wx(W,T);return I=U(I,Y),M.fromBytes(g,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:d,getPublicKey:f,getSharedSecret:p,utils:v,lengths:x,Point:t,sign:z,verify:k,recoverPublicKey:S,Signature:M,hash:e})}function Rse(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=su(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Mse(t){const{CURVE:e,curveOpts:n}=Rse(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function Nse(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Qj(n.Fn.ORDER,n.Fn.BITS))})}function kse(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=Mse(t),s=Ase(e,n),o=Cse(s,r,i);return Nse(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pse(t,e){const n=r=>kse({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RT={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Lse={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},PN=BigInt(2);function Dse(t){const e=RT.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),l=BigInt(44),u=BigInt(88),d=t*t*t%e,f=d*d*t%e,p=Gn(f,n,e)*f%e,v=Gn(p,n,e)*f%e,x=Gn(v,PN,e)*d%e,T=Gn(x,i,e)*x%e,_=Gn(T,s,e)*T%e,E=Gn(_,l,e)*_%e,N=Gn(E,u,e)*E%e,L=Gn(N,l,e)*_%e,M=Gn(L,n,e)*f%e,Z=Gn(M,o,e)*T%e,J=Gn(Z,r,e)*d%e,re=Gn(J,PN,e);if(!_E.eql(_E.sqr(re),t))throw new Error("Cannot find square root");return re}const _E=su(RT.p,{sqrt:Dse}),Ose=Pse({...RT,Fp:_E,lowS:!0,endo:Lse},Bj);Vp.utils.randomPrivateKey;Vp.getPublicKey;function LN(t){try{return Vp.ExtendedPoint.fromHex(t),!0}catch{return!1}}const E6=(t,e)=>Vp.sign(t,e.slice(0,32)),jse=Vp.verify,Vr=t=>Ft.isBuffer(t)?t:t instanceof Uint8Array?Ft.from(t.buffer,t.byteOffset,t.byteLength):Ft.from(t);class Bse{constructor(e){Object.assign(this,e)}encode(){return Ft.from(cx.serialize(Gg,this))}static decode(e){return cx.deserialize(Gg,this,e)}static decodeUnchecked(e){return cx.deserializeUnchecked(Gg,this,e)}}const Gg=new Map;var _6;const Fse=32,Al=32;function Vse(t){return t._bn!==void 0}let DN=1;class Xe extends Bse{constructor(e){if(super({}),this._bn=void 0,Vse(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Wr.decode(e);if(n.length!=Al)throw new Error("Invalid public key input");this._bn=new wN(n)}else this._bn=new wN(e);if(this._bn.byteLength()>Al)throw new Error("Invalid public key input")}}static unique(){const e=new Xe(DN);return DN+=1,new Xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Wr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ft);if(e.length===Al)return e;const n=Ft.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Ft.concat([e.toBuffer(),Ft.from(n),r.toBuffer()]),s=EN(i);return new Xe(s)}static createProgramAddressSync(e,n){let r=Ft.alloc(0);e.forEach(function(s){if(s.length>Fse)throw new TypeError("Max seed length exceeded");r=Ft.concat([r,Vr(s)])}),r=Ft.concat([r,n.toBuffer(),Ft.from("ProgramDerivedAddress")]);const i=EN(r);if(LN(i))throw new Error("Invalid seeds, address must fall off the curve");return new Xe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Ft.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Xe(e);return LN(n.toBytes())}}_6=Xe;Xe.default=new _6("11111111111111111111111111111111");Gg.set(Xe,{kind:"struct",fields:[["_bn","u256"]]});new Xe("BPFLoader1111111111111111111111111111111111");const Md=1232,MT=127,s0=64;class S6 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(S6.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class T6 extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(T6.prototype,"name",{value:"TransactionExpiredTimeoutError"});class dh extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class o0{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const $t=(t="publicKey")=>fe.blob(32,t),Use=(t="signature")=>fe.blob(64,t),gd=(t="string")=>{const e=fe.struct([fe.u32("length"),fe.u32("lengthPadding"),fe.blob(fe.offset(fe.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,l)=>{const u={chars:Ft.from(s,"utf8")};return r(u,o,l)},i.alloc=s=>fe.u32().span+fe.u32().span+Ft.from(s,"utf8").length,i},zse=(t="authorized")=>fe.struct([$t("staker"),$t("withdrawer")],t),Wse=(t="lockup")=>fe.struct([fe.ns64("unixTimestamp"),fe.ns64("epoch"),$t("custodian")],t),$se=(t="voteInit")=>fe.struct([$t("nodePubkey"),$t("authorizedVoter"),$t("authorizedWithdrawer"),fe.u8("commission")],t),qse=(t="voteAuthorizeWithSeedArgs")=>fe.struct([fe.u32("voteAuthorizationType"),$t("currentAuthorityDerivedKeyOwnerPubkey"),gd("currentAuthorityDerivedKeySeed"),$t("newAuthorized")],t);function A6(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return A6({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function zi(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function Wi(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function On(t,e){if(!t)throw new Error(e||"Assertion failed")}class dw{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const l=o.toBase58();let u=r.get(l);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(l,u)),u},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const l of o.keys){const u=i(l.pubkey);u.isSigner||=l.isSigner,u.isWritable||=l.isWritable}}return new dw(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];On(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{On(n.length>0,"Expected at least one writable signer key");const[u]=n[0];On(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...n.map(([u])=>new Xe(u)),...r.map(([u])=>new Xe(u)),...i.map(([u])=>new Xe(u)),...s.map(([u])=>new Xe(u))];return[o,l]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const l=new Xe(s),u=e.findIndex(d=>d.equals(l));u>=0&&(On(u<256,"Max lookup table index exceeded"),r.push(u),i.push(l),this.keyMetaMap.delete(s))}return[r,i]}}const I6="Reached end of buffer unexpectedly";function ia(t){if(t.length===0)throw new Error(I6);return t.shift()}function $i(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(I6);return t.splice(...e)}class _a{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Xe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Wr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new o0(this.staticAccountKeys)}static compile(e){const n=dw.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new o0(i).compileInstructions(e.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:Wr.encode(l.data)}));return new _a({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Wi(n,e);const r=this.instructions.map(p=>{const{accounts:v,programIdIndex:x}=p,T=Array.from(Wr.decode(p.data));let _=[];Wi(_,v.length);let E=[];return Wi(E,T.length),{programIdIndex:x,keyIndicesCount:Ft.from(_),keyIndices:v,dataLength:Ft.from(E),data:T}});let i=[];Wi(i,r.length);let s=Ft.alloc(Md);Ft.from(i).copy(s);let o=i.length;r.forEach(p=>{const x=fe.struct([fe.u8("programIdIndex"),fe.blob(p.keyIndicesCount.length,"keyIndicesCount"),fe.seq(fe.u8("keyIndex"),p.keyIndices.length,"keyIndices"),fe.blob(p.dataLength.length,"dataLength"),fe.seq(fe.u8("userdatum"),p.data.length,"data")]).encode(p,s,o);o+=x}),s=s.slice(0,o);const l=fe.struct([fe.blob(1,"numRequiredSignatures"),fe.blob(1,"numReadonlySignedAccounts"),fe.blob(1,"numReadonlyUnsignedAccounts"),fe.blob(n.length,"keyCount"),fe.seq($t("key"),e,"keys"),$t("recentBlockhash")]),u={numRequiredSignatures:Ft.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ft.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ft.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ft.from(n),keys:this.accountKeys.map(p=>Vr(p.toBytes())),recentBlockhash:Wr.decode(this.recentBlockhash)};let d=Ft.alloc(2048);const f=l.encode(u,d);return s.copy(d,f),d.slice(0,f+s.length)}static from(e){let n=[...e];const r=ia(n);if(r!==(r&MT))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ia(n),s=ia(n),o=zi(n);let l=[];for(let v=0;v<o;v++){const x=$i(n,0,Al);l.push(new Xe(Ft.from(x)))}const u=$i(n,0,Al),d=zi(n);let f=[];for(let v=0;v<d;v++){const x=ia(n),T=zi(n),_=$i(n,0,T),E=zi(n),N=$i(n,0,E),L=Wr.encode(Ft.from(N));f.push({programIdIndex:x,accounts:_,data:L})}const p={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Wr.encode(Ft.from(u)),accountKeys:l,instructions:f};return new _a(p)}}class lp{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new o0(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,l)=>o+l.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=dw.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const f of s){const p=n.extractTableLookup(f);if(p!==void 0){const[v,{writable:x,readonly:T}]=p;r.push(v),i.writable.push(...x),i.readonly.push(...T)}}const[o,l]=n.getMessageComponents(),d=new o0(l,i).compileInstructions(e.instructions);return new lp({header:o,staticAccountKeys:l,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:r})}serialize(){const e=Array();Wi(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Wi(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Wi(s,this.addressTableLookups.length);const o=fe.struct([fe.u8("prefix"),fe.struct([fe.u8("numRequiredSignatures"),fe.u8("numReadonlySignedAccounts"),fe.u8("numReadonlyUnsignedAccounts")],"header"),fe.blob(e.length,"staticAccountKeysLength"),fe.seq($t(),this.staticAccountKeys.length,"staticAccountKeys"),$t("recentBlockhash"),fe.blob(r.length,"instructionsLength"),fe.blob(n.length,"serializedInstructions"),fe.blob(s.length,"addressTableLookupsLength"),fe.blob(i.length,"serializedAddressTableLookups")]),l=new Uint8Array(Md),d=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:Wr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},l);return l.slice(0,d)}serializeInstructions(){let e=0;const n=new Uint8Array(Md);for(const r of this.compiledInstructions){const i=Array();Wi(i,r.accountKeyIndexes.length);const s=Array();Wi(s,r.data.length);const o=fe.struct([fe.u8("programIdIndex"),fe.blob(i.length,"encodedAccountKeyIndexesLength"),fe.seq(fe.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe.blob(s.length,"encodedDataLength"),fe.blob(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Md);for(const r of this.addressTableLookups){const i=Array();Wi(i,r.writableIndexes.length);const s=Array();Wi(s,r.readonlyIndexes.length);const o=fe.struct([$t("accountKey"),fe.blob(i.length,"encodedWritableIndexesLength"),fe.seq(fe.u8(),r.writableIndexes.length,"writableIndexes"),fe.blob(s.length,"encodedReadonlyIndexesLength"),fe.seq(fe.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=ia(n),i=r&MT;On(r!==i,"Expected versioned message but received legacy message");const s=i;On(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:ia(n),numReadonlySignedAccounts:ia(n),numReadonlyUnsignedAccounts:ia(n)},l=[],u=zi(n);for(let T=0;T<u;T++)l.push(new Xe($i(n,0,Al)));const d=Wr.encode($i(n,0,Al)),f=zi(n),p=[];for(let T=0;T<f;T++){const _=ia(n),E=zi(n),N=$i(n,0,E),L=zi(n),M=new Uint8Array($i(n,0,L));p.push({programIdIndex:_,accountKeyIndexes:N,data:M})}const v=zi(n),x=[];for(let T=0;T<v;T++){const _=new Xe($i(n,0,Al)),E=zi(n),N=$i(n,0,E),L=zi(n),M=$i(n,0,L);x.push({accountKey:_,writableIndexes:N,readonlyIndexes:M})}return new lp({header:o,staticAccountKeys:l,recentBlockhash:d,compiledInstructions:p,addressTableLookups:x})}}const NT={deserializeMessageVersion(t){const e=t[0],n=e&MT;return n===e?"legacy":n},deserialize:t=>{const e=NT.deserializeMessageVersion(t);if(e==="legacy")return _a.from(t);if(e===0)return lp.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let sl=(function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t})({});const Hse=Ft.alloc(s0).fill(0);class ss{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ft.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ri{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ss(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let _=0;_<n.length;_++)if(n[_].programId===void 0)throw new Error(`Transaction instruction index ${_} has undefined program id`);const i=[],s=[];n.forEach(_=>{_.keys.forEach(N=>{s.push({...N})});const E=_.programId.toString();i.includes(E)||i.push(E)}),i.forEach(_=>{s.push({pubkey:new Xe(_),isSigner:!1,isWritable:!1})});const o=[];s.forEach(_=>{const E=_.pubkey.toString(),N=o.findIndex(L=>L.pubkey.toString()===E);N>-1?(o[N].isWritable=o[N].isWritable||_.isWritable,o[N].isSigner=o[N].isSigner||_.isSigner):o.push(_)}),o.sort(function(_,E){if(_.isSigner!==E.isSigner)return _.isSigner?-1:1;if(_.isWritable!==E.isWritable)return _.isWritable?-1:1;const N={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return _.pubkey.toBase58().localeCompare(E.pubkey.toBase58(),"en",N)});const l=o.findIndex(_=>_.pubkey.equals(r));if(l>-1){const[_]=o.splice(l,1);_.isSigner=!0,_.isWritable=!0,o.unshift(_)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const _ of this.signatures){const E=o.findIndex(N=>N.pubkey.equals(_.publicKey));if(E>-1)o[E].isSigner||(o[E].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${_.publicKey.toString()}`)}let u=0,d=0,f=0;const p=[],v=[];o.forEach(({pubkey:_,isSigner:E,isWritable:N})=>{E?(p.push(_.toString()),u+=1,N||(d+=1)):(v.push(_.toString()),N||(f+=1))});const x=p.concat(v),T=n.map(_=>{const{data:E,programId:N}=_;return{programIdIndex:x.indexOf(N.toString()),accounts:_.keys.map(L=>x.indexOf(L.pubkey.toString())),data:Wr.encode(E)}});return T.forEach(_=>{On(_.programIdIndex>=0),_.accounts.forEach(E=>On(E>=0))}),new _a({header:{numRequiredSignatures:u,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:x,recentBlockhash:e,instructions:T})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=E6(r,i.secretKey);this._addSignature(i.publicKey,Vr(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){On(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ft.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||=[]).push(s):jse(i,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(l=>l.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(l=>l.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Wi(r,n.length);const i=r.length+n.length*64+e.length,s=Ft.alloc(i);return On(n.length<256),Ft.from(r).copy(s,0),n.forEach(({signature:o},l)=>{o!==null&&(On(o.length===64,"signature has invalid length"),Ft.from(o).copy(s,r.length+l*64))}),e.copy(s,r.length+n.length*64),On(s.length<=Md,`Transaction too large: ${s.length} > ${Md}`),s}get keys(){return On(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return On(this.instructions.length===1),this.instructions[0].programId}get data(){return On(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=zi(n);let i=[];for(let s=0;s<r;s++){const o=$i(n,0,s0);i.push(Wr.encode(Ft.from(o)))}return Ri.populate(_a.from(n),i)}static populate(e,n=[]){const r=new Ri;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Wr.encode(Hse)?null:Wr.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const l=e.accountKeys[o];return{pubkey:l,isSigner:r.signatures.some(u=>u.publicKey.toString()===l.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ss({keys:s,programId:e.accountKeys[i.programIdIndex],data:Wr.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class cp{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)On(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(s0));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Wi(n,this.signatures.length);const r=fe.struct([fe.blob(n.length,"encodedSignaturesLength"),fe.seq(Use(),this.signatures.length,"signatures"),fe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=zi(n);for(let o=0;o<i;o++)r.push(new Uint8Array($i(n,0,s0)));const s=NT.deserialize(new Uint8Array(n));return new cp(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));On(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=E6(n,i.secretKey)}}addSignature(e,n){On(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));On(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const Kse=160,Gse=64,Yse=Kse/Gse,Qse=1e3/Yse;new Xe("SysvarC1ock11111111111111111111111111111111");new Xe("SysvarEpochSchedu1e111111111111111111111111");new Xe("Sysvar1nstructions1111111111111111111111111");const vx=new Xe("SysvarRecentB1ockHashes11111111111111111111"),ON=new Xe("SysvarRent111111111111111111111111111111111");new Xe("SysvarRewards111111111111111111111111111111");new Xe("SysvarS1otHashes111111111111111111111111111");new Xe("SysvarS1otHistory11111111111111111111111111");new Xe("SysvarStakeHistory1111111111111111111111111");class jN extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let l;switch(e){case"send":l=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":l=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:l=`Unknown action '${(u=>u)(e)}'`}super(l),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ot extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function id(t){return new Promise(e=>setTimeout(e,t))}function ts(t,e){const n=t.layout.span>=0?t.layout.span:A6(t,e),r=Ft.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const Xse=fe.nu64("lamportsPerSignature"),C6=fe.struct([fe.u32("version"),fe.u32("state"),$t("authorizedPubkey"),$t("nonce"),fe.struct([Xse],"feeCalculator")]),BN=C6.span;class kT{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=C6.decode(Vr(e),0);return new kT({authorizedPubkey:new Xe(n.authorizedPubkey),nonce:new Xe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Kd(t){const e=fe.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=Fie();return i.decode=(o,l)=>{const u=n(o,l);return s.decode(u)},i.encode=(o,l,u)=>{const d=s.encode(o);return r(d,l,u)},i}const ns=Object.freeze({Create:{index:0,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports"),fe.ns64("space"),$t("programId")])},Assign:{index:1,layout:fe.struct([fe.u32("instruction"),$t("programId")])},Transfer:{index:2,layout:fe.struct([fe.u32("instruction"),Kd("lamports")])},CreateWithSeed:{index:3,layout:fe.struct([fe.u32("instruction"),$t("base"),gd("seed"),fe.ns64("lamports"),fe.ns64("space"),$t("programId")])},AdvanceNonceAccount:{index:4,layout:fe.struct([fe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:fe.struct([fe.u32("instruction"),$t("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe.struct([fe.u32("instruction"),$t("authorized")])},Allocate:{index:8,layout:fe.struct([fe.u32("instruction"),fe.ns64("space")])},AllocateWithSeed:{index:9,layout:fe.struct([fe.u32("instruction"),$t("base"),gd("seed"),fe.ns64("space"),$t("programId")])},AssignWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),$t("base"),gd("seed"),$t("programId")])},TransferWithSeed:{index:11,layout:fe.struct([fe.u32("instruction"),Kd("lamports"),gd("seed"),$t("programId")])},UpgradeNonceAccount:{index:12,layout:fe.struct([fe.u32("instruction")])}});class up{constructor(){}static createAccount(e){const n=ns.Create,r=ts(n,{lamports:e.lamports,space:e.space,programId:Vr(e.programId.toBuffer())});return new ss({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=ns.TransferWithSeed;n=ts(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=ns.Transfer;n=ts(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ss({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=ns.AssignWithSeed;n=ts(i,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ns.Assign;n=ts(i,{programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ss({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=ns.CreateWithSeed,r=ts(n,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Vr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ss({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Ri;"basePubkey"in e&&"seed"in e?n.add(up.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:BN,programId:this.programId})):n.add(up.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:BN,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=ns.InitializeNonceAccount,r=ts(n,{authorized:Vr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vx,isSigner:!1,isWritable:!1},{pubkey:ON,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ss(i)}static nonceAdvance(e){const n=ns.AdvanceNonceAccount,r=ts(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vx,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ss(i)}static nonceWithdraw(e){const n=ns.WithdrawNonceAccount,r=ts(n,{lamports:e.lamports});return new ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:vx,isSigner:!1,isWritable:!1},{pubkey:ON,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=ns.AuthorizeNonceAccount,r=ts(n,{authorized:Vr(e.newAuthorizedPubkey.toBuffer())});return new ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=ns.AllocateWithSeed;n=ts(i,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ns.Allocate;n=ts(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ss({keys:r,programId:this.programId,data:n})}}up.programId=new Xe("11111111111111111111111111111111");new Xe("BPFLoader2111111111111111111111111111111111");function Zse(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xx,FN;function Jse(){if(FN)return xx;FN=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,l,u,d,f,p;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(p=t.call(r),p==="[object Array]"){for(l="[",o=r.length-1,s=0;s<o;s++)l+=n(r[s],!0)+",";return o>-1&&(l+=n(r[s],!0)),l+"]"}else if(p==="[object Object]"){for(u=e(r).sort(),o=u.length,l="",s=0;s<o;)d=u[s],f=n(r[d],!1),f!==void 0&&(l&&(l+=","),l+=JSON.stringify(d)+":"+f),s++;return"{"+l+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return xx=function(r){var i=n(r,!1);if(i!==void 0)return""+i},xx}var eoe=Jse(),VN=Zse(eoe);const rh=32;function bx(t){let e=0;for(;t>1;)t/=2,e++;return e}function toe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class noe{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=bx(toe(e+rh+1))-bx(rh)-1,r=this.getSlotsInEpoch(n),i=e-(r-rh);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*rh:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+bx(rh)):this.slotsPerEpoch}}var roe=globalThis.fetch;class ioe extends Ese{constructor(e,n,r){const i=s=>{const o=xse(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function soe(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const UN=56;class zN{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=soe(ooe,e),r=e.length-UN;On(r>=0,"lookup table is invalid"),On(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=fe.struct([fe.seq($t(),i,"addresses")]).decode(e.slice(UN));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Xe(n.authority[0]):void 0,addresses:s.map(o=>new Xe(o))}}}const ooe={index:1,layout:fe.struct([fe.u32("typeIndex"),Kd("deactivationSlot"),fe.nu64("lastExtendedSlot"),fe.u8("lastExtendedStartIndex"),fe.u8(),fe.seq($t(),fe.offset(fe.u8(),-1),"authority")])},aoe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function loe(t){const e=t.match(aoe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",l=i==null?null:parseInt(i.slice(1),10),u=l==null?"":`:${l+1}`;return`${o}//${r}${u}${s}`}const qn=Wp(IT(Xe),Fe(),t=>new Xe(t)),R6=CT([Fe(),zn("base64")]),PT=Wp(IT(Ft),R6,t=>Ft.from(t[0],"base64")),coe=30*1e3;function uoe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Sn(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function WN(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function M6(t){return gi([Oe({jsonrpc:zn("2.0"),id:Fe(),result:t}),Oe({jsonrpc:zn("2.0"),id:Fe(),error:Oe({code:hf(),message:Fe(),data:ct(Hie())})})])}const doe=M6(hf());function Bt(t){return Wp(M6(t),doe,e=>"error"in e?e:{...e,result:ze(e.result,t)})}function er(t){return Bt(Oe({context:Oe({slot:Ee()}),value:t}))}function fw(t){return Oe({context:Oe({slot:Ee()}),value:t})}function Ex(t,e){return t===0?new lp({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Xe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Wr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new _a(e)}const foe=Oe({foundation:Ee(),foundationTerm:Ee(),initial:Ee(),taper:Ee(),terminal:Ee()}),hoe=Bt(He(Ke(Oe({epoch:Ee(),effectiveSlot:Ee(),amount:Ee(),postBalance:Ee(),commission:ct(Ke(Ee()))})))),poe=He(Oe({slot:Ee(),prioritizationFee:Ee()})),moe=Oe({total:Ee(),validator:Ee(),foundation:Ee(),epoch:Ee()}),goe=Oe({epoch:Ee(),slotIndex:Ee(),slotsInEpoch:Ee(),absoluteSlot:Ee(),blockHeight:ct(Ee()),transactionCount:ct(Ee())}),yoe=Oe({slotsPerEpoch:Ee(),leaderScheduleSlotOffset:Ee(),warmup:Ro(),firstNormalEpoch:Ee(),firstNormalSlot:Ee()}),woe=u6(Fe(),He(Ee())),au=Ke(gi([Oe({}),Fe()])),voe=Oe({err:au}),xoe=zn("receivedSignature"),boe=Oe({"solana-core":Fe(),"feature-set":ct(Ee())}),Eoe=Oe({program:Fe(),programId:qn,parsed:hf()}),_oe=Oe({programId:qn,accounts:He(qn),data:Fe()}),$N=er(Oe({err:Ke(gi([Oe({}),Fe()])),logs:Ke(He(Fe())),accounts:ct(Ke(He(Ke(Oe({executable:Ro(),owner:Fe(),lamports:Ee(),data:He(Fe()),rentEpoch:ct(Ee())}))))),unitsConsumed:ct(Ee()),returnData:ct(Ke(Oe({programId:Fe(),data:CT([Fe(),zn("base64")])}))),innerInstructions:ct(Ke(He(Oe({index:Ee(),instructions:He(gi([Eoe,_oe]))}))))})),Soe=er(Oe({byIdentity:u6(Fe(),He(Ee())),range:Oe({firstSlot:Ee(),lastSlot:Ee()})}));function Toe(t,e,n,r,i,s){const o=n||roe;let l;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(f,p)=>{const v=await new Promise((x,T)=>{try{r(f,p,(_,E)=>x([_,E]))}catch(_){T(_)}});return await o(...v)}),new gse(async(f,p)=>{const v={method:"POST",body:f,agent:l,headers:Object.assign({"Content-Type":"application/json"},e||{},Tae)};try{let x=5,T,_=500;for(;u?T=await u(t,v):T=await o(t,v),!(T.status!==429||i===!0||(x-=1,x===0));)console.error(`Server responded with ${T.status} ${T.statusText}.  Retrying after ${_}ms delay...`),await id(_),_*=2;const E=await T.text();T.ok?p(null,E):p(new Error(`${T.status} ${T.statusText}: ${E}`))}catch(x){x instanceof Error&&p(x)}},{})}function Aoe(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function Ioe(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const Coe=Bt(foe),Roe=Bt(moe),Moe=Bt(poe),Noe=Bt(goe),koe=Bt(yoe),Poe=Bt(woe),Loe=Bt(Ee()),Doe=er(Oe({total:Ee(),circulating:Ee(),nonCirculating:Ee(),nonCirculatingAccounts:He(qn)})),SE=Oe({amount:Fe(),uiAmount:Ke(Ee()),decimals:Ee(),uiAmountString:ct(Fe())}),Ooe=er(He(Oe({address:qn,amount:Fe(),uiAmount:Ke(Ee()),decimals:Ee(),uiAmountString:ct(Fe())}))),joe=er(He(Oe({pubkey:qn,account:Oe({executable:Ro(),owner:qn,lamports:Ee(),data:PT,rentEpoch:Ee()})}))),TE=Oe({program:Fe(),parsed:hf(),space:Ee()}),Boe=er(He(Oe({pubkey:qn,account:Oe({executable:Ro(),owner:qn,lamports:Ee(),data:TE,rentEpoch:Ee()})}))),Foe=er(He(Oe({lamports:Ee(),address:qn}))),dp=Oe({executable:Ro(),owner:qn,lamports:Ee(),data:PT,rentEpoch:Ee()}),Voe=Oe({pubkey:qn,account:dp}),Uoe=Wp(gi([IT(Ft),TE]),gi([R6,TE]),t=>Array.isArray(t)?ze(t,PT):t),AE=Oe({executable:Ro(),owner:qn,lamports:Ee(),data:Uoe,rentEpoch:Ee()}),zoe=Oe({pubkey:qn,account:AE}),Woe=Oe({state:gi([zn("active"),zn("inactive"),zn("activating"),zn("deactivating")]),active:Ee(),inactive:Ee()}),$oe=Bt(He(Oe({signature:Fe(),slot:Ee(),err:au,memo:Ke(Fe()),blockTime:ct(Ke(Ee()))}))),qoe=Bt(He(Oe({signature:Fe(),slot:Ee(),err:au,memo:Ke(Fe()),blockTime:ct(Ke(Ee()))}))),Hoe=Oe({subscription:Ee(),result:fw(dp)}),Koe=Oe({pubkey:qn,account:dp}),Goe=Oe({subscription:Ee(),result:fw(Koe)}),Yoe=Oe({parent:Ee(),slot:Ee(),root:Ee()}),Qoe=Oe({subscription:Ee(),result:Yoe}),Xoe=gi([Oe({type:gi([zn("firstShredReceived"),zn("completed"),zn("optimisticConfirmation"),zn("root")]),slot:Ee(),timestamp:Ee()}),Oe({type:zn("createdBank"),parent:Ee(),slot:Ee(),timestamp:Ee()}),Oe({type:zn("frozen"),slot:Ee(),timestamp:Ee(),stats:Oe({numTransactionEntries:Ee(),numSuccessfulTransactions:Ee(),numFailedTransactions:Ee(),maxTransactionsPerEntry:Ee()})}),Oe({type:zn("dead"),slot:Ee(),timestamp:Ee(),err:Fe()})]),Zoe=Oe({subscription:Ee(),result:Xoe}),Joe=Oe({subscription:Ee(),result:fw(gi([voe,xoe]))}),eae=Oe({subscription:Ee(),result:Ee()}),tae=Oe({pubkey:Fe(),gossip:Ke(Fe()),tpu:Ke(Fe()),rpc:Ke(Fe()),version:Ke(Fe())}),qN=Oe({votePubkey:Fe(),nodePubkey:Fe(),activatedStake:Ee(),epochVoteAccount:Ro(),epochCredits:He(CT([Ee(),Ee(),Ee()])),commission:Ee(),lastVote:Ee(),rootSlot:Ke(Ee())}),nae=Bt(Oe({current:He(qN),delinquent:He(qN)})),rae=gi([zn("processed"),zn("confirmed"),zn("finalized")]),iae=Oe({slot:Ee(),confirmations:Ke(Ee()),err:au,confirmationStatus:ct(rae)}),sae=er(He(Ke(iae))),oae=Bt(Ee()),N6=Oe({accountKey:qn,writableIndexes:He(Ee()),readonlyIndexes:He(Ee())}),LT=Oe({signatures:He(Fe()),message:Oe({accountKeys:He(Fe()),header:Oe({numRequiredSignatures:Ee(),numReadonlySignedAccounts:Ee(),numReadonlyUnsignedAccounts:Ee()}),instructions:He(Oe({accounts:He(Ee()),data:Fe(),programIdIndex:Ee()})),recentBlockhash:Fe(),addressTableLookups:ct(He(N6))})}),k6=Oe({pubkey:qn,signer:Ro(),writable:Ro(),source:ct(gi([zn("transaction"),zn("lookupTable")]))}),P6=Oe({accountKeys:He(k6),signatures:He(Fe())}),L6=Oe({parsed:hf(),program:Fe(),programId:qn}),D6=Oe({accounts:He(qn),data:Fe(),programId:qn}),aae=gi([D6,L6]),lae=gi([Oe({parsed:hf(),program:Fe(),programId:Fe()}),Oe({accounts:He(Fe()),data:Fe(),programId:Fe()})]),O6=Wp(aae,lae,t=>"accounts"in t?ze(t,D6):ze(t,L6)),j6=Oe({signatures:He(Fe()),message:Oe({accountKeys:He(k6),instructions:He(O6),recentBlockhash:Fe(),addressTableLookups:ct(Ke(He(N6)))})}),a0=Oe({accountIndex:Ee(),mint:Fe(),owner:ct(Fe()),programId:ct(Fe()),uiTokenAmount:SE}),B6=Oe({writable:He(qn),readonly:He(qn)}),hw=Oe({err:au,fee:Ee(),innerInstructions:ct(Ke(He(Oe({index:Ee(),instructions:He(Oe({accounts:He(Ee()),data:Fe(),programIdIndex:Ee()}))})))),preBalances:He(Ee()),postBalances:He(Ee()),logMessages:ct(Ke(He(Fe()))),preTokenBalances:ct(Ke(He(a0))),postTokenBalances:ct(Ke(He(a0))),loadedAddresses:ct(B6),computeUnitsConsumed:ct(Ee()),costUnits:ct(Ee())}),DT=Oe({err:au,fee:Ee(),innerInstructions:ct(Ke(He(Oe({index:Ee(),instructions:He(O6)})))),preBalances:He(Ee()),postBalances:He(Ee()),logMessages:ct(Ke(He(Fe()))),preTokenBalances:ct(Ke(He(a0))),postTokenBalances:ct(Ke(He(a0))),loadedAddresses:ct(B6),computeUnitsConsumed:ct(Ee()),costUnits:ct(Ee())}),pf=gi([zn(0),zn("legacy")]),lu=Oe({pubkey:Fe(),lamports:Ee(),postBalance:Ke(Ee()),rewardType:Ke(Fe()),commission:ct(Ke(Ee()))}),cae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),transactions:He(Oe({transaction:LT,meta:Ke(hw),version:ct(pf)})),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),uae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),dae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),transactions:He(Oe({transaction:P6,meta:Ke(hw),version:ct(pf)})),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),fae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),transactions:He(Oe({transaction:j6,meta:Ke(DT),version:ct(pf)})),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),hae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),transactions:He(Oe({transaction:P6,meta:Ke(DT),version:ct(pf)})),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),pae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),rewards:ct(He(lu)),blockTime:Ke(Ee()),blockHeight:Ke(Ee())}))),mae=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),transactions:He(Oe({transaction:LT,meta:Ke(hw)})),rewards:ct(He(lu)),blockTime:Ke(Ee())}))),HN=Bt(Ke(Oe({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:Ee(),signatures:He(Fe()),blockTime:Ke(Ee())}))),_x=Bt(Ke(Oe({slot:Ee(),meta:Ke(hw),blockTime:ct(Ke(Ee())),transaction:LT,version:ct(pf)}))),Eg=Bt(Ke(Oe({slot:Ee(),transaction:j6,meta:Ke(DT),blockTime:ct(Ke(Ee())),version:ct(pf)}))),gae=er(Oe({blockhash:Fe(),lastValidBlockHeight:Ee()})),yae=er(Ro()),wae=Oe({slot:Ee(),numTransactions:Ee(),numSlots:Ee(),samplePeriodSecs:Ee()}),vae=Bt(He(wae)),xae=er(Ke(Oe({feeCalculator:Oe({lamportsPerSignature:Ee()})}))),bae=Bt(Fe()),Eae=Bt(Fe()),_ae=Oe({err:au,logs:He(Fe()),signature:Fe()}),Sae=Oe({result:fw(_ae),subscription:Ee()}),Tae={"solana-client":"js/1.0.0-maintenance"};class OT{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async f=>{const{commitment:p,config:v}=Sn(f),x=this._buildArgs([],p,void 0,v),T=VN(x);return d[T]=d[T]??(async()=>{try{const _=await this._rpcRequest("getBlockHeight",x),E=ze(_,Bt(Ee()));if("error"in E)throw new ot(E.error,"failed to get block height information");return E.result}finally{delete d[T]}})(),await d[T]}})();let r,i,s,o,l,u;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,l=n.disableRetryOnRateLimit,u=n.httpAgent),this._rpcEndpoint=uoe(e),this._rpcWsEndpoint=r||loe(e),this._rpcClient=Toe(e,i,s,o,l,u),this._rpcRequest=Aoe(this._rpcClient),this._rpcBatchRequest=Ioe(this._rpcClient),this._rpcWebSocket=new ioe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),l=ze(o,er(Ee()));if("error"in l)throw new ot(l.error,`failed to get balance for ${e.toBase58()}`);return l.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ze(n,Bt(Ke(Ee())));if("error"in r)throw new ot(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ze(e,Bt(Ee()));if("error"in n)throw new ot(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ze(e,Loe);if("error"in n)throw new ot(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ze(r,Doe);if("error"in i)throw new ot(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=ze(i,er(SE));if("error"in s)throw new ot(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=ze(i,er(SE));if("error"in s)throw new ot(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=Sn(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const l=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",l),d=ze(u,joe);if("error"in d)throw new ot(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),l=ze(o,Boe);if("error"in l)throw new ot(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=ze(i,Foe);if("error"in s)throw new ot(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=ze(i,Ooe);if("error"in s)throw new ot(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),l=ze(o,er(Ke(dp)));if("error"in l)throw new ot(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),l=ze(o,er(Ke(AE)));if("error"in l)throw new ot(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=Sn(n),s=e.map(d=>d.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),l=await this._rpcRequest("getMultipleAccounts",o),u=ze(l,er(He(Ke(AE))));if("error"in u)throw new ot(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=Sn(n),s=e.map(d=>d.toBase58()),o=this._buildArgs([s],r,"base64",i),l=await this._rpcRequest("getMultipleAccounts",o),u=ze(l,er(He(Ke(dp))));if("error"in u)throw new ot(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=Sn(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),l=await this._rpcRequest("getStakeActivation",o),u=ze(l,Bt(Woe));if("error"in u)throw new ot(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=Sn(n),{encoding:s,...o}=i||{},l=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:WN(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",l),d=He(Voe),f=o.withContext===!0?ze(u,er(d)):ze(u,Bt(d));if("error"in f)throw new ot(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),l=ze(o,Bt(He(zoe)));if("error"in l)throw new ot(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async confirmTransaction(e,n){let r;if(typeof e=="string")r=e;else{const s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Wr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return On(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((u,d)=>{try{r=this.onSignature(n,(p,v)=>{r=void 0;const x={context:v,value:p};u({__type:sl.PROCESSED,response:x})},e);const f=new Promise(p=>{r==null?p():i=this._onSubscriptionStateChange(r,v=>{v==="subscribed"&&p()})});(async()=>{if(await f,s)return;const p=await this.getSignatureStatus(n);if(s||p==null)return;const{context:v,value:x}=p;if(x!=null)if(x?.err)d(x.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(x.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(x.confirmationStatus==="processed"||x.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:sl.PROCESSED,response:{context:v,value:x}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(p=>{const v=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let x=await v();if(!s){for(;x<=r;)if(await id(1e3),s||(x=await v(),s))return;p({__type:sl.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(n);let f;try{const p=await Promise.race([d,u,o]);if(p.__type===sl.PROCESSED)f=p.response;else throw new S6(i)}finally{s=!0,l()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let l=!1;const u=new Promise(x=>{let T=s,_=null;const E=async()=>{try{const{context:N,value:L}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return _=N.slot,L?.nonce}catch{return T}};(async()=>{if(T=await E(),!l)for(;;){if(s!==T){x({__type:sl.NONCE_INVALID,slotInWhichNonceDidAdvance:_});return}if(await id(2e3),l||(T=await E(),l))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),p=this.getCancellationPromise(n);let v;try{const x=await Promise.race([p,f,u]);if(x.__type===sl.PROCESSED)v=x.response;else{let T;for(;;){const _=await this.getSignatureStatus(o);if(_==null)break;if(_.context.slot<(x.slotInWhichNonceDidAdvance??r)){await id(400);continue}T=_;break}if(T?.value){const _=e||"finalized",{confirmationStatus:E}=T.value;switch(_){case"processed":case"recent":if(E!=="processed"&&E!=="confirmed"&&E!=="finalized")throw new dh(o);break;case"confirmed":case"single":case"singleGossip":if(E!=="confirmed"&&E!=="finalized")throw new dh(o);break;case"finalized":case"max":case"root":if(E!=="finalized")throw new dh(o);break;default:}v={context:T.context,value:{err:T.value.err}}}else throw new dh(o)}}finally{l=!0,d()}return v}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(u=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:sl.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let l;try{const u=await Promise.race([o,i]);if(u.__type===sl.PROCESSED)l=u.response;else throw new T6(n,u.timeoutMs/1e3)}finally{clearTimeout(r),s()}return l}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ze(e,Bt(He(tae)));if("error"in n)throw new ot(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=ze(r,nae);if("error"in i)throw new ot(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=ze(s,Bt(Ee()));if("error"in o)throw new ot(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=ze(s,Bt(Fe()));if("error"in o)throw new ot(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=ze(i,Bt(He(qn)));if("error"in s)throw new ot(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);On(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=ze(i,sae);if("error"in s)throw new ot(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=ze(s,Bt(Ee()));if("error"in o)throw new ot(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=ze(r,Coe);if("error"in i)throw new ot(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=Sn(r),o=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...s,epoch:n??s?.epoch}),l=await this._rpcRequest("getInflationReward",o),u=ze(l,hoe);if("error"in u)throw new ot(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ze(e,Roe);if("error"in n)throw new ot(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=ze(s,Noe);if("error"in o)throw new ot(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ze(e,koe);if("error"in n)throw new ot(n.error,"failed to get epoch schedule");const r=n.result;return new noe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ze(e,Poe);if("error"in n)throw new ot(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=ze(i,oae);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ze(n,vae);if("error"in r)throw new ot(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=ze(i,xae);if("error"in s)throw new ot(s.error,"failed to get fee calculator");const{context:o,value:l}=s.result;return{context:o,value:l!==null?l.feeCalculator:null}}async getFeeForMessage(e,n){const r=Vr(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=ze(s,er(Ke(Ee())));if("error"in o)throw new ot(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(o=>o.toBase58()),r=n?.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=ze(i,Moe);if("error"in s)throw new ot(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=ze(s,gae);if("error"in o)throw new ot(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),l=ze(o,yae);if("error"in l)throw new ot(l.error,"failed to determine if the blockhash `"+e+"`is valid");return l.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ze(e,Bt(boe));if("error"in n)throw new ot(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ze(e,Bt(Fe()));if("error"in n)throw new ot(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const l=ze(o,dae);if("error"in l)throw l.error;return l.result}case"none":{const l=ze(o,uae);if("error"in l)throw l.error;return l.result}default:{const l=ze(o,cae);if("error"in l)throw l.error;const{result:u}=l;return u?{...u,transactions:u.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:Ex(p,d.message)},version:p}))}:null}}}catch(l){throw new ot(l,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const l=ze(o,hae);if("error"in l)throw l.error;return l.result}case"none":{const l=ze(o,pae);if("error"in l)throw l.error;return l.result}default:{const l=ze(o,fae);if("error"in l)throw l.error;return l.result}}}catch(l){throw new ot(l,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:l,...u}=e;r=l,n=u}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=ze(s,Soe);if("error"in o)throw new ot(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),l=ze(o,_x);if("error"in l)throw new ot(l.error,"failed to get transaction");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:Ex(u.version,u.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=Sn(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),l=ze(o,Eg);if("error"in l)throw new ot(l.error,"failed to get transaction");return l.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=Sn(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const d=ze(u,Eg);if("error"in d)throw new ot(d.error,"failed to get transactions");return d.result})}async getTransactions(e,n){const{commitment:r,config:i}=Sn(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const d=ze(u,_x);if("error"in d)throw new ot(d.error,"failed to get transactions");const f=d.result;return f&&{...f,transaction:{...f.transaction,message:Ex(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=ze(i,mae);if("error"in s)throw new ot(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const l={...o,transactions:o.transactions.map(({transaction:u,meta:d})=>{const f=new _a(u.message);return{meta:d,transaction:{...u,message:f}}})};return{...l,transactions:l.transactions.map(({transaction:u,meta:d})=>({meta:d,transaction:Ri.populate(u.message,u.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=ze(s,Bt(He(Ee())));if("error"in o)throw new ot(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ze(i,HN);if("error"in s)throw new ot(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ze(i,HN);if("error"in s)throw new ot(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=ze(i,_x);if("error"in s)throw new ot(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const l=new _a(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:Ri.populate(l,u)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=ze(i,Eg);if("error"in s)throw new ot(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const l=ze(o,Eg);if("error"in l)throw new ot(l.error,"failed to get confirmed transactions");return l.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const u=await this.getConfirmedBlockSignatures(n,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=ze(s,$oe);if("error"in o)throw new ot(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=ze(s,qoe);if("error"in o)throw new ot(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new zN({key:e,state:zN.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=kT.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=ze(r,bae);if("error"in i)throw new ot(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await id(100);const r=Date.now()-this._blockhashInfo.lastFetch>=coe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await id(Qse/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Sn(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=ze(s,er(Ee()));if("error"in o)throw new ot(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const _=e.serialize(),E=Ft.from(_).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const N=n||{};N.encoding="base64","commitment"in N||(N.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(N.innerInstructions=n.innerInstructions);const L=[E,N],M=await this._rpcRequest("simulateTransaction",L),Z=ze(M,$N);if("error"in Z)throw new Error("failed to simulate transaction: "+Z.error.message);return Z.result}let i;if(e instanceof Ri){let T=e;i=new Ri,i.feePayer=T.feePayer,i.instructions=e.instructions,i.nonceInfo=T.nonceInfo,i.signatures=T.signatures}else i=Ri.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let T=this._disableBlockhashCaching;for(;;){const _=await this._blockhashWithExpiryBlockHeight(T);if(i.lastValidBlockHeight=_.lastValidBlockHeight,i.recentBlockhash=_.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const E=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(E)&&!this._blockhashInfo.transactionSignatures.includes(E)){this._blockhashInfo.simulatedSignatures.push(E);break}else T=!0}}const o=i._compile(),l=o.serialize(),d=i._serialize(l).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(r){const T=(Array.isArray(r)?r:o.nonProgramIds()).map(_=>_.toBase58());f.accounts={encoding:"base64",addresses:T}}s&&(f.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(f.innerInstructions=n.innerInstructions);const p=[d,f],v=await this._rpcRequest("simulateTransaction",p),x=ze(v,$N);if("error"in x){let T;if("data"in x.error&&(T=x.error.data.logs,T&&Array.isArray(T))){const _=`
    `,E=_+T.join(_);console.error(x.error.message,E)}throw new jN({action:"simulate",signature:"",transactionMessage:x.error.message,logs:T})}return x.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const l=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=l.lastValidBlockHeight,e.recentBlockhash=l.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Vr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],l=await this._rpcRequest("sendTransaction",o),u=ze(l,Eae);if("error"in u){let d;throw"data"in u.error&&(d=u.error.data.logs),new jN({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:d})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const l=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:l,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[l]=i.callbacks,await this._updateSubscriptions()}catch(l){if(console.error(`Received ${l instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:l}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(l){if(l instanceof Error&&console.error(`${o} error:`,l.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ze(e,Hoe);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=VN([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];On(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=Sn(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ze(e,Goe);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=Sn(r),l=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:WN(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},l)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ze(e,Sae);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ze(e,Qoe);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ze(e,Zoe);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ze(e,Joe);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,l)=>{if(o.type==="status"){n(o.result,l);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),l=this._makeSubscription({callback:(u,d)=>{n(u,d);try{this.removeSignatureListener(l)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return l}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ze(e,eae);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:fe.struct([fe.u32("instruction"),Kd("recentSlot"),fe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe.struct([fe.u32("instruction")])},ExtendLookupTable:{index:2,layout:fe.struct([fe.u32("instruction"),Kd(),fe.seq($t(),fe.offset(fe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe.struct([fe.u32("instruction")])},CloseLookupTable:{index:4,layout:fe.struct([fe.u32("instruction")])}});new Xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:fe.struct([fe.u8("instruction"),fe.u32("units"),fe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:fe.struct([fe.u8("instruction"),fe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:fe.struct([fe.u8("instruction"),fe.u32("units")])},SetComputeUnitPrice:{index:3,layout:fe.struct([fe.u8("instruction"),Kd("microLamports")])}});new Xe("ComputeBudget111111111111111111111111111111");fe.struct([fe.u8("numSignatures"),fe.u8("padding"),fe.u16("signatureOffset"),fe.u16("signatureInstructionIndex"),fe.u16("publicKeyOffset"),fe.u16("publicKeyInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u16("messageInstructionIndex")]);new Xe("Ed25519SigVerify111111111111111111111111111");Ose.utils.isValidPrivateKey;fe.struct([fe.u8("numSignatures"),fe.u16("signatureOffset"),fe.u8("signatureInstructionIndex"),fe.u16("ethAddressOffset"),fe.u8("ethAddressInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u8("messageInstructionIndex"),fe.blob(20,"ethAddress"),fe.blob(64,"signature"),fe.u8("recoveryId")]);new Xe("KeccakSecp256k11111111111111111111111111111");var F6;new Xe("StakeConfig11111111111111111111111111111111");class V6{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}F6=V6;V6.default=new F6(0,0,Xe.default);Object.freeze({Initialize:{index:0,layout:fe.struct([fe.u32("instruction"),zse(),Wse()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),$t("newAuthorized"),fe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:fe.struct([fe.u32("instruction")])},Split:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Withdraw:{index:4,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Deactivate:{index:5,layout:fe.struct([fe.u32("instruction")])},Merge:{index:7,layout:fe.struct([fe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:fe.struct([fe.u32("instruction"),$t("newAuthorized"),fe.u32("stakeAuthorizationType"),gd("authoritySeed"),$t("authorityOwner")])}});new Xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:fe.struct([fe.u32("instruction"),$se()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),$t("newAuthorized"),fe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:fe.struct([fe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),qse()])}});new Xe("Vote111111111111111111111111111111111111111");new Xe("Va1idator1nfo111111111111111111111111111111");Oe({name:Fe(),website:ct(Fe()),details:ct(Fe()),iconUrl:ct(Fe()),keybaseUsername:ct(Fe())});new Xe("Vote111111111111111111111111111111111111111");fe.struct([$t("nodePubkey"),$t("authorizedWithdrawer"),fe.u8("commission"),fe.nu64(),fe.seq(fe.struct([fe.nu64("slot"),fe.u32("confirmationCount")]),fe.offset(fe.u32(),-8),"votes"),fe.u8("rootSlotValid"),fe.nu64("rootSlot"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),$t("authorizedVoter")]),fe.offset(fe.u32(),-8),"authorizedVoters"),fe.struct([fe.seq(fe.struct([$t("authorizedPubkey"),fe.nu64("epochOfLastAuthorizedSwitch"),fe.nu64("targetEpoch")]),32,"buf"),fe.nu64("idx"),fe.u8("isEmpty")],"priorVoters"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),fe.nu64("credits"),fe.nu64("prevCredits")]),fe.offset(fe.u32(),-8),"epochCredits"),fe.struct([fe.nu64("slot"),fe.nu64("timestamp")],"lastTimestamp")]);const U6=C.createContext({});function Aae(){return C.useContext(U6)}const Iae=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=C.useMemo(()=>new OT(e,n),[e,n]);return ve.createElement(U6.Provider,{value:{connection:r}},t)};var Sx={exports:{}},KN;function Cae(){return KN||(KN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,p||u,v),T=n?n+d:d;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],x]:u._events[T].push(x):(u._events[T]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,T=new Array(x);v<x;v++)T[v]=p[v].fn;return T},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,v,x,T){var _=n?n+d:d;if(!this._events[_])return!1;var E=this._events[_],N=arguments.length,L,M;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),N){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,p),!0;case 4:return E.fn.call(E.context,f,p,v),!0;case 5:return E.fn.call(E.context,f,p,v,x),!0;case 6:return E.fn.call(E.context,f,p,v,x,T),!0}for(M=1,L=new Array(N-1);M<N;M++)L[M-1]=arguments[M];E.fn.apply(E.context,L)}else{var Z=E.length,J;for(M=0;M<Z;M++)switch(E[M].once&&this.removeListener(d,E[M].fn,void 0,!0),N){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,f);break;case 3:E[M].fn.call(E[M].context,f,p);break;case 4:E[M].fn.call(E[M].context,f,p,v);break;default:if(!L)for(J=1,L=new Array(N-1);J<N;J++)L[J-1]=arguments[J];E[M].fn.apply(E[M].context,L)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,v){var x=n?n+d:d;if(!this._events[x])return this;if(!f)return o(this,x),this;var T=this._events[x];if(T.fn)T.fn===f&&(!v||T.once)&&(!p||T.context===p)&&o(this,x);else{for(var _=0,E=[],N=T.length;_<N;_++)(T[_].fn!==f||v&&!T[_].once||p&&T[_].context!==p)&&E.push(T[_]);E.length?this._events[x]=E.length===1?E[0]:E:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(Sx)),Sx.exports}var Rae=Cae();const Mae=Ol(Rae);class Nr extends Error{constructor(e,n){super(e),this.error=n}}class Gc extends Nr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Nae extends Nr{constructor(){super(...arguments),this.name="WalletLoadError"}}class yd extends Nr{constructor(){super(...arguments),this.name="WalletConfigError"}}class Yc extends Nr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class jT extends Nr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class BT extends Nr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Sc extends Nr{constructor(){super(...arguments),this.name="WalletAccountError"}}class Gd extends Nr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class rr extends Nr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class da extends Nr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ks extends Nr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class pw extends Nr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class GN extends Nr{constructor(){super(...arguments),this.name="WalletSignInError"}}var Ut;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Ut||(Ut={}));class z6 extends Mae{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new rr;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function W6(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function IE(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function fa(t){return"version"in t}class kae extends z6{async sendTransaction(e,n,r={}){let i=!0;try{if(fa(e)){if(!this.supportedTransactionVersions)throw new da("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new da(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof ks?(i=!1,s):new da(s?.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s?.length&&e.partialSign(...s),e=await this.signTransaction(e);const l=e.serialize();return await n.sendRawTransaction(l,o)}catch(s){throw s instanceof ks?(i=!1,s):new da(s?.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(fa(r)){if(!this.supportedTransactionVersions)throw new ks("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ks(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class FT extends kae{}class Pae extends FT{}const fi="solana:signAndSendTransaction",Dc="solana:signIn",sa="solana:signMessage",jn="solana:signTransaction",mw="standard:connect",l0="standard:disconnect",gw="standard:events";function Lae(t){return mw in t.features&&gw in t.features&&(fi in t.features||jn in t.features)}class YN extends Nr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Dae=[],yw={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Is("call","select")},connect(){return Promise.reject(Is("call","connect"))},disconnect(){return Promise.reject(Is("call","disconnect"))},sendTransaction(){return Promise.reject(Is("call","sendTransaction"))},signTransaction(){return Promise.reject(Is("call","signTransaction"))},signAllTransactions(){return Promise.reject(Is("call","signAllTransactions"))},signMessage(){return Promise.reject(Is("call","signMessage"))},signIn(){return Promise.reject(Is("call","signIn"))}};Object.defineProperty(yw,"wallets",{get(){return Is("read","wallets"),Dae}});Object.defineProperty(yw,"wallet",{get(){return Is("read","wallet"),null}});Object.defineProperty(yw,"publicKey",{get(){return Is("read","publicKey"),null}});function Is(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const $6=C.createContext(yw);function Bs(){return C.useContext($6)}function Oae(t,e){const n=C.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=C.useRef(!0);return C.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}var Zu={},Tx,QN;function jae(){return QN||(QN=1,Tx=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Tx}var Ax={},ol={},XN;function cu(){if(XN)return ol;XN=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ol.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ol.getSymbolTotalCodewords=function(r){return e[r]},ol.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},ol.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},ol.isKanjiModeEnabled=function(){return typeof t<"u"},ol.toSJIS=function(r){return t(r)},ol}var Ix={},ZN;function VT(){return ZN||(ZN=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Ix)),Ix}var Cx,JN;function Bae(){if(JN)return Cx;JN=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Cx=t,Cx}var Rx,ek;function Fae(){if(ek)return Rx;ek=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Rx=t,Rx}var Mx={},tk;function Vae(){return tk||(tk=1,(function(t){const e=cu().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let u=1;u<i-1;u++)l[u]=l[u-1]-o;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let l=0;l<o;l++)for(let u=0;u<o;u++)l===0&&u===0||l===0&&u===o-1||l===o-1&&u===0||i.push([s[l],s[u]]);return i}})(Mx)),Mx}var Nx={},nk;function Uae(){if(nk)return Nx;nk=1;const t=cu().getSymbolSize,e=7;return Nx.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},Nx}var kx={},rk;function zae(){return rk||(rk=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,l=0,u=0,d=null,f=null;for(let p=0;p<s;p++){l=u=0,d=f=null;for(let v=0;v<s;v++){let x=i.get(p,v);x===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=x,l=1),x=i.get(v,p),x===f?u++:(u>=5&&(o+=e.N1+(u-5)),f=x,u=1)}l>=5&&(o+=e.N1+(l-5)),u>=5&&(o+=e.N1+(u-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let l=0;l<s-1;l++)for(let u=0;u<s-1;u++){const d=i.get(l,u)+i.get(l,u+1)+i.get(l+1,u)+i.get(l+1,u+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,l=0,u=0;for(let d=0;d<s;d++){l=u=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(d,f),f>=10&&(l===1488||l===93)&&o++,u=u<<1&2047|i.get(f,d),f>=10&&(u===1488||u===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let u=0;u<o;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let l=0;l<o;l++)for(let u=0;u<o;u++)s.isReserved(u,l)||s.xor(u,l,n(i,u,l))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let l=0,u=1/0;for(let d=0;d<o;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<u&&(u=f,l=d)}return l}})(kx)),kx}var _g={},ik;function q6(){if(ik)return _g;ik=1;const t=VT(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return _g.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},_g.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},_g}var Px={},ih={},sk;function Wae(){if(sk)return ih;sk=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),ih.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},ih.exp=function(r){return t[r]},ih.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},ih}var ok;function $ae(){return ok||(ok=1,(function(t){const e=Wae();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)s[o+l]^=e.mul(r[o],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],o);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Px)),Px}var Lx,ak;function qae(){if(ak)return Lx;ak=1;const t=$ae();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(s,o),l}return s},Lx=e,Lx}var Dx={},Ox={},jx={},lk;function H6(){return lk||(lk=1,jx.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),jx}var ao={},ck;function K6(){if(ck)return ao;ck=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ao.KANJI=new RegExp(n,"g"),ao.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ao.BYTE=new RegExp(r,"g"),ao.NUMERIC=new RegExp(t,"g"),ao.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ao.testKanji=function(u){return i.test(u)},ao.testNumeric=function(u){return s.test(u)},ao.testAlphanumeric=function(u){return o.test(u)},ao}var uk;function uu(){return uk||(uk=1,(function(t){const e=H6(),n=K6();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Ox)),Ox}var dk;function Hae(){return dk||(dk=1,(function(t){const e=cu(),n=q6(),r=VT(),i=uu(),s=H6(),o=7973,l=e.getBCHDigit(o);function u(v,x,T){for(let _=1;_<=40;_++)if(x<=t.getCapacity(_,T,v))return _}function d(v,x){return i.getCharCountIndicator(v,x)+4}function f(v,x){let T=0;return v.forEach(function(_){const E=d(_.mode,x);T+=E+_.getBitsLength()}),T}function p(v,x){for(let T=1;T<=40;T++)if(f(v,T)<=t.getCapacity(T,x,i.MIXED))return T}t.from=function(x,T){return s.isValid(x)?parseInt(x,10):T},t.getCapacity=function(x,T,_){if(!s.isValid(x))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const E=e.getSymbolTotalCodewords(x),N=n.getTotalCodewordsCount(x,T),L=(E-N)*8;if(_===i.MIXED)return L;const M=L-d(_,x);switch(_){case i.NUMERIC:return Math.floor(M/10*3);case i.ALPHANUMERIC:return Math.floor(M/11*2);case i.KANJI:return Math.floor(M/13);case i.BYTE:default:return Math.floor(M/8)}},t.getBestVersionForData=function(x,T){let _;const E=r.from(T,r.M);if(Array.isArray(x)){if(x.length>1)return p(x,E);if(x.length===0)return 1;_=x[0]}else _=x;return u(_.mode,_.getLength(),E)},t.getEncodedBits=function(x){if(!s.isValid(x)||x<7)throw new Error("Invalid QR Code version");let T=x<<12;for(;e.getBCHDigit(T)-l>=0;)T^=o<<e.getBCHDigit(T)-l;return x<<12|T}})(Dx)),Dx}var Bx={},fk;function Kae(){if(fk)return Bx;fk=1;const t=cu(),e=1335,n=21522,r=t.getBCHDigit(e);return Bx.getEncodedBits=function(s,o){const l=s.bit<<3|o;let u=l<<10;for(;t.getBCHDigit(u)-r>=0;)u^=e<<t.getBCHDigit(u)-r;return(l<<10|u)^n},Bx}var Fx={},Vx,hk;function Gae(){if(hk)return Vx;hk=1;const t=uu();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,l*3+1))},Vx=e,Vx}var Ux,pk;function Yae(){if(pk)return Ux;pk=1;const t=uu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Ux=n,Ux}var zx,mk;function Qae(){if(mk)return zx;mk=1;const t=uu();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},zx=e,zx}var Wx,gk;function Xae(){if(gk)return Wx;gk=1;const t=uu(),e=cu();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},Wx=n,Wx}var $x={exports:{}},yk;function Zae(){return yk||(yk=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var u,d,f,p,v,x,T,_,E;!l.empty();){u=l.pop(),d=u.value,p=u.cost,v=n[d]||{};for(f in v)v.hasOwnProperty(f)&&(x=v[f],T=p+x,_=o[f],E=typeof o[f]>"u",(E||_>T)&&(o[f]=T,l.push(f,T),s[f]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var N=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(N)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})($x)),$x.exports}var wk;function Jae(){return wk||(wk=1,(function(t){const e=uu(),n=Gae(),r=Yae(),i=Qae(),s=Xae(),o=K6(),l=cu(),u=Zae();function d(N){return unescape(encodeURIComponent(N)).length}function f(N,L,M){const Z=[];let J;for(;(J=N.exec(M))!==null;)Z.push({data:J[0],index:J.index,mode:L,length:J[0].length});return Z}function p(N){const L=f(o.NUMERIC,e.NUMERIC,N),M=f(o.ALPHANUMERIC,e.ALPHANUMERIC,N);let Z,J;return l.isKanjiModeEnabled()?(Z=f(o.BYTE,e.BYTE,N),J=f(o.KANJI,e.KANJI,N)):(Z=f(o.BYTE_KANJI,e.BYTE,N),J=[]),L.concat(M,Z,J).sort(function(q,U){return q.index-U.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function v(N,L){switch(L){case e.NUMERIC:return n.getBitsLength(N);case e.ALPHANUMERIC:return r.getBitsLength(N);case e.KANJI:return s.getBitsLength(N);case e.BYTE:return i.getBitsLength(N)}}function x(N){return N.reduce(function(L,M){const Z=L.length-1>=0?L[L.length-1]:null;return Z&&Z.mode===M.mode?(L[L.length-1].data+=M.data,L):(L.push(M),L)},[])}function T(N){const L=[];for(let M=0;M<N.length;M++){const Z=N[M];switch(Z.mode){case e.NUMERIC:L.push([Z,{data:Z.data,mode:e.ALPHANUMERIC,length:Z.length},{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.ALPHANUMERIC:L.push([Z,{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.KANJI:L.push([Z,{data:Z.data,mode:e.BYTE,length:d(Z.data)}]);break;case e.BYTE:L.push([{data:Z.data,mode:e.BYTE,length:d(Z.data)}])}}return L}function _(N,L){const M={},Z={start:{}};let J=["start"];for(let re=0;re<N.length;re++){const q=N[re],U=[];for(let P=0;P<q.length;P++){const z=q[P],H=""+re+P;U.push(H),M[H]={node:z,lastCount:0},Z[H]={};for(let k=0;k<J.length;k++){const S=J[k];M[S]&&M[S].node.mode===z.mode?(Z[S][H]=v(M[S].lastCount+z.length,z.mode)-v(M[S].lastCount,z.mode),M[S].lastCount+=z.length):(M[S]&&(M[S].lastCount=z.length),Z[S][H]=v(z.length,z.mode)+4+e.getCharCountIndicator(z.mode,L))}}J=U}for(let re=0;re<J.length;re++)Z[J[re]].end=0;return{map:Z,table:M}}function E(N,L){let M;const Z=e.getBestModeForData(N);if(M=e.from(L,Z),M!==e.BYTE&&M.bit<Z.bit)throw new Error('"'+N+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(Z));switch(M===e.KANJI&&!l.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new n(N);case e.ALPHANUMERIC:return new r(N);case e.KANJI:return new s(N);case e.BYTE:return new i(N)}}t.fromArray=function(L){return L.reduce(function(M,Z){return typeof Z=="string"?M.push(E(Z,null)):Z.data&&M.push(E(Z.data,Z.mode)),M},[])},t.fromString=function(L,M){const Z=p(L,l.isKanjiModeEnabled()),J=T(Z),re=_(J,M),q=u.find_path(re.map,"start","end"),U=[];for(let P=1;P<q.length-1;P++)U.push(re.table[q[P]].node);return t.fromArray(x(U))},t.rawSplit=function(L){return t.fromArray(p(L,l.isKanjiModeEnabled()))}})(Fx)),Fx}var vk;function ele(){if(vk)return Ax;vk=1;const t=cu(),e=VT(),n=Bae(),r=Fae(),i=Vae(),s=Uae(),o=zae(),l=q6(),u=qae(),d=Hae(),f=Kae(),p=uu(),v=Jae();function x(re,q){const U=re.size,P=s.getPositions(q);for(let z=0;z<P.length;z++){const H=P[z][0],k=P[z][1];for(let S=-1;S<=7;S++)if(!(H+S<=-1||U<=H+S))for(let g=-1;g<=7;g++)k+g<=-1||U<=k+g||(S>=0&&S<=6&&(g===0||g===6)||g>=0&&g<=6&&(S===0||S===6)||S>=2&&S<=4&&g>=2&&g<=4?re.set(H+S,k+g,!0,!0):re.set(H+S,k+g,!1,!0))}}function T(re){const q=re.size;for(let U=8;U<q-8;U++){const P=U%2===0;re.set(U,6,P,!0),re.set(6,U,P,!0)}}function _(re,q){const U=i.getPositions(q);for(let P=0;P<U.length;P++){const z=U[P][0],H=U[P][1];for(let k=-2;k<=2;k++)for(let S=-2;S<=2;S++)k===-2||k===2||S===-2||S===2||k===0&&S===0?re.set(z+k,H+S,!0,!0):re.set(z+k,H+S,!1,!0)}}function E(re,q){const U=re.size,P=d.getEncodedBits(q);let z,H,k;for(let S=0;S<18;S++)z=Math.floor(S/3),H=S%3+U-8-3,k=(P>>S&1)===1,re.set(z,H,k,!0),re.set(H,z,k,!0)}function N(re,q,U){const P=re.size,z=f.getEncodedBits(q,U);let H,k;for(H=0;H<15;H++)k=(z>>H&1)===1,H<6?re.set(H,8,k,!0):H<8?re.set(H+1,8,k,!0):re.set(P-15+H,8,k,!0),H<8?re.set(8,P-H-1,k,!0):H<9?re.set(8,15-H-1+1,k,!0):re.set(8,15-H-1,k,!0);re.set(P-8,8,1,!0)}function L(re,q){const U=re.size;let P=-1,z=U-1,H=7,k=0;for(let S=U-1;S>0;S-=2)for(S===6&&S--;;){for(let g=0;g<2;g++)if(!re.isReserved(z,S-g)){let I=!1;k<q.length&&(I=(q[k]>>>H&1)===1),re.set(z,S-g,I),H--,H===-1&&(k++,H=7)}if(z+=P,z<0||U<=z){z-=P,P=-P;break}}}function M(re,q,U){const P=new n;U.forEach(function(g){P.put(g.mode.bit,4),P.put(g.getLength(),p.getCharCountIndicator(g.mode,re)),g.write(P)});const z=t.getSymbolTotalCodewords(re),H=l.getTotalCodewordsCount(re,q),k=(z-H)*8;for(P.getLengthInBits()+4<=k&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const S=(k-P.getLengthInBits())/8;for(let g=0;g<S;g++)P.put(g%2?17:236,8);return Z(P,re,q)}function Z(re,q,U){const P=t.getSymbolTotalCodewords(q),z=l.getTotalCodewordsCount(q,U),H=P-z,k=l.getBlocksCount(q,U),S=P%k,g=k-S,I=Math.floor(P/k),W=Math.floor(H/k),Y=W+1,K=I-W,X=new u(K);let se=0;const $=new Array(k),b=new Array(k);let R=0;const Q=new Uint8Array(re.buffer);for(let Me=0;Me<k;Me++){const Ve=Me<g?W:Y;$[Me]=Q.slice(se,se+Ve),b[Me]=X.encode($[Me]),se+=Ve,R=Math.max(R,Ve)}const ie=new Uint8Array(P);let ue=0,ce,_e;for(ce=0;ce<R;ce++)for(_e=0;_e<k;_e++)ce<$[_e].length&&(ie[ue++]=$[_e][ce]);for(ce=0;ce<K;ce++)for(_e=0;_e<k;_e++)ie[ue++]=b[_e][ce];return ie}function J(re,q,U,P){let z;if(Array.isArray(re))z=v.fromArray(re);else if(typeof re=="string"){let I=q;if(!I){const W=v.rawSplit(re);I=d.getBestVersionForData(W,U)}z=v.fromString(re,I||40)}else throw new Error("Invalid data");const H=d.getBestVersionForData(z,U);if(!H)throw new Error("The amount of data is too big to be stored in a QR Code");if(!q)q=H;else if(q<H)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+H+`.
`);const k=M(q,U,z),S=t.getSymbolSize(q),g=new r(S);return x(g,q),T(g),_(g,q),N(g,U,0),q>=7&&E(g,q),L(g,k),isNaN(P)&&(P=o.getBestMask(g,N.bind(null,g,U))),o.applyMask(P,g),N(g,U,P),{modules:g,version:q,errorCorrectionLevel:U,maskPattern:P,segments:z}}return Ax.create=function(q,U){if(typeof q>"u"||q==="")throw new Error("No input text");let P=e.M,z,H;return typeof U<"u"&&(P=e.from(U.errorCorrectionLevel,e.M),z=d.from(U.version),H=o.from(U.maskPattern),U.toSJISFunc&&t.setToSJISFunction(U.toSJISFunc)),J(q,z,P,H)},Ax}var qx={},Hx={},xk;function G6(){return xk||(xk=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,l=i.modules.data,u=t.getScale(o,s),d=Math.floor((o+s.margin*2)*u),f=s.margin*u,p=[s.color.light,s.color.dark];for(let v=0;v<d;v++)for(let x=0;x<d;x++){let T=(v*d+x)*4,_=s.color.light;if(v>=f&&x>=f&&v<d-f&&x<d-f){const E=Math.floor((v-f)/u),N=Math.floor((x-f)/u);_=p[l[E*o+N]?1:0]}r[T++]=_.r,r[T++]=_.g,r[T++]=_.b,r[T]=_.a}}})(Hx)),Hx}var bk;function tle(){return bk||(bk=1,(function(t){const e=G6();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,l){let u=l,d=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(d=r()),u=e.getOptions(u);const f=e.getImageWidth(s.modules.size,u),p=d.getContext("2d"),v=p.createImageData(f,f);return e.qrToImageData(v.data,s,u),n(p,d,f),p.putImageData(v,0,0),d},t.renderToDataURL=function(s,o,l){let u=l;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const d=t.render(s,o,u),f=u.type||"image/png",p=u.rendererOpts||{};return d.toDataURL(f,p.quality)}})(qx)),qx}var Kx={},Ek;function nle(){if(Ek)return Kx;Ek=1;const t=G6();function e(i,s){const o=i.a/255,l=s+'="'+i.hex+'"';return o<1?l+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function n(i,s,o){let l=i+s;return typeof o<"u"&&(l+=" "+o),l}function r(i,s,o){let l="",u=0,d=!1,f=0;for(let p=0;p<i.length;p++){const v=Math.floor(p%s),x=Math.floor(p/s);!v&&!d&&(d=!0),i[p]?(f++,p>0&&v>0&&i[p-1]||(l+=d?n("M",v+o,.5+x+o):n("m",u,0),u=0,d=!1),v+1<s&&i[p+1]||(l+=n("h",f),f=0)):u++}return l}return Kx.render=function(s,o,l){const u=t.getOptions(o),d=s.modules.size,f=s.modules.data,p=d+u.margin*2,v=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+e(u.color.dark,"stroke")+' d="'+r(f,d,u.margin)+'"/>',T='viewBox="0 0 '+p+" "+p+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+T+' shape-rendering="crispEdges">'+v+x+`</svg>
`;return typeof l=="function"&&l(null,E),E},Kx}var _k;function rle(){if(_k)return Zu;_k=1;const t=jae(),e=ele(),n=tle(),r=nle();function i(s,o,l,u,d){const f=[].slice.call(arguments,1),p=f.length,v=typeof f[p-1]=="function";if(!v&&!t())throw new Error("Callback required as last argument");if(v){if(p<2)throw new Error("Too few arguments provided");p===2?(d=l,l=o,o=u=void 0):p===3&&(o.getContext&&typeof d>"u"?(d=u,u=void 0):(d=u,u=l,l=o,o=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(l=o,o=u=void 0):p===2&&!o.getContext&&(u=l,l=o,o=void 0),new Promise(function(x,T){try{const _=e.create(l,u);x(s(_,o,u))}catch(_){T(_)}})}try{const x=e.create(l,u);d(null,s(x,o,u))}catch(x){d(x)}}return Zu.create=e.create,Zu.toCanvas=i.bind(null,n.render),Zu.toDataURL=i.bind(null,n.renderToDataURL),Zu.toString=i.bind(null,function(s,o,l){return r.render(s,l)}),Zu}rle();function Gx(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const fp="solana:mainnet",Y6="solana:devnet",Q6="solana:testnet",ile="solana:localnet",sle="https://api.mainnet-beta.solana.com";function ole(t){return t.includes(sle)?fp:/\bdevnet\b/i.test(t)?Y6:/\btestnet\b/i.test(t)?Q6:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?ile:fp}function ale(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}function lle(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}var cle=t=>lle({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const o=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),l=ule(o,t);return[s+l,e.length]}});function ule(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var dle="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",fle=()=>cle(dle);const Sa={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Ta extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class X6 extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function pr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,[])).next())})}function hle(t){return window.btoa(t)}function Sk(t,e){return window.btoa(String.fromCharCode.call(null,...t))}function Z6(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Yx(t,e){return pr(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function ple(t){return ale(t)}function mle(t){return hle(ple(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const gle="solana:signTransactions",Tk="solana:cloneAuthorization";function yle(t){return fle().decode(t)}function wle(t){return yle(Z6(t))}function vle(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return pr(this,void 0,void 0,function*(){const{method:s,params:o}=xle(r,i,t),l=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!l.sign_in_result&&(l.sign_in_result=yield Ele(o.sign_in_payload,l,e)),ble(r,l,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function xle(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=r;if(n==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=r;if(s)switch(n){case"legacy":{i="reauthorize",r={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function ble(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[gle];return r.supports_clone_authorization===!0&&i.push(Tk),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Tk)})}}}return e}function Ele(t,e,n){var r;return pr(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,s=e.accounts[0].address,o=mle(Object.assign(Object.assign({},t),{domain:i,address:wle(s)})),l=yield n("sign_messages",{addresses:[s],payloads:[o]}),u=Z6(l.signed_payloads[0]),d=Sk(u.slice(0,u.length-64)),f=Sk(u.slice(u.length-64));return{address:s,signed_message:d.length==0?o:d,signature:f}})}const Tc=4;function _le(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Tc);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const CE=12,J6=65;function Sle(t,e,n){return pr(this,void 0,void 0,function*(){const r=_le(e),i=new Uint8Array(CE);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(t5(r,i),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function e5(t,e){return pr(this,void 0,void 0,function*(){const n=t.slice(0,Tc),r=t.slice(Tc,Tc+CE),i=t.slice(Tc+CE),s=yield crypto.subtle.decrypt(t5(n,r),e,i);return Tle().decode(s)})}function t5(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Qx;function Tle(){return Qx===void 0&&(Qx=new TextDecoder("utf-8")),Qx}function Ale(){return pr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Xx(){return pr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Ile(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function Cle(){return n5(49152+Math.floor(Math.random()*16384))}function n5(t){if(t<49152||t>65535)throw new Ta(Sa.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Rle(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const Mle="solana-wallet";function Ak(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Nle(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if(n?.protocol!=="https:")throw new Ta(Sa.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${Mle}:/`));const r=t.startsWith("/")?t:[...Ak(n.pathname),...Ak(t)].join("/");return new URL(r,n)}function kle(t,e,n,r=["v1"]){return pr(this,void 0,void 0,function*(){const i=n5(e),s=yield crypto.subtle.exportKey("raw",t),o=Ile(s),l=Nle("v1/associate/local",n);return l.searchParams.set("association",Rle(o)),l.searchParams.set("port",`${i}`),r.forEach(u=>{l.searchParams.set("v",u)}),l})}function Ple(t,e){return pr(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return Sle(n,r,e)})}function Lle(t,e){return pr(this,void 0,void 0,function*(){const n=yield e5(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new X6(r.id,r.error.code,r.error.message);return r})}function Dle(t,e,n){return pr(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,J6),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Ole(t,e){return pr(this,void 0,void 0,function*(){const n=yield e5(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Ta(Sa.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const c0={Firefox:0,Other:1};function jle(){return navigator.userAgent.indexOf("Firefox/")!==-1?c0.Firefox:c0.Other}function Ble(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let sh=null;function Fle(t){sh==null&&(sh=document.createElement("iframe"),sh.style.display="none",document.body.appendChild(sh)),sh.contentWindow.location.href=t.toString()}function Vle(t){return pr(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=jle();switch(e){case c0.Firefox:Fle(t);break;case c0.Other:{const n=Ble();window.location.assign(t),yield n;break}default:}}catch{throw new Ta(Sa.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Ule(t,e){return pr(this,void 0,void 0,function*(){const n=Cle(),r=yield kle(t,n,e);return yield Vle(r),n})}const Ik={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},zle="com.solana.mobilewalletadapter.v1";function Wle(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ta(Sa.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function $le(t){let e;try{e=new URL(t)}catch{throw new Ta(Sa.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Ta(Sa.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Ck(t){return new DataView(t).getUint32(0,!1)}function qle(t,e){return pr(this,void 0,void 0,function*(){Wle();const n=yield Ale(),i=`ws://localhost:${yield Ule(n.publicKey,e?.baseUri)}/solana-wallet`;let s;const o=(()=>{const f=[...Ik.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let l=1,u=0,d={__type:"disconnected"};return new Promise((f,p)=>{let v;const x={},T=()=>pr(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}v.removeEventListener("open",T);const{associationKeypair:J}=d,re=yield Xx();v.send(yield Yx(re.publicKey,J.privateKey)),d={__type:"hello_req_sent",associationPublicKey:J.publicKey,ecdhPrivateKey:re.privateKey}}),_=J=>{J.wasClean?d={__type:"disconnected"}:p(new Ta(Sa.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${J.code}: ${J.reason}).`,{closeEvent:J})),L()},E=J=>pr(this,void 0,void 0,function*(){L(),Date.now()-s>=Ik.timeoutMs?p(new Ta(Sa.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(re=>{const q=o();M=window.setTimeout(re,q)}),Z())}),N=J=>pr(this,void 0,void 0,function*(){const re=yield J.data.arrayBuffer();switch(d.__type){case"connecting":if(re.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const q=yield Xx();v.send(yield Yx(q.publicKey,n.privateKey)),d={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:q.privateKey};break;case"connected":try{const U=re.slice(0,Tc),P=Ck(U);if(P!==u+1)throw new Error("Encrypted message has invalid sequence number");u=P;const z=yield Lle(re,d.sharedSecret),H=x[z.id];delete x[z.id],H.resolve(z.result)}catch(U){if(U instanceof X6){const P=x[U.jsonRpcMessageId];delete x[U.jsonRpcMessageId],P.reject(U)}else throw U}break;case"hello_req_sent":{if(re.byteLength===0){const k=yield Xx();v.send(yield Yx(k.publicKey,n.privateKey)),d={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:k.privateKey};break}const U=yield Dle(re,d.associationPublicKey,d.ecdhPrivateKey),P=re.slice(J6),z=P.byteLength!==0?yield pr(this,void 0,void 0,function*(){const k=P.slice(0,Tc),S=Ck(k);if(S!==u+1)throw new Error("Encrypted message has invalid sequence number");return u=S,Ole(P,U)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:U,sessionProperties:z};const H=vle(z.protocol_version,(k,S)=>pr(this,void 0,void 0,function*(){const g=l++;return v.send(yield Ple({id:g,jsonrpc:"2.0",method:k,params:S??{}},U)),new Promise((I,W)=>{x[g]={resolve(Y){switch(k){case"authorize":case"reauthorize":{const{wallet_uri_base:K}=Y;if(K!=null)try{$le(K)}catch(X){W(X);return}break}}I(Y)},reject:W}})}));try{f(yield t(H))}catch(k){p(k)}finally{L(),v.close()}break}}});let L,M;const Z=()=>{L&&L(),d={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),v=new WebSocket(i,[zle]),v.addEventListener("open",T),v.addEventListener("close",_),v.addEventListener("error",E),v.addEventListener("message",N),L=()=>{window.clearTimeout(M),v.removeEventListener("open",T),v.removeEventListener("close",_),v.removeEventListener("error",E),v.removeEventListener("message",N)}};Z()})})}var Zx,Rk;function Hle(){if(Rk)return Zx;Rk=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var l=e.length,u=e.charAt(0),d=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function p(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var _=0,E=0,N=0,L=T.length;N!==L&&T[N]===0;)N++,_++;for(var M=(L-N)*f+1>>>0,Z=new Uint8Array(M);N!==L;){for(var J=T[N],re=0,q=M-1;(J!==0||re<E)&&q!==-1;q--,re++)J+=256*Z[q]>>>0,Z[q]=J%l>>>0,J=J/l>>>0;if(J!==0)throw new Error("Non-zero carry");E=re,N++}for(var U=M-E;U!==M&&Z[U]===0;)U++;for(var P=u.repeat(_);U<M;++U)P+=e.charAt(Z[U]);return P}function v(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var _=0,E=0,N=0;T[_]===u;)E++,_++;for(var L=(T.length-_)*d+1>>>0,M=new Uint8Array(L);T[_];){var Z=T.charCodeAt(_);if(Z>255)return;var J=n[Z];if(J===255)return;for(var re=0,q=L-1;(J!==0||re<N)&&q!==-1;q--,re++)J+=l*M[q]>>>0,M[q]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");N=re,_++}for(var U=L-N;U!==L&&M[U]===0;)U++;for(var P=new Uint8Array(E+(L-U)),z=E;U!==L;)P[z++]=M[U++];return P}function x(T){var _=v(T);if(_)return _;throw new Error("Non-base"+l+" character")}return{encode:p,decodeUnsafe:v,decode:x}}return Zx=t,Zx}var Jx,Mk;function Kle(){return Mk||(Mk=1,Jx=Hle()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Jx}var Gle=Kle();const RE=Ol(Gle);function Dn(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,[])).next())})}function ke(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function lr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var fh,br,fc,sd,r5,i5,s5,Yg;const Yle=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Qle=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,Xle=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Zle{constructor(){fh.add(this),br.set(this,null),fc.set(this,{}),sd.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),ke(this,fh,"m",i5).call(this),ke(this,br,"f")&&(ke(this,br,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),ke(this,fh,"m",s5).call(this),ke(this,br,"f")&&(ke(this,br,"f").style.display="none"),(n=ke(this,fc,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Yg.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),lr(this,br,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Dn(this,void 0,void 0,function*(){console.log("Injecting modal"),ke(this,fh,"m",r5).call(this)})}addEventListener(e,n){var r;return!((r=ke(this,fc,"f")[e])===null||r===void 0)&&r.push(n)||(ke(this,fc,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;ke(this,fc,"f")[e]=(r=ke(this,fc,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}br=new WeakMap,fc=new WeakMap,sd=new WeakMap,Yg=new WeakMap,fh=new WeakSet,r5=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){ke(this,br,"f")||lr(this,br,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}lr(this,br,document.createElement("div")),ke(this,br,"f").id="mobile-wallet-adapter-embedded-root-ui",ke(this,br,"f").innerHTML=Yle,ke(this,br,"f").style.display="none";const e=ke(this,br,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=Qle+this.contentStyles;const r=document.createElement("div");r.innerHTML=Xle,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(ke(this,br,"f")),document.body.appendChild(r)},i5=function(){if(!ke(this,br,"f")||ke(this,sd,"f"))return;[...ke(this,br,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",ke(this,Yg,"f")),lr(this,sd,!0)},s5=function(){if(!ke(this,sd,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",ke(this,Yg,"f")),!ke(this,br,"f")))return;[...ke(this,br,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.removeEventListener("click",this.close)),lr(this,sd,!1)};const Jle="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function Sg(t){return window.btoa(String.fromCharCode.call(null,...t))}function al(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var od,Ac,ME,NE,kE,PE,hh,ii,Jo,ul,ad,hc,Qg,ph,Xg,LE,Zg,o5,DE,Jg,ld,ey,mh,ty,cd,gh,ny,OE,jE,ry,iy,BE,FE,sy;const a5="Mobile Wallet Adapter",ece=64,tce=[fi,jn,sa,Dc];class nce{constructor(e){od.add(this),Ac.set(this,{}),ME.set(this,"1.0.0"),NE.set(this,a5),kE.set(this,"https://solanamobile.com/wallets"),PE.set(this,Jle),hh.set(this,void 0),ii.set(this,void 0),Jo.set(this,void 0),ul.set(this,!1),ad.set(this,0),hc.set(this,[]),Qg.set(this,void 0),ph.set(this,void 0),Xg.set(this,void 0),LE.set(this,(n,r)=>{var i;return!((i=ke(this,Ac,"f")[n])===null||i===void 0)&&i.push(r)||(ke(this,Ac,"f")[n]=[r]),()=>ke(this,od,"m",o5).call(this,n,r)}),DE.set(this,({silent:n}={})=>Dn(this,void 0,void 0,function*(){if(ke(this,ul,"f")||this.connected)return{accounts:this.accounts};lr(this,ul,!0);try{if(n){const r=yield ke(this,Jo,"f").get();if(r)yield ke(this,ey,"f").call(this,r.capabilities),yield ke(this,ld,"f").call(this,r);else return{accounts:this.accounts}}else yield ke(this,Jg,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{lr(this,ul,!1)}return{accounts:this.accounts}})),Jg.set(this,n=>Dn(this,void 0,void 0,function*(){try{const r=yield ke(this,Jo,"f").get();if(r)return ke(this,ld,"f").call(this,r),r;const i=yield ke(this,Qg,"f").select(ke(this,hc,"f"));return yield ke(this,cd,"f").call(this,s=>Dn(this,void 0,void 0,function*(){const[o,l]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:ke(this,hh,"f"),sign_in_payload:n})]),u=ke(this,ny,"f").call(this,l.accounts),d=Object.assign(Object.assign({},l),{accounts:u,chain:i,capabilities:o});return Promise.all([ke(this,ey,"f").call(this,o),ke(this,Jo,"f").set(d),ke(this,ld,"f").call(this,d)]),d}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),ld.set(this,n=>Dn(this,void 0,void 0,function*(){var r;const i=ke(this,ii,"f")==null||((r=ke(this,ii,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||ke(this,ii,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);lr(this,ii,n),i&&ke(this,od,"m",Zg).call(this,"change",{accounts:this.accounts})})),ey.set(this,n=>Dn(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,s=fi in this.features!==i||jn in this.features!==r;lr(this,ph,Object.assign(Object.assign({},(i||!i&&!r)&&{[fi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ke(this,ry,"f")}}),r&&{[jn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ke(this,iy,"f")}})),s&&ke(this,od,"m",Zg).call(this,"change",{features:this.features})})),mh.set(this,(n,r,i)=>Dn(this,void 0,void 0,function*(){var s,o;try{const[l,u]=yield Promise.all([(o=(s=ke(this,ii,"f"))===null||s===void 0?void 0:s.capabilities)!==null&&o!==void 0?o:yield n.getCapabilities(),n.authorize({auth_token:r,identity:ke(this,hh,"f"),chain:i})]),d=ke(this,ny,"f").call(this,u.accounts),f=Object.assign(Object.assign({},u),{accounts:d,chain:i,capabilities:l});Promise.all([ke(this,Jo,"f").set(f),ke(this,ld,"f").call(this,f)])}catch(l){throw ke(this,ty,"f").call(this),new Error(l instanceof Error&&l.message||"Unknown error")}})),ty.set(this,()=>Dn(this,void 0,void 0,function*(){var n;ke(this,Jo,"f").clear(),lr(this,ul,!1),lr(this,ad,(n=ke(this,ad,"f"),n++,n)),lr(this,ii,void 0),ke(this,od,"m",Zg).call(this,"change",{accounts:this.accounts})})),cd.set(this,n=>Dn(this,void 0,void 0,function*(){var r;const i=(r=ke(this,ii,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=i?{baseUri:i}:void 0,o=ke(this,ad,"f");try{return yield qle(n,s)}catch(l){throw ke(this,ad,"f")!==o&&(yield new Promise(()=>{})),l instanceof Error&&l.name==="SolanaMobileWalletAdapterError"&&l.code==="ERROR_WALLET_NOT_FOUND"&&(yield ke(this,Xg,"f").call(this,this)),l}})),gh.set(this,()=>{if(!ke(this,ii,"f"))throw new Error("Wallet not connected");return{authToken:ke(this,ii,"f").auth_token,chain:ke(this,ii,"f").chain}}),ny.set(this,n=>n.map(r=>{var i,s;const o=al(r.address);return{address:RE.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:ke(this,hc,"f"),features:(s=r.features)!==null&&s!==void 0?s:tce}})),OE.set(this,n=>Dn(this,void 0,void 0,function*(){const{authToken:r,chain:i}=ke(this,gh,"f").call(this);try{const s=n.map(o=>Sg(o));return yield ke(this,cd,"f").call(this,o=>Dn(this,void 0,void 0,function*(){return yield ke(this,mh,"f").call(this,o,r,i),(yield o.signTransactions({payloads:s})).signed_payloads.map(al)}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),jE.set(this,(n,r)=>Dn(this,void 0,void 0,function*(){const{authToken:i,chain:s}=ke(this,gh,"f").call(this);try{return yield ke(this,cd,"f").call(this,o=>Dn(this,void 0,void 0,function*(){const[l,u]=yield Promise.all([o.getCapabilities(),ke(this,mh,"f").call(this,o,i,s)]);if(l.supports_sign_and_send_transactions){const d=Sg(n);return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[d]}))).signatures.map(al)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),ry.set(this,(...n)=>Dn(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=yield ke(this,jE,"f").call(this,i.transaction,i.options);r.push({signature:s})}return r})),iy.set(this,(...n)=>Dn(this,void 0,void 0,function*(){return(yield ke(this,OE,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),BE.set(this,(...n)=>Dn(this,void 0,void 0,function*(){const{authToken:r,chain:i}=ke(this,gh,"f").call(this),s=n.map(({account:l})=>Sg(l.publicKey)),o=n.map(({message:l})=>Sg(l));try{return yield ke(this,cd,"f").call(this,l=>Dn(this,void 0,void 0,function*(){return yield ke(this,mh,"f").call(this,l,r,i),(yield l.signMessages({addresses:s,payloads:o})).signed_payloads.map(al).map(d=>({signedMessage:d,signature:d.slice(-ece)}))}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),FE.set(this,(...n)=>Dn(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield ke(this,sy,"f").call(this,i));else return[yield ke(this,sy,"f").call(this,n[0])];return r})),sy.set(this,n=>Dn(this,void 0,void 0,function*(){var r,i,s;lr(this,ul,!0);try{const o=yield ke(this,Jg,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n?.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const l=o.sign_in_result.address,u=o.accounts.find(d=>d.address==l);return{account:Object.assign(Object.assign({},u??{address:RE.encode(al(l))}),{publicKey:al(l),chains:(i=u?.chains)!==null&&i!==void 0?i:ke(this,hc,"f"),features:(s=u?.features)!==null&&s!==void 0?s:o.capabilities.features}),signedMessage:al(o.sign_in_result.signed_message),signature:al(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{lr(this,ul,!1)}})),lr(this,Jo,e.authorizationCache),lr(this,hh,e.appIdentity),lr(this,hc,e.chains),lr(this,Qg,e.chainSelector),lr(this,Xg,e.onWalletNotFound),lr(this,ph,{[fi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ke(this,ry,"f")},[jn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ke(this,iy,"f")}})}get version(){return ke(this,ME,"f")}get name(){return ke(this,NE,"f")}get url(){return ke(this,kE,"f")}get icon(){return ke(this,PE,"f")}get chains(){return ke(this,hc,"f")}get features(){return Object.assign({[mw]:{version:"1.0.0",connect:ke(this,DE,"f")},[l0]:{version:"1.0.0",disconnect:ke(this,ty,"f")},[gw]:{version:"1.0.0",on:ke(this,LE,"f")},[sa]:{version:"1.0.0",signMessage:ke(this,BE,"f")},[Dc]:{version:"1.0.0",signIn:ke(this,FE,"f")}},ke(this,ph,"f"))}get accounts(){var e,n;return(n=(e=ke(this,ii,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!ke(this,ii,"f")}get isAuthorized(){return!!ke(this,ii,"f")}get currentAuthorization(){return ke(this,ii,"f")}get cachedAuthorizationResult(){return ke(this,Jo,"f").get()}}Ac=new WeakMap,ME=new WeakMap,NE=new WeakMap,kE=new WeakMap,PE=new WeakMap,hh=new WeakMap,ii=new WeakMap,Jo=new WeakMap,ul=new WeakMap,ad=new WeakMap,hc=new WeakMap,Qg=new WeakMap,ph=new WeakMap,Xg=new WeakMap,LE=new WeakMap,DE=new WeakMap,Jg=new WeakMap,ld=new WeakMap,ey=new WeakMap,mh=new WeakMap,ty=new WeakMap,cd=new WeakMap,gh=new WeakMap,ny=new WeakMap,OE=new WeakMap,jE=new WeakMap,ry=new WeakMap,iy=new WeakMap,BE=new WeakMap,FE=new WeakMap,sy=new WeakMap,od=new WeakSet,Zg=function(e,...n){var r;(r=ke(this,Ac,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},o5=function(e,n){var r;ke(this,Ac,"f")[e]=(r=ke(this,Ac,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};const rce="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",ice="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class sce extends Zle{constructor(){super(...arguments),this.contentStyles=ace,this.contentHtml=oce}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),s=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=rce,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=ice,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const oce=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,ace=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function lce(){return Dn(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new sce;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const eb="SolanaMobileWalletAdapterDefaultAuthorizationCache";function cce(){let t;try{t=window.localStorage}catch{}return{clear(){return Dn(this,void 0,void 0,function*(){if(t)try{t.removeItem(eb)}catch{}})},get(){return Dn(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(eb));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):RE.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Dn(this,void 0,void 0,function*(){if(t)try{t.setItem(eb,JSON.stringify(e))}catch{}})}}}function uce(){return{select(t){return Dn(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(fp)?fp:t[0]})}}}function Tn(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,[])).next())})}function yt(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Vi(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const VE="standard:connect",dce="standard:disconnect",fce="standard:events";function tb(t){return window.btoa(String.fromCharCode.call(null,...t))}function hce(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Ir,Un,ml,oa,oy,ta,pc,UE,zE,l5,u0,ay,dl;const ly=a5,pce=64;function mce(t){return"version"in t}function c5(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class gce extends Pae{constructor(e,n){super(),Ir.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Un.set(this,void 0),ml.set(this,!1),oa.set(this,hce()?Ut.Loadable:Ut.Unsupported),oy.set(this,void 0),ta.set(this,void 0),pc.set(this,void 0),UE.set(this,r=>Tn(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){yt(this,Ir,"m",l5).call(this);const i=yield yt(this,oy,"f").call(this,r.accounts);i!==yt(this,ta,"f")&&(Vi(this,ta,i),Vi(this,pc,void 0),this.emit("connect",this.publicKey))}})),Vi(this,oy,r=>Tn(this,void 0,void 0,function*(){var i;const s=yield n.addressSelector.select(r.map(({publicKey:o})=>tb(o)));return(i=r.find(({publicKey:o})=>tb(o)===s))!==null&&i!==void 0?i:r[0]})),Vi(this,Un,e),yt(this,Un,"f").features[fce].on("change",yt(this,UE,"f")),this.name=yt(this,Un,"f").name,this.icon=yt(this,Un,"f").icon,this.url=yt(this,Un,"f").url}get publicKey(){var e;if(!yt(this,pc,"f")&&yt(this,ta,"f"))try{Vi(this,pc,new Xe(yt(this,ta,"f").publicKey),"f")}catch(n){throw new Gd(n instanceof Error&&n?.message||"Unknown error",n)}return(e=yt(this,pc,"f"))!==null&&e!==void 0?e:null}get connected(){return yt(this,Un,"f").connected}get connecting(){return yt(this,ml,"f")}get readyState(){return yt(this,oa,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Tn(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Tn(this,void 0,void 0,function*(){yt(this,Ir,"m",zE).call(this,!0)})}connect(){return Tn(this,void 0,void 0,function*(){yt(this,Ir,"m",zE).call(this)})}performAuthorization(e){return Tn(this,void 0,void 0,function*(){try{const n=yield yt(this,Un,"f").cachedAuthorizationResult;return n?(yield yt(this,Un,"f").features[VE].connect({silent:!0}),n):(e?yield yt(this,Un,"f").features[Dc].signIn(e):yield yt(this,Un,"f").features[VE].connect(),yield yield yt(this,Un,"f").cachedAuthorizationResult)}catch(n){throw new Yc(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){Vi(this,ml,!1),Vi(this,pc,void 0),Vi(this,ta,void 0),yield yt(this,Un,"f").features[dce].disconnect(),this.emit("disconnect")}))})}signIn(e){return Tn(this,void 0,void 0,function*(){return yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){var n;if(yt(this,oa,"f")!==Ut.Installed&&yt(this,oa,"f")!==Ut.Loadable)throw new Gc;Vi(this,ml,!0);try{const r=yield yt(this,Un,"f").features[Dc].signIn(Object.assign(Object.assign({},e),{domain:(n=e?.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Yc(r instanceof Error&&r.message||"Unknown error",r)}finally{Vi(this,ml,!1)}}))})}signMessage(e){return Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){const n=yt(this,Ir,"m",u0).call(this);try{return(yield yt(this,Un,"f").features[sa].signMessage({account:n,message:e}))[0].signature}catch(r){throw new pw(r?.message,r)}}))})}sendTransaction(e,n,r){return Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){const i=yt(this,Ir,"m",u0).call(this);try{let s=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let l;switch(r?.preflightCommitment){case"confirmed":case"finalized":case"processed":l=r.preflightCommitment;break;case void 0:l=o;break;default:l="finalized"}return(l==="finalized"?2:l==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?l:o};if(fi in yt(this,Un,"f").features){const o=c5(yt(this,Un,"f").currentAuthorization.chain),[l]=(yield yt(this,Un,"f").features[fi].signAndSendTransaction({account:i,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((u=>tb(u.signature)));return l}else{const[o]=yield yt(this,Ir,"m",ay).call(this,[e]);if(mce(o))return yield n.sendTransaction(o);{const l=o.serialize();return yield n.sendRawTransaction(l,Object.assign(Object.assign({},r),{preflightCommitment:s()}))}}}catch(s){throw new da(s?.message,s)}}))})}signTransaction(e){return Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){const[n]=yield yt(this,Ir,"m",ay).call(this,[e]);return n}))})}signAllTransactions(e){return Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){return yield yt(this,Ir,"m",ay).call(this,e)}))})}}Un=new WeakMap,ml=new WeakMap,oa=new WeakMap,oy=new WeakMap,ta=new WeakMap,pc=new WeakMap,UE=new WeakMap,Ir=new WeakSet,zE=function(e=!1){return Tn(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield yt(this,Ir,"m",dl).call(this,()=>Tn(this,void 0,void 0,function*(){if(yt(this,oa,"f")!==Ut.Installed&&yt(this,oa,"f")!==Ut.Loadable)throw new Gc;Vi(this,ml,!0);try{yield yt(this,Un,"f").features[VE].connect({silent:e})}catch(n){throw new Yc(n instanceof Error&&n.message||"Unknown error",n)}finally{Vi(this,ml,!1)}}))})},l5=function(){yt(this,oa,"f")!==Ut.Installed&&this.emit("readyStateChange",Vi(this,oa,Ut.Installed))},u0=function(){if(!yt(this,Un,"f").isAuthorized||!yt(this,ta,"f"))throw new rr;return yt(this,ta,"f")},ay=function(e){return Tn(this,void 0,void 0,function*(){const n=yt(this,Ir,"m",u0).call(this);try{if(jn in yt(this,Un,"f").features)return yt(this,Un,"f").features[jn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const s=i.signedTransaction,l=s[0]*pce+1;return NT.deserializeMessageVersion(s.slice(l,s.length))==="legacy"?Ri.from(s):cp.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ks(r?.message,r)}})},dl=function(e){return Tn(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class yce extends gce{constructor(e){var n;const r=c5((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new nce({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Tn(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:uce(),onWalletNotFound:()=>Tn(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class wce extends yce{}function vce(){return{select(t){return Tn(this,void 0,void 0,function*(){return t[0]})}}}function xce(){return cce()}function bce(t){return Tn(this,void 0,void 0,function*(){return lce()})}function Ece(){return bce}var _ce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Sce=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},cy;function Tce(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new Ace(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class Ace extends Event{get detail(){return _ce(this,cy,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),cy.set(this,void 0),Sce(this,cy,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}cy=new WeakMap;function Ice(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Cce(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const f=t.charAt(d),p=f.charCodeAt(0);if(e[p]!==255)throw new TypeError(f+" is ambiguous");e[p]=d}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let f=0,p=0,v=0;const x=d.length;for(;v!==x&&d[v]===0;)v++,f++;const T=(x-v)*s+1>>>0,_=new Uint8Array(T);for(;v!==x;){let L=d[v],M=0;for(let Z=T-1;(L!==0||M<p)&&Z!==-1;Z--,M++)L+=256*_[Z]>>>0,_[Z]=L%n>>>0,L=L/n>>>0;if(L!==0)throw new Error("Non-zero carry");p=M,v++}let E=T-p;for(;E!==T&&_[E]===0;)E++;let N=r.repeat(f);for(;E<T;++E)N+=t.charAt(_[E]);return N}function l(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let f=0,p=0,v=0;for(;d[f]===r;)p++,f++;const x=(d.length-f)*i+1>>>0,T=new Uint8Array(x);for(;f<d.length;){const L=d.charCodeAt(f);if(L>255)return;let M=e[L];if(M===255)return;let Z=0;for(let J=x-1;(M!==0||Z<v)&&J!==-1;J--,Z++)M+=n*T[J]>>>0,T[J]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");v=Z,f++}let _=x-v;for(;_!==x&&T[_]===0;)_++;const E=new Uint8Array(p+(x-_));let N=p;for(;_!==x;)E[N++]=T[_++];return E}function u(d){const f=l(d);if(f)return f;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:l,decode:u}}var Rce="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Mce=Cce(Rce);var rt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},cr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ur,Ci,Ic,Cc,mc,yh,d0,on,f0,WE,uy,$E,Dh,qE,Nk,kk,Pk,Lk;class Nce extends z6{get name(){return rt(this,on,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return rt(this,on,"f").icon}get readyState(){return rt(this,f0,"f")}get publicKey(){return rt(this,Ic,"f")}get connecting(){return rt(this,Cc,"f")}get supportedTransactionVersions(){return rt(this,d0,"f")}get wallet(){return rt(this,on,"f")}get standard(){return!0}constructor({wallet:e}){super(),Ur.add(this),Ci.set(this,void 0),Ic.set(this,void 0),Cc.set(this,void 0),mc.set(this,void 0),yh.set(this,void 0),d0.set(this,void 0),on.set(this,void 0),f0.set(this,typeof window>"u"||typeof document>"u"?Ut.Unsupported:Ut.Installed),qE.set(this,n=>{if("accounts"in n){const r=rt(this,on,"f").accounts[0];rt(this,Ci,"f")&&!rt(this,mc,"f")&&r!==rt(this,Ci,"f")&&(r?rt(this,Ur,"m",uy).call(this,r):(this.emit("error",new jT),rt(this,Ur,"m",$E).call(this)))}"features"in n&&rt(this,Ur,"m",Dh).call(this)}),cr(this,on,e,"f"),cr(this,Ci,null,"f"),cr(this,Ic,null,"f"),cr(this,Cc,!1,"f"),cr(this,mc,!1,"f"),cr(this,yh,rt(this,on,"f").features[gw].on("change",rt(this,qE,"f")),"f"),rt(this,Ur,"m",Dh).call(this)}destroy(){cr(this,Ci,null,"f"),cr(this,Ic,null,"f"),cr(this,Cc,!1,"f"),cr(this,mc,!1,"f");const e=rt(this,yh,"f");e&&(cr(this,yh,null,"f"),e())}async autoConnect(){return rt(this,Ur,"m",WE).call(this,{silent:!0})}async connect(){return rt(this,Ur,"m",WE).call(this)}async disconnect(){if(l0 in rt(this,on,"f").features)try{cr(this,mc,!0,"f"),await rt(this,on,"f").features[l0].disconnect()}catch(e){this.emit("error",new BT(e?.message,e))}finally{cr(this,mc,!1,"f")}rt(this,Ur,"m",$E).call(this)}async sendTransaction(e,n,r={}){try{const i=rt(this,Ci,"f");if(!i)throw new rr;let s;if(fi in rt(this,on,"f").features)if(i.features.includes(fi))s=fi;else if(jn in rt(this,on,"f").features&&i.features.includes(jn))s=jn;else throw new Sc;else if(jn in rt(this,on,"f").features){if(!i.features.includes(jn))throw new Sc;s=jn}else throw new yd;const o=ole(n.rpcEndpoint);if(!i.chains.includes(o))throw new da;try{const{signers:l,...u}=r;let d;if(fa(e)?(l?.length&&e.sign(l),d=e.serialize()):(e=await this.prepareTransaction(e,n,u),l?.length&&e.partialSign(...l),d=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===fi){const[f]=await rt(this,on,"f").features[fi].signAndSendTransaction({account:i,chain:o,transaction:d,options:{preflightCommitment:Gx(u.preflightCommitment||n.commitment),skipPreflight:u.skipPreflight,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot}});return Mce.encode(f.signature)}else{const[f]=await rt(this,on,"f").features[jn].signTransaction({account:i,chain:o,transaction:d,options:{preflightCommitment:Gx(u.preflightCommitment||n.commitment),minContextSlot:u.minContextSlot}});return await n.sendRawTransaction(f.signedTransaction,{...u,preflightCommitment:Gx(u.preflightCommitment||n.commitment)})}}catch(l){throw l instanceof Nr?l:new da(l?.message,l)}}catch(i){throw this.emit("error",i),i}}}Ci=new WeakMap,Ic=new WeakMap,Cc=new WeakMap,mc=new WeakMap,yh=new WeakMap,d0=new WeakMap,on=new WeakMap,f0=new WeakMap,qE=new WeakMap,Ur=new WeakSet,WE=async function(e){try{if(this.connected||this.connecting)return;if(rt(this,f0,"f")!==Ut.Installed)throw new Gc;if(cr(this,Cc,!0,"f"),!rt(this,on,"f").accounts.length)try{await rt(this,on,"f").features[mw].connect(e)}catch(r){throw new Yc(r?.message,r)}const n=rt(this,on,"f").accounts[0];if(!n)throw new Sc;rt(this,Ur,"m",uy).call(this,n)}catch(n){throw this.emit("error",n),n}finally{cr(this,Cc,!1,"f")}},uy=function(e){let n;try{n=new Xe(e.address)}catch(r){throw new Gd(r?.message,r)}cr(this,Ci,e,"f"),cr(this,Ic,n,"f"),rt(this,Ur,"m",Dh).call(this),this.emit("connect",n)},$E=function(){cr(this,Ci,null,"f"),cr(this,Ic,null,"f"),rt(this,Ur,"m",Dh).call(this),this.emit("disconnect")},Dh=function(){const e=fi in rt(this,on,"f").features?rt(this,on,"f").features[fi].supportedTransactionVersions:rt(this,on,"f").features[jn].supportedTransactionVersions;cr(this,d0,Ice(e,["legacy"])?null:new Set(e),"f"),jn in rt(this,on,"f").features&&rt(this,Ci,"f")?.features.includes(jn)?(this.signTransaction=rt(this,Ur,"m",Nk),this.signAllTransactions=rt(this,Ur,"m",kk)):(delete this.signTransaction,delete this.signAllTransactions),sa in rt(this,on,"f").features&&rt(this,Ci,"f")?.features.includes(sa)?this.signMessage=rt(this,Ur,"m",Pk):delete this.signMessage,Dc in rt(this,on,"f").features?this.signIn=rt(this,Ur,"m",Lk):delete this.signIn},Nk=async function(e){try{const n=rt(this,Ci,"f");if(!n)throw new rr;if(!(jn in rt(this,on,"f").features))throw new yd;if(!n.features.includes(jn))throw new Sc;try{const i=(await rt(this,on,"f").features[jn].signTransaction({account:n,transaction:fa(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return fa(e)?cp.deserialize(i):Ri.from(i)}catch(r){throw r instanceof Nr?r:new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}},kk=async function(e){try{const n=rt(this,Ci,"f");if(!n)throw new rr;if(!(jn in rt(this,on,"f").features))throw new yd;if(!n.features.includes(jn))throw new Sc;try{const r=await rt(this,on,"f").features[jn].signTransaction(...e.map(i=>({account:n,transaction:fa(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return fa(i)?cp.deserialize(o):Ri.from(o)})}catch(r){throw new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}},Pk=async function(e){try{const n=rt(this,Ci,"f");if(!n)throw new rr;if(!(sa in rt(this,on,"f").features))throw new yd;if(!n.features.includes(sa))throw new Sc;try{return(await rt(this,on,"f").features[sa].signMessage({account:n,message:e}))[0].signature}catch(r){throw new pw(r?.message,r)}}catch(n){throw this.emit("error",n),n}},Lk=async function(e={}){try{if(!(Dc in rt(this,on,"f").features))throw new yd;let n;try{[n]=await rt(this,on,"f").features[Dc].signIn(e)}catch(r){throw new GN(r?.message,r)}if(!n)throw new GN;return rt(this,Ur,"m",uy).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const kce=Lae;var Pce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lce=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},dy;let Ui;const ww=new Set;function Dce(t){Oh=void 0,ww.add(t)}function Oce(t){Oh=void 0,ww.delete(t)}const wd={};function jce(){if(Ui||(Ui=Object.freeze({register:Dk,get:Bce,on:Fce}),typeof window>"u"))return Ui;const t=Object.freeze({register:Dk});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Vce(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Ui}function Dk(...t){return t=t.filter(e=>!ww.has(e)),t.length?(t.forEach(e=>Dce(e)),wd.register?.forEach(e=>HE(()=>e(...t))),function(){t.forEach(n=>Oce(n)),wd.unregister?.forEach(n=>HE(()=>n(...t)))}):()=>{}}let Oh;function Bce(){return Oh||(Oh=[...ww]),Oh}function Fce(t,e){return wd[t]?.push(e)||(wd[t]=[e]),function(){wd[t]=wd[t]?.filter(r=>e!==r)}}function HE(t){try{t()}catch(e){console.error(e)}}class Vce extends Event{get detail(){return Pce(this,dy,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),dy.set(this,void 0),Lce(this,dy,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}dy=new WeakMap;function Uce(){if(Ui||(Ui=jce(),typeof window>"u"))return Ui;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Ui;const{register:e}=Ui,n=(...r)=>r.forEach(i=>HE(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Ui}return n(...t),Ui}function zce(t){const e=Ok(()=>new Set),{get:n,on:r}=Ok(()=>Uce()),[i,s]=C.useState(()=>jk(n()));C.useEffect(()=>{const l=[r("register",(...u)=>s(d=>[...d,...jk(u)])),r("unregister",(...u)=>s(d=>d.filter(f=>u.some(p=>p===f.wallet))))];return()=>l.forEach(u=>u())},[r]);const o=Wce(i);return C.useEffect(()=>{if(!o)return;const l=new Set(i);new Set(o.filter(d=>!l.has(d))).forEach(d=>d.destroy())},[o,i]),C.useEffect(()=>()=>i.forEach(l=>l.destroy()),[]),C.useMemo(()=>[...i,...t.filter(({name:l})=>i.some(u=>u.name===l)?(e.has(l)||(e.add(l),console.warn(`${l} was registered as a Standard Wallet. The Wallet Adapter for ${l} can be removed from your app.`)),!1):!0)],[i,t,e])}function Ok(t){const e=C.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function Wce(t){const e=C.useRef(void 0);return C.useEffect(()=>{e.current=t}),e.current}function jk(t){return t.filter(kce).map(e=>new Nce({wallet:e}))}var Nd;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Nd||(Nd={}));function $ce(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function qce({adapters:t,userAgentString:e}){return t.some(n=>n.name!==ly&&n.readyState===Ut.Installed)?Nd.DESKTOP_WEB:e&&/android/i.test(e)&&!$ce(e)?Nd.MOBILE_WEB:Nd.DESKTOP_WEB}function Hce(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function Kce({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:l}){const u=C.useRef(!1),[d,f]=C.useState(!1),p=C.useRef(!1),[v,x]=C.useState(!1),[T,_]=C.useState(()=>n?.publicKey??null),[E,N]=C.useState(()=>n?.connected??!1),L=C.useRef(o);C.useEffect(()=>(L.current=o,()=>{L.current=void 0}),[o]);const M=C.useRef((I,W)=>(r.current||(L.current?L.current(I,W):(console.error(I,W),I instanceof Gc&&typeof window<"u"&&W&&window.open(W.url,"_blank"))),I)),[Z,J]=C.useState(()=>e.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Ut.Unsupported));C.useEffect(()=>{J(W=>e.map((Y,K)=>{const X=W[K];return X&&X.adapter===Y&&X.readyState===Y.readyState?X:{adapter:Y,readyState:Y.readyState}}).filter(({readyState:Y})=>Y!==Ut.Unsupported));function I(W){J(Y=>{const K=Y.findIndex(({adapter:se})=>se===this);if(K===-1)return Y;const{adapter:X}=Y[K];return[...Y.slice(0,K),{adapter:X,readyState:W},...Y.slice(K+1)].filter(({readyState:se})=>se!==Ut.Unsupported)})}return e.forEach(W=>W.on("readyStateChange",I,W)),()=>{e.forEach(W=>W.off("readyStateChange",I,W))}},[n,e]);const re=C.useMemo(()=>Z.find(I=>I.adapter===n)??null,[n,Z]);C.useEffect(()=>{if(!n)return;const I=K=>{_(K),u.current=!1,f(!1),N(!0),p.current=!1,x(!1)},W=()=>{r.current||(_(null),u.current=!1,f(!1),N(!1),p.current=!1,x(!1))},Y=K=>{M.current(K,n)};return n.on("connect",I),n.on("disconnect",W),n.on("error",Y),()=>{n.off("connect",I),n.off("disconnect",W),n.off("error",Y),W()}},[n,r]);const q=C.useRef(!1);C.useEffect(()=>()=>{q.current=!1},[n]),C.useEffect(()=>{q.current||u.current||E||!i||!(re?.readyState===Ut.Installed||re?.readyState===Ut.Loadable)||(u.current=!0,f(!0),q.current=!0,(async function(){try{await i()}catch{s()}finally{f(!1),u.current=!1}})())},[E,i,s,re]);const U=C.useCallback(async(I,W,Y)=>{if(!n)throw M.current(new YN);if(!E)throw M.current(new rr,n);return await n.sendTransaction(I,W,Y)},[n,E]),P=C.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!E)throw M.current(new rr,n);return await n.signTransaction(I)}:void 0,[n,E]),z=C.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!E)throw M.current(new rr,n);return await n.signAllTransactions(I)}:void 0,[n,E]),H=C.useMemo(()=>n&&"signMessage"in n?async I=>{if(!E)throw M.current(new rr,n);return await n.signMessage(I)}:void 0,[n,E]),k=C.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),S=C.useCallback(async()=>{if(u.current||p.current||re?.adapter.connected)return;if(!re)throw M.current(new YN);const{adapter:I,readyState:W}=re;if(!(W===Ut.Installed||W===Ut.Loadable))throw M.current(new Gc,I);u.current=!0,f(!0);try{await I.connect()}catch(Y){throw s(),Y}finally{f(!1),u.current=!1}},[s,re]),g=C.useCallback(async()=>{if(!p.current&&n){p.current=!0,x(!0);try{await n.disconnect()}finally{x(!1),p.current=!1}}},[n]);return ve.createElement($6.Provider,{value:{autoConnect:!!i,wallets:Z,wallet:re,publicKey:T,connected:E,connecting:d,disconnecting:v,select:l,connect:S,disconnect:g,sendTransaction:U,signTransaction:P,signAllTransactions:z,signMessage:H,signIn:k}},t)}let nb;function Gce(){return nb===void 0&&(nb=globalThis.navigator?.userAgent??null),nb}function Bk(t){const e=Gce();return qce({adapters:t,userAgentString:e})===Nd.MOBILE_WEB}function Yce(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Qce({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=Aae(),o=zce(e),l=C.useMemo(()=>{if(!Bk(o))return null;const L=o.find(M=>M.name===ly);return L||new wce({addressSelector:vce(),appIdentity:{uri:Yce()},authorizationResultCache:xce(),cluster:Hce(s?.rpcEndpoint),onWalletNotFound:Ece()})},[o,s?.rpcEndpoint]),u=C.useMemo(()=>l==null||o.indexOf(l)!==-1?o:[l,...o],[o,l]),[d,f]=Oae(r,null),p=C.useMemo(()=>u.find(L=>L.name===d)??null,[u,d]),v=C.useCallback(L=>{d!==L&&(p&&p.name!==ly&&p.disconnect(),f(L))},[p,f,d]);C.useEffect(()=>{if(!p)return;function L(){_.current||f(null)}return p.on("disconnect",L),()=>{p.off("disconnect",L)}},[p,o,f,d]);const x=C.useRef(!1),T=C.useMemo(()=>{if(!(!n||!p))return async()=>{(n===!0||await n(p))&&(x.current?await p.connect():await p.autoConnect())}},[n,p]),_=C.useRef(!1);C.useEffect(()=>{if(d===ly&&Bk(o)){_.current=!1;return}function L(){_.current=!0}return window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[o,d]);const E=C.useCallback(()=>{p&&v(null)},[p,v]),N=C.useCallback(L=>{x.current=!0,v(L)},[v]);return ve.createElement(Kce,{wallets:u,adapter:p,isUnloadingRef:_,onAutoConnectRequest:T,onConnectError:E,onError:i,onSelectWallet:N},t)}function u5({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,isGuestMode:i,linkWallet:s}=Np(),{connected:o,publicKey:l}=Bs(),{enableDemoMode:u}=RS(),[d,f]=C.useState("initial"),[p,v]=C.useState(!1),[x,T]=C.useState(!1),[_,E]=C.useState(!1),[N,L]=C.useState(!1);C.useEffect(()=>{t&&(T(!1),f("initial"),v(!1))},[t]),C.useEffect(()=>{(async()=>{if(n&&o&&l&&!x&&!n.isGuest)try{await s(l.toString()),T(!0),hr.success("Wallet Linked!",{description:`Your wallet is now linked to ${n.email}`})}catch(J){console.error("Auto-link wallet failed:",J)}})()},[n,o,l,x,s]);const M=async()=>{if(i){hr.error("Google sign-in is not available",{description:"Running in Guest Mode - Firebase credentials not configured"}),E(!0);return}try{E(!1),await r(),hr.success(" Logged in with Google!"),f("wallet")}catch(Z){console.error("Google login error:",Z),hr.error(Z.message||"Failed to login with Google"),E(!0)}};return C.useEffect(()=>{t&&(p&&o&&l?(hr.success(" Wallet connected! Welcome to GeneriBa"),setTimeout(()=>{e(!1)},500)):!p&&n&&o&&l&&(hr.success(" Successfully connected! Welcome to GeneriBa"),setTimeout(()=>{e(!1)},500)))},[o,l,n,t,e,p]),y.jsx(gT,{open:t,onOpenChange:e,children:y.jsxs(rw,{className:"sm:max-w-lg bg-card border-border",children:[y.jsxs(iw,{children:[y.jsx(sw,{className:"text-3xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-400 to-pink-600",children:"Welcome to GeneriBa"}),y.jsx(yT,{className:"text-center text-base",children:p?"Connect your Solana wallet to get started":d==="initial"?"Sign in with Google to get started":"Now connect your Solana wallet to access all features"})]}),y.jsxs("div",{className:"space-y-6 mt-6",children:[!Ny,i&&Ny&&y.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 flex items-start gap-3",children:[y.jsx(LP,{className:"w-5 h-5 text-amber-500 mt-0.5"}),y.jsxs("div",{className:"flex-1 text-sm",children:[y.jsx("p",{className:"font-semibold text-amber-500",children:"Guest Mode Active"}),y.jsx("p",{className:"text-amber-400/80 text-xs mt-1",children:"Firebase credentials not configured. You have automatic access to all features."})]})]}),!p&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n?"bg-green-500":"bg-primary"}`,children:n?y.jsx(gl,{className:"w-5 h-5 text-white"}):y.jsx("span",{className:"text-white font-bold",children:"1"})}),y.jsx("h3",{className:"text-lg font-semibold",children:"Sign in with Google"})]}),n?y.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[y.jsx(rU,{className:"w-5 h-5 text-green-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-green-500",children:"Connected"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]}),y.jsx(gl,{className:"w-6 h-6 text-green-500"})]}):y.jsxs(Jt,{onClick:M,className:"w-full bg-white hover:bg-gray-100 text-gray-900 border border-gray-300 h-12 text-base",size:"lg",disabled:i,children:[y.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),y.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-6 pt-4 border-t border-border",children:["By connecting, you agree to our"," ",y.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",y.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})})}function Ju({children:t,requireAuth:e=!0}){const[n,r]=C.useState(!1),{user:i,isGuestMode:s}=Np(),{connected:o,publicKey:l}=Bs(),{isDemoMode:u}=RS(),d=O_(),f=xp(),p=!!(i||o&&l||u||s);C.useEffect(()=>{r(!!(e&&!p))},[e,p,f.pathname]);const v=x=>{!x&&e&&!p&&d("/"),r(x)};return e?p?y.jsx(y.Fragment,{children:t}):y.jsxs(y.Fragment,{children:[y.jsx(u5,{open:n,onOpenChange:v}),y.jsx("div",{className:"min-h-screen bg-black"})]}):y.jsx(y.Fragment,{children:t})}var Xce=C.createContext(void 0);function vw(t){const e=C.useContext(Xce);return t||e||"ltr"}var rb="rovingFocusGroup.onEntryFocus",Zce={bubbles:!1,cancelable:!0},$p="RovingFocusGroup",[KE,d5,Jce]=w0($p),[eue,xw]=Fs($p,[Jce]),[tue,nue]=eue($p),f5=C.forwardRef((t,e)=>y.jsx(KE.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(KE.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(rue,{...t,ref:e})})}));f5.displayName=$p;var rue=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,v=C.useRef(null),x=cn(e,v),T=vw(s),[_,E]=jc({prop:o,defaultProp:l??null,onChange:u,caller:$p}),[N,L]=C.useState(!1),M=mi(d),Z=d5(n),J=C.useRef(!1),[re,q]=C.useState(0);return C.useEffect(()=>{const U=v.current;if(U)return U.addEventListener(rb,M),()=>U.removeEventListener(rb,M)},[M]),y.jsx(tue,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:_,onItemFocus:C.useCallback(U=>E(U),[E]),onItemShiftTab:C.useCallback(()=>L(!0),[]),onFocusableItemAdd:C.useCallback(()=>q(U=>U+1),[]),onFocusableItemRemove:C.useCallback(()=>q(U=>U-1),[]),children:y.jsx(St.div,{tabIndex:N||re===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:qe(t.onMouseDown,()=>{J.current=!0}),onFocus:qe(t.onFocus,U=>{const P=!J.current;if(U.target===U.currentTarget&&P&&!N){const z=new CustomEvent(rb,Zce);if(U.currentTarget.dispatchEvent(z),!z.defaultPrevented){const H=Z().filter(W=>W.focusable),k=H.find(W=>W.active),S=H.find(W=>W.id===_),I=[k,S,...H].filter(Boolean).map(W=>W.ref.current);m5(I,f)}}J.current=!1}),onBlur:qe(t.onBlur,()=>L(!1))})})}),h5="RovingFocusGroupItem",p5=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,u=go(),d=s||u,f=nue(h5,n),p=f.currentTabStopId===d,v=d5(n),{onFocusableItemAdd:x,onFocusableItemRemove:T,currentTabStopId:_}=f;return C.useEffect(()=>{if(r)return x(),()=>T()},[r,x,T]),y.jsx(KE.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:y.jsx(St.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:qe(t.onMouseDown,E=>{r?f.onItemFocus(d):E.preventDefault()}),onFocus:qe(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:qe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){f.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const N=oue(E,f.orientation,f.dir);if(N!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let M=v().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(N==="last")M.reverse();else if(N==="prev"||N==="next"){N==="prev"&&M.reverse();const Z=M.indexOf(E.currentTarget);M=f.loop?aue(M,Z+1):M.slice(Z+1)}setTimeout(()=>m5(M))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:_!=null}):o})})});p5.displayName=h5;var iue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oue(t,e,n){const r=sue(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iue[r]}function m5(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g5=f5,y5=p5,GE=["Enter"," "],lue=["ArrowDown","PageUp","Home"],w5=["ArrowUp","PageDown","End"],cue=[...lue,...w5],uue={ltr:[...GE,"ArrowRight"],rtl:[...GE,"ArrowLeft"]},due={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qp="Menu",[hp,fue,hue]=w0(qp),[du,v5]=Fs(qp,[hue,ef,xw]),bw=ef(),x5=xw(),[pue,fu]=du(qp),[mue,Hp]=du(qp),b5=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=bw(e),[u,d]=C.useState(null),f=C.useRef(!1),p=mi(s),v=vw(i);return C.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),y.jsx(f4,{...l,children:y.jsx(pue,{scope:e,open:n,onOpenChange:p,content:u,onContentChange:d,children:y.jsx(mue,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:v,modal:o,children:r})})})};b5.displayName=qp;var gue="MenuAnchor",UT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=bw(n);return y.jsx(C_,{...i,...r,ref:e})});UT.displayName=gue;var zT="MenuPortal",[yue,E5]=du(zT,{forceMount:void 0}),_5=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=fu(zT,e);return y.jsx(yue,{scope:e,forceMount:n,children:y.jsx(Vs,{present:n||s.open,children:y.jsx(mp,{asChild:!0,container:i,children:r})})})};_5.displayName=zT;var us="MenuContent",[wue,WT]=du(us),S5=C.forwardRef((t,e)=>{const n=E5(us,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=fu(us,t.__scopeMenu),o=Hp(us,t.__scopeMenu);return y.jsx(hp.Provider,{scope:t.__scopeMenu,children:y.jsx(Vs,{present:r||s.open,children:y.jsx(hp.Slot,{scope:t.__scopeMenu,children:o.modal?y.jsx(vue,{...i,ref:e}):y.jsx(xue,{...i,ref:e})})})})}),vue=C.forwardRef((t,e)=>{const n=fu(us,t.__scopeMenu),r=C.useRef(null),i=cn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return fT(s)},[]),y.jsx($T,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:qe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xue=C.forwardRef((t,e)=>{const n=fu(us,t.__scopeMenu);return y.jsx($T,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bue=Oc("MenuContent.ScrollLock"),$T=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:x,disableOutsideScroll:T,..._}=t,E=fu(us,n),N=Hp(us,n),L=bw(n),M=x5(n),Z=fue(n),[J,re]=C.useState(null),q=C.useRef(null),U=cn(e,q,E.onContentChange),P=C.useRef(0),z=C.useRef(""),H=C.useRef(0),k=C.useRef(null),S=C.useRef("right"),g=C.useRef(0),I=T?tw:C.Fragment,W=T?{as:bue,allowPinchZoom:!0}:void 0,Y=X=>{const se=z.current+X,$=Z().filter(ce=>!ce.disabled),b=document.activeElement,R=$.find(ce=>ce.ref.current===b)?.textValue,Q=$.map(ce=>ce.textValue),ie=Pue(Q,se,R),ue=$.find(ce=>ce.textValue===ie)?.ref.current;(function ce(_e){z.current=_e,window.clearTimeout(P.current),_e!==""&&(P.current=window.setTimeout(()=>ce(""),1e3))})(se),ue&&setTimeout(()=>ue.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),dT();const K=C.useCallback(X=>S.current===k.current?.side&&Due(X,k.current?.area),[]);return y.jsx(wue,{scope:n,searchRef:z,onItemEnter:C.useCallback(X=>{K(X)&&X.preventDefault()},[K]),onItemLeave:C.useCallback(X=>{K(X)||(q.current?.focus(),re(null))},[K]),onTriggerLeave:C.useCallback(X=>{K(X)&&X.preventDefault()},[K]),pointerGraceTimerRef:H,onPointerGraceIntentChange:C.useCallback(X=>{k.current=X},[]),children:y.jsx(I,{...W,children:y.jsx(J0,{asChild:!0,trapped:i,onMountAutoFocus:qe(s,X=>{X.preventDefault(),q.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(Yd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:x,children:y.jsx(g5,{asChild:!0,...M,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:J,onCurrentTabStopIdChange:re,onEntryFocus:qe(u,X=>{N.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(R_,{role:"menu","aria-orientation":"vertical","data-state":V5(E.open),"data-radix-menu-content":"",dir:N.dir,...L,..._,ref:U,style:{outline:"none",..._.style},onKeyDown:qe(_.onKeyDown,X=>{const $=X.target.closest("[data-radix-menu-content]")===X.currentTarget,b=X.ctrlKey||X.altKey||X.metaKey,R=X.key.length===1;$&&(X.key==="Tab"&&X.preventDefault(),!b&&R&&Y(X.key));const Q=q.current;if(X.target!==Q||!cue.includes(X.key))return;X.preventDefault();const ue=Z().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);w5.includes(X.key)&&ue.reverse(),Nue(ue)}),onBlur:qe(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(P.current),z.current="")}),onPointerMove:qe(t.onPointerMove,pp(X=>{const se=X.target,$=g.current!==X.clientX;if(X.currentTarget.contains(se)&&$){const b=X.clientX>g.current?"right":"left";S.current=b,g.current=X.clientX}}))})})})})})})});S5.displayName=us;var Eue="MenuGroup",qT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(St.div,{role:"group",...r,ref:e})});qT.displayName=Eue;var _ue="MenuLabel",T5=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(St.div,{...r,ref:e})});T5.displayName=_ue;var h0="MenuItem",Fk="menu.itemSelect",Ew=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),o=Hp(h0,t.__scopeMenu),l=WT(h0,t.__scopeMenu),u=cn(e,s),d=C.useRef(!1),f=()=>{const p=s.current;if(!n&&p){const v=new CustomEvent(Fk,{bubbles:!0,cancelable:!0});p.addEventListener(Fk,x=>r?.(x),{once:!0}),f_(p,v),v.defaultPrevented?d.current=!1:o.onClose()}};return y.jsx(A5,{...i,ref:u,disabled:n,onClick:qe(t.onClick,f),onPointerDown:p=>{t.onPointerDown?.(p),d.current=!0},onPointerUp:qe(t.onPointerUp,p=>{d.current||p.currentTarget?.click()}),onKeyDown:qe(t.onKeyDown,p=>{const v=l.searchRef.current!=="";n||v&&p.key===" "||GE.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Ew.displayName=h0;var A5=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=WT(h0,n),l=x5(n),u=C.useRef(null),d=cn(e,u),[f,p]=C.useState(!1),[v,x]=C.useState("");return C.useEffect(()=>{const T=u.current;T&&x((T.textContent??"").trim())},[s.children]),y.jsx(hp.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:y.jsx(y5,{asChild:!0,...l,focusable:!r,children:y.jsx(St.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:qe(t.onPointerMove,pp(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(t.onPointerLeave,pp(T=>o.onItemLeave(T))),onFocus:qe(t.onFocus,()=>p(!0)),onBlur:qe(t.onBlur,()=>p(!1))})})})}),Sue="MenuCheckboxItem",I5=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return y.jsx(k5,{scope:t.__scopeMenu,checked:n,children:y.jsx(Ew,{role:"menuitemcheckbox","aria-checked":p0(n)?"mixed":n,...i,ref:e,"data-state":KT(n),onSelect:qe(i.onSelect,()=>r?.(p0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});I5.displayName=Sue;var C5="MenuRadioGroup",[Tue,Aue]=du(C5,{value:void 0,onValueChange:()=>{}}),R5=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=mi(r);return y.jsx(Tue,{scope:t.__scopeMenu,value:n,onValueChange:s,children:y.jsx(qT,{...i,ref:e})})});R5.displayName=C5;var M5="MenuRadioItem",N5=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=Aue(M5,t.__scopeMenu),s=n===i.value;return y.jsx(k5,{scope:t.__scopeMenu,checked:s,children:y.jsx(Ew,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":KT(s),onSelect:qe(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});N5.displayName=M5;var HT="MenuItemIndicator",[k5,Iue]=du(HT,{checked:!1}),P5=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Iue(HT,n);return y.jsx(Vs,{present:r||p0(s.checked)||s.checked===!0,children:y.jsx(St.span,{...i,ref:e,"data-state":KT(s.checked)})})});P5.displayName=HT;var Cue="MenuSeparator",L5=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(St.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});L5.displayName=Cue;var Rue="MenuArrow",D5=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=bw(n);return y.jsx(M_,{...i,...r,ref:e})});D5.displayName=Rue;var Mue="MenuSub",[bhe,O5]=du(Mue),wh="MenuSubTrigger",j5=C.forwardRef((t,e)=>{const n=fu(wh,t.__scopeMenu),r=Hp(wh,t.__scopeMenu),i=O5(wh,t.__scopeMenu),s=WT(wh,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),y.jsx(UT,{asChild:!0,...d,children:y.jsx(A5,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":V5(n.open),...t,ref:y0(e,i.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:qe(t.onPointerMove,pp(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:qe(t.onPointerLeave,pp(p=>{f();const v=n.content?.getBoundingClientRect();if(v){const x=n.content?.dataset.side,T=x==="right",_=T?-5:5,E=v[T?"left":"right"],N=v[T?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:E,y:v.top},{x:N,y:v.top},{x:N,y:v.bottom},{x:E,y:v.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:qe(t.onKeyDown,p=>{const v=s.searchRef.current!=="";t.disabled||v&&p.key===" "||uue[r.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});j5.displayName=wh;var B5="MenuSubContent",F5=C.forwardRef((t,e)=>{const n=E5(us,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=fu(us,t.__scopeMenu),o=Hp(us,t.__scopeMenu),l=O5(B5,t.__scopeMenu),u=C.useRef(null),d=cn(e,u);return y.jsx(hp.Provider,{scope:t.__scopeMenu,children:y.jsx(Vs,{present:r||s.open,children:y.jsx(hp.Slot,{scope:t.__scopeMenu,children:y.jsx($T,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:qe(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:qe(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:qe(t.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),v=due[o.dir].includes(f.key);p&&v&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});F5.displayName=B5;function V5(t){return t?"open":"closed"}function p0(t){return t==="indeterminate"}function KT(t){return p0(t)?"indeterminate":t?"checked":"unchecked"}function Nue(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Pue(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=kue(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Lue(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],d=l.x,f=l.y,p=u.x,v=u.y;f>r!=v>r&&n<(p-d)*(r-f)/(v-f)+d&&(i=!i)}return i}function Due(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Lue(n,e)}function pp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Oue=b5,jue=UT,Bue=_5,Fue=S5,Vue=qT,Uue=T5,zue=Ew,Wue=I5,$ue=R5,que=N5,Hue=P5,Kue=L5,Gue=D5,Yue=j5,Que=F5,_w="DropdownMenu",[Xue]=Fs(_w,[v5]),yi=v5(),[Zue,U5]=Xue(_w),z5=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=yi(e),d=C.useRef(null),[f,p]=jc({prop:i,defaultProp:s??!1,onChange:o,caller:_w});return y.jsx(Zue,{scope:e,triggerId:go(),triggerRef:d,contentId:go(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(v=>!v),[p]),modal:l,children:y.jsx(Oue,{...u,open:f,onOpenChange:p,dir:r,modal:l,children:n})})};z5.displayName=_w;var W5="DropdownMenuTrigger",$5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=U5(W5,n),o=yi(n);return y.jsx(jue,{asChild:!0,...o,children:y.jsx(St.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:y0(e,s.triggerRef),onPointerDown:qe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:qe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$5.displayName=W5;var Jue="DropdownMenuPortal",q5=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yi(e);return y.jsx(Bue,{...r,...n})};q5.displayName=Jue;var H5="DropdownMenuContent",K5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=U5(H5,n),s=yi(n),o=C.useRef(!1);return y.jsx(Fue,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:qe(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:qe(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K5.displayName=H5;var ede="DropdownMenuGroup",tde=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Vue,{...i,...r,ref:e})});tde.displayName=ede;var nde="DropdownMenuLabel",G5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Uue,{...i,...r,ref:e})});G5.displayName=nde;var rde="DropdownMenuItem",Y5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(zue,{...i,...r,ref:e})});Y5.displayName=rde;var ide="DropdownMenuCheckboxItem",Q5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Wue,{...i,...r,ref:e})});Q5.displayName=ide;var sde="DropdownMenuRadioGroup",ode=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx($ue,{...i,...r,ref:e})});ode.displayName=sde;var ade="DropdownMenuRadioItem",X5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(que,{...i,...r,ref:e})});X5.displayName=ade;var lde="DropdownMenuItemIndicator",Z5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Hue,{...i,...r,ref:e})});Z5.displayName=lde;var cde="DropdownMenuSeparator",J5=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Kue,{...i,...r,ref:e})});J5.displayName=cde;var ude="DropdownMenuArrow",dde=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Gue,{...i,...r,ref:e})});dde.displayName=ude;var fde="DropdownMenuSubTrigger",eB=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Yue,{...i,...r,ref:e})});eB.displayName=fde;var hde="DropdownMenuSubContent",tB=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=yi(n);return y.jsx(Que,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tB.displayName=hde;var pde=z5,mde=$5,gde=q5,nB=K5,rB=G5,iB=Y5,sB=Q5,oB=X5,aB=Z5,lB=J5,cB=eB,uB=tB;const yde=pde,wde=mde,vde=C.forwardRef(({className:t,inset:e,children:n,...r},i)=>y.jsxs(cB,{ref:i,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,y.jsx(Ig,{className:"ml-auto h-4 w-4"})]}));vde.displayName=cB.displayName;const xde=C.forwardRef(({className:t,...e},n)=>y.jsx(uB,{ref:n,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));xde.displayName=uB.displayName;const dB=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(gde,{children:y.jsx(nB,{ref:r,sideOffset:e,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));dB.displayName=nB.displayName;const fy=C.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(iB,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));fy.displayName=iB.displayName;const bde=C.forwardRef(({className:t,children:e,checked:n,...r},i)=>y.jsxs(sB,{ref:i,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(aB,{children:y.jsx(kP,{className:"h-4 w-4"})})}),e]}));bde.displayName=sB.displayName;const Ede=C.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(oB,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(aB,{children:y.jsx(QV,{className:"h-2 w-2 fill-current"})})}),e]}));Ede.displayName=oB.displayName;const fB=C.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(rB,{ref:r,className:ut("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));fB.displayName=rB.displayName;const YE=C.forwardRef(({className:t,...e},n)=>y.jsx(lB,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));YE.displayName=lB.displayName;const _de=[{name:"Need Job",link:"/",icon:JV,requireAuth:!1},{name:"Create Job",link:"/create-job",icon:YV,requireAuth:!0},{name:"Work",link:"/get-loan",icon:XV,requireAuth:!0}];function Vk(){const[t,e]=C.useState(!1),[n,r]=C.useState(null),i=O_(),{user:s,signOut:o,isGuestMode:l}=Np(),{connected:u,publicKey:d,disconnect:f}=Bs(),{isDemoMode:p,disableDemoMode:v}=RS(),x=!!(s||u&&d||p),T=N=>{e(N),!N&&x&&n?(i(n),r(null)):N||r(null)},_=async()=>{try{u&&await f(),s&&!s.isGuest&&await o(),p&&v(),hr.success("Logged out successfully"),i("/")}catch(N){console.error("Logout error:",N),hr.error("Failed to logout")}},E=()=>p?"Demo User":l?"Guest":s?.displayName?s.displayName:s?.email?s.email.split("@")[0]:d?`${d.toString().slice(0,4)}...${d.toString().slice(-4)}`:"User";return y.jsxs("aside",{className:ut("w-64 h-screen bg-black text-white flex flex-col justify-between transition-all duration-300"),children:[y.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-800",children:[y.jsx(u5,{open:t,onOpenChange:T}),y.jsx("img",{src:"/logo.png",alt:"GeneriBa Logo",className:"w-10 h-10 object-contain"}),y.jsx("h1",{className:"font-bold text-xl",children:"GeneriBa"})]}),y.jsx("nav",{className:"flex-1 p-3 overflow-y-auto",children:_de.map(N=>{const L=N.icon;return y.jsxs(M0,{to:N.link,className:"flex items-center gap-3 p-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md",children:[y.jsx(L,{size:20}),y.jsx("span",{children:N.name})]},N.name)})}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:x?y.jsxs(yde,{children:[y.jsx(wde,{asChild:!0,children:y.jsxs(Jt,{size:"sm",variant:"outline",className:"w-full justify-start text-white border-gray-700 hover:bg-gray-800",children:[y.jsx(my,{className:"mr-2 h-4 w-4"}),E()]})}),y.jsxs(dB,{align:"start",className:"w-48",children:[y.jsx(fB,{children:"My Account"}),y.jsx(YE,{}),y.jsxs(fy,{onClick:()=>i("/profile"),children:[y.jsx(my,{className:"mr-2 h-4 w-4"}),"Profile"]}),u&&y.jsxs(fy,{onClick:()=>f(),className:"text-red-400",children:[y.jsx(aU,{className:"mr-2 h-4 w-4"}),"Disconnect Wallet"]}),y.jsx(YE,{}),y.jsxs(fy,{onClick:_,className:"text-red-400",children:[y.jsx(nU,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}):y.jsxs(Jt,{className:"bg-gray-900 text-white flex items-center gap-2 w-full justify-center p-2 rounded-md hover:bg-gray-800",onClick:()=>e(!0),children:[y.jsx(tU,{size:20}),y.jsx("span",{children:"Login"})]})})]})}function Sde({children:t}){const[e,n]=C.useState(!1);return y.jsxs("div",{className:"flex h-screen bg-gray-50 relative",children:[y.jsx("div",{className:"hidden md:flex",children:y.jsx(Vk,{})}),e&&y.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40",onClick:()=>n(!1)}),y.jsx("div",{className:"relative w-64 bg-white shadow-lg z-50",children:y.jsx(Vk,{})})]}),y.jsxs("div",{className:"flex flex-col flex-1 relative z-0",children:[y.jsxs("div",{className:"flex items-center p-4 border-b bg-black md:hidden shadow-sm",children:[y.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:y.jsx(iU,{className:"h-6 w-6",size:50,color:"white"})}),y.jsxs("div",{className:"flex items-center p-4 border-gray-700",children:[y.jsx("img",{src:"/logo.png",alt:"GeneriBa Logo",className:"w-10 h-10 object-contain"}),y.jsx("h1",{className:"font-bold text-xl",children:"GeneriBa"})]})]}),y.jsx("main",{className:"flex-1 overflow-y-auto md:p-0",children:t})]}),y.jsx("div",{id:"wallet-modal-root",className:"z-[9999] fixed inset-0 pointer-events-none"})]})}const Tde=b0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function So({className:t,variant:e,...n}){return y.jsx("div",{className:ut(Tde({variant:e}),t),...n})}const Ade=({children:t,className:e,...n})=>y.jsx(cT.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:y.jsx(Jt,{className:ut("relative overflow-hidden bg-primary hover:bg-primary/90 shadow-xl shadow-primary/30 transition-all duration-300","before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent","before:-translate-x-full hover:before:translate-x-full before:transition-transform before:duration-700",e),...n,children:t})}),Ide=({children:t,className:e,containerClassName:n})=>{const r=C.useRef(null),i=Gy(0),s=Gy(0),o=WM(i),l=WM(s),u=yE(l,[-.5,.5],["17.5deg","-17.5deg"]),d=yE(o,[-.5,.5],["-17.5deg","17.5deg"]),f=v=>{if(!r.current)return;const x=r.current.getBoundingClientRect(),T=x.width,_=x.height,E=v.clientX-x.left,N=v.clientY-x.top,L=E/T-.5,M=N/_-.5;i.set(L),s.set(M)},p=()=>{i.set(0),s.set(0)};return y.jsx(cT.div,{ref:r,onMouseMove:f,onMouseLeave:p,style:{rotateY:d,rotateX:u,transformStyle:"preserve-3d"},className:ut("relative",n),children:y.jsx("div",{style:{transform:"translateZ(75px)",transformStyle:"preserve-3d"},className:ut("w-full",e),children:t})})},Cde=({id:t,title:e,description:n,payout:r,crypto:i,poster:s,trustLevel:o,skills:l,isGroup:u=!1,deadline:d="3 days"})=>y.jsx(M0,{to:`/gig/${t}`,children:y.jsx(Ide,{containerClassName:"group relative overflow-hidden",className:"border border-border bg-gradient-to-br from-card to-card/50 hover:shadow-lg hover:shadow-primary/10 transition-all duration-300 hover:-translate-y-1 w-full",children:y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-display font-semibold text-lg group-hover:text-primary transition-colors line-clamp-1",children:e}),y.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.split(",").slice(0,3).map(f=>y.jsx(So,{variant:"outline",className:"text-xs",children:f},f)),l.split(",").length>3&&y.jsxs(So,{variant:"outline",className:"text-xs",children:["+",l.split(",").length-3]})]}),y.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Qd,{className:"h-4 w-4"}),y.jsxs("span",{children:[d," Days"]})]})}),y.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsx(Ade,{className:"w-full",children:y.jsx(Jt,{className:"w-full bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",size:"sm",children:"Apply Now"})})}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"flex items-center gap-1 text-lg font-bold text-primary",children:r}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"SOL"})]})})]})]})})}),GT=()=>y.jsx("div",{className:"loading-container bg-black",children:y.jsx("div",{className:"loading-spinner"})});function Sw({open:t,onClose:e}){const{select:n,wallets:r,connecting:i}=Bs();if(!t)return null;const s=r.filter(o=>o.readyState==="Installed");return y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/70 backdrop-blur-sm",children:y.jsxs(cT.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-zinc-900 text-white rounded-2xl shadow-2xl p-6 w-[350px] relative",children:[y.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-white",children:y.jsx(yp,{size:20})}),y.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Connect Wallet"}),y.jsx("div",{className:"space-y-3",children:s.length>0?s.map(o=>y.jsxs("button",{onClick:()=>{n(o.adapter.name),e()},disabled:i,className:"w-full flex items-center gap-3 bg-zinc-800 hover:bg-zinc-700 transition rounded-xl py-2 px-4 disabled:opacity-50",children:[o.adapter.icon&&y.jsx("img",{src:o.adapter.icon,alt:o.adapter.name,className:"w-6 h-6"}),y.jsx("span",{className:"flex-1 text-left",children:o.adapter.name})]},o.adapter.name)):y.jsxs("div",{className:"flex flex-col items-center gap-3 text-center text-gray-400",children:[y.jsx("p",{children:"No wallets detected."}),y.jsx("a",{href:"https://phantom.app/download",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg text-sm",children:"Install Phantom"})]})})]})})}const Uk=()=>{const{connected:t,publicKey:e}=Bs(),[n,r]=C.useState(!1),[i,s]=C.useState(!0),[o,l]=C.useState([]);C.useEffect(()=>{u()},[]);const u=async()=>{try{const d=await fr("sql",{query:"SELECT * FROM gigs WHERE assign IS NULL",params:[]});l(d.rows)}catch(d){console.error("Error fetching gigs:",d)}finally{s(!1)}};return i?y.jsx(GT,{}):y.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:y.jsx("div",{className:"flex-grow pt-2 pb-12 px-0 sm:pt-6 sm:pb-24 sm:px-4 md:px-8",children:y.jsxs("div",{className:"container mx-auto max-w-7xl",children:[y.jsxs("div",{className:"mb-8 flex flex-wrap items-center justify-between gap-4 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(oU,{className:"h-8 w-8 text-primary"}),y.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold",children:"Gig Marketplace"})]}),y.jsx("div",{children:t?y.jsxs("button",{className:"bg-white text-black px-5 py-2 rounded-xl font-semibold hover:bg-gray-800 hover:text-white transition",children:[e?.toBase58().slice(0,4),"...",e?.toBase58().slice(-4)]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>r(!0),className:"bg-white text-black px-5 py-2 rounded-xl font-semibold hover:bg-gray-800 hover:text-white transition",children:"Connect Wallet"}),y.jsx(Sw,{open:n,onClose:()=>r(!1)})]})})]}),y.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-full overflow-hidden",children:o.map((d,f)=>y.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${f*50}ms`},children:y.jsx(Cde,{...d})},d.id))}),o.length===0&&y.jsx("div",{className:"mt-16 text-center text-muted-foreground",children:"No gigs found."})]})})})},nr=C.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nr.displayName="Card";const Rde=C.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));Rde.displayName="CardHeader";const Mde=C.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mde.displayName="CardTitle";const Nde=C.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Nde.displayName="CardDescription";const kde=C.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));kde.displayName="CardContent";const Pde=C.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Pde.displayName="CardFooter";var Tw="Tabs",[Lde]=Fs(Tw,[xw]),hB=xw(),[Dde,YT]=Lde(Tw),pB=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,f=vw(l),[p,v]=jc({prop:r,onChange:i,defaultProp:s??"",caller:Tw});return y.jsx(Dde,{scope:n,baseId:go(),value:p,onValueChange:v,orientation:o,dir:f,activationMode:u,children:y.jsx(St.div,{dir:f,"data-orientation":o,...d,ref:e})})});pB.displayName=Tw;var mB="TabsList",gB=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=YT(mB,n),o=hB(n);return y.jsx(g5,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:y.jsx(St.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});gB.displayName=mB;var yB="TabsTrigger",wB=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=YT(yB,n),l=hB(n),u=bB(o.baseId,r),d=EB(o.baseId,r),f=r===o.value;return y.jsx(y5,{asChild:!0,...l,focusable:!i,active:f,children:y.jsx(St.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:qe(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:qe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:qe(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(r)})})})});wB.displayName=yB;var vB="TabsContent",xB=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=YT(vB,n),u=bB(l.baseId,r),d=EB(l.baseId,r),f=r===l.value,p=C.useRef(f);return C.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),y.jsx(Vs,{present:i||f,children:({present:v})=>y.jsx(St.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:v&&s})})});xB.displayName=vB;function bB(t,e){return`${t}-trigger-${e}`}function EB(t,e){return`${t}-content-${e}`}var Ode=pB,_B=gB,SB=wB,TB=xB;const Aw=Ode,Iw=C.forwardRef(({className:t,...e},n)=>y.jsx(_B,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Iw.displayName=_B.displayName;const Cw=C.forwardRef(({className:t,...e},n)=>y.jsx(SB,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Cw.displayName=SB.displayName;const Kp=C.forwardRef(({className:t,...e},n)=>y.jsx(TB,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kp.displayName=TB.displayName;function jde({open:t,setOpen:e,id:n,publickey:r}){const[i,s]=C.useState(""),o=C.useRef(null);C.useEffect(()=>{const u=o.current;u&&(u.style.height="auto",u.style.height=`${u.scrollHeight}px`)},[i]);const l=async u=>{const d=await fr("sql",{query:"INSERT INTO apply (uid, gid, description, publickey) VALUES (?,?,?,?)",params:u});console.log(d)};return y.jsx(gT,{open:t,onOpenChange:e,children:y.jsxs(rw,{className:"w-[60vw] max-w-none",children:[y.jsxs(iw,{children:[y.jsx(sw,{children:"Add Description"}),y.jsx(yT,{children:"Please enter a description below and click submit."})]}),y.jsx("div",{className:"mt-4 flex justify-center",children:y.jsx("div",{className:"relative flex w-[99%] rounded-lg border border-gray-300 bg-transparent focus-within:ring-2 focus-within:ring-primary",children:y.jsx("textarea",{ref:o,value:i,onChange:u=>s(u.target.value),placeholder:"Write here...",rows:1,className:"w-full resize-none overflow-hidden rounded-lg bg-transparent p-3 text-sm text-white focus:outline-none"})})}),y.jsxs(Nj,{className:"flex justify-end mt-4",children:[y.jsx(ore,{asChild:!0,children:y.jsx(Jt,{variant:"outline",children:"Cancel"})}),y.jsx(Jt,{className:"bg-primary text-white",onClick:async()=>{const u=await fr("sql",{query:"SELECT * FROM apply WHERE gid = ? AND uid = ?",params:[n,localStorage.getItem("id")]});console.log(u.rows),u.rows.length==0?(await l([String(localStorage.getItem("id")),String(n),i,String(r)]),e(!1)):hr.error("Application is already submit",{description:"You have already submitted application"})},children:"Submit"})]})]})})}const Bde=()=>{const{id:t}=O4(),{connected:e,publicKey:n,disconnect:r}=Bs(),[i,s]=C.useState(!1),[o,l]=C.useState(!1),[u,d]=C.useState(!0),[f,p]=C.useState(0),[v,x]=C.useState({skills:"",uid:0,title:"",assign:0,description:"",payout:"",deadline:""}),[T,_]=C.useState([]),E=async()=>{const N=await fr("sql",{query:"SELECT * FROM gigs WHERE id = ?",params:[t]});if(x(N.rows[0]),p(N.rows[0].assign==null?0:N.rows[0].assign),localStorage.getItem("id")==N.rows[0].uid){const L=await fr("sql",{query:"SELECT * FROM apply WHERE gid = ?",params:[t]});console.log(L),_(L.rows)}d(!1)};return C.useEffect(()=>{E()},[]),u?y.jsx(GT,{}):y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(jde,{open:i,setOpen:s,id:String(t),publickey:String(n)}),y.jsx("div",{className:"pt-10 pb-20 px-4",children:y.jsxs("div",{className:"container mx-auto max-w-6xl",children:[y.jsxs("div",{className:"mb-8 space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between gap-4 animate-fade-in",children:[y.jsx("div",{className:"flex flex-wrap gap-3",children:v.skills.split(",").map(N=>y.jsx(So,{variant:"outline",children:N}))}),e?y.jsx("button",{className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsxs("h1",{className:"font-display text-l font-bold",children:[n?.toBase58().slice(0,4),"...",n?.toBase58().slice(-4)]})}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>l(!0),className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsx("h1",{className:"font-display text-l font-bold",children:"Connect Wallet"})}),y.jsx(Sw,{open:o,onClose:()=>l(!1)})]})]}),y.jsx("h1",{className:"font-display text-4xl font-bold",children:v.title}),y.jsx("div",{className:"flex flex-wrap items-center gap-6 text-muted-foreground",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Qd,{className:"h-4 w-4"}),y.jsxs("span",{children:[v.deadline," Days"]})]})})]}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs(Aw,{defaultValue:"description",className:"animate-fade-in-up",children:[y.jsx(Iw,{className:"bg-card border border-border",children:y.jsx(Cw,{value:"description",children:"Description"})}),y.jsx(Kp,{value:"description",className:"space-y-6 pb-5",children:y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsx("h2",{className:"font-display font-semibold text-xl mb-4",children:"Project Details"}),y.jsx("div",{className:"prose prose-invert max-w-none space-y-4",children:y.jsx("p",{className:"text-muted-foreground",children:v.description})})]})})]}),Number(localStorage.getItem("id"))==v.uid&&(f==0?T:T.filter(N=>N.uid===f)).map(N=>y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx(M0,{to:`/viewprofile/${N.uid}`,children:y.jsxs("h2",{className:"font-display font-semibold text-xl",children:["Proposal ",N.date.toString().substring(0,10)]})}),f==0?y.jsx(Jt,{className:"bg-purple-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",onClick:async()=>{await fr("sql",{query:"UPDATE gigs SET assign = ?  WHERE id = ?",params:[N.uid,t]}),await fr("mintwork",{gig_id:t}),hr.success("Assigned task",{description:"NFT assigning"}),p(N.uid)},children:"Accept"}):y.jsx(Jt,{className:"bg-purple-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",onClick:async()=>{const L=await fr("sql",{query:"SELECT * FROM payout WHERE gid = ? AND uid = ?",params:[t,N.uid]});console.log(L),L.rows[0].status=="Started"&&await fr("transfer",{amount:L.rows[0].payout,transfer:N.publickey});const M=await fr("sql",{query:"UPDATE payout SET status = ? WHERE gid = ?",params:["Completed",t]});console.log(M),hr.success("Completed")},children:"Payout"})]}),y.jsx("div",{className:"prose prose-invert max-w-none space-y-4",children:y.jsx("p",{className:"text-muted-foreground",children:N.description})})]}))]}),y.jsx("div",{className:"space-y-6",children:y.jsx(nr,{className:"p-6 border-primary/30 bg-gradient-to-br from-primary/10 to-transparent animate-fade-in",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Payout"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-primary",children:v.payout}),y.jsx("span",{className:"text-muted-foreground",children:"SOL"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"Escrow Status"}),y.jsx(So,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:"Funded"})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"Platform Fee"}),y.jsxs("span",{children:["2% (SOL ",Number(v.payout)*2/100,")"]})]}),y.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[y.jsx("span",{children:"You Receive"}),y.jsxs("span",{className:"text-primary",children:["SOL ",Number(v.payout)-Number(v.payout)*2/100]})]})]}),Number(localStorage.getItem("id"))!==v.uid&&v.assign==null&&y.jsx(Jt,{onClick:()=>{e?s(!0):hr.success("Connect Wallet First",{description:"You can't apply for gig until wallet is connected"})},className:"w-full bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",size:"lg",children:"Apply for Gig"})]})})})]})]})})]})};var ib={exports:{}},sb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function Fde(){if(zk)return sb;zk=1;var t=g0();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var x=v(),T=r({inst:{value:x,getSnapshot:v}}),_=T[0].inst,E=T[1];return s(function(){_.value=x,_.getSnapshot=v,u(_)&&E({inst:_})},[p,x,v]),i(function(){return u(_)&&E({inst:_}),p(function(){u(_)&&E({inst:_})})},[p]),o(x),x}function u(p){var v=p.getSnapshot;p=p.value;try{var x=v();return!n(p,x)}catch{return!0}}function d(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return sb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,sb}var Wk;function Vde(){return Wk||(Wk=1,ib.exports=Fde()),ib.exports}var Ude=Vde();function zde(){return Ude.useSyncExternalStore(Wde,()=>!0,()=>!1)}function Wde(){return()=>{}}var QT="Avatar",[$de]=Fs(QT),[qde,AB]=$de(QT),IB=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return y.jsx(qde,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:y.jsx(St.span,{...r,ref:e})})});IB.displayName=QT;var CB="AvatarImage",RB=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=AB(CB,n),l=Hde(r,s),u=mi(d=>{i(d),o.onImageLoadingStatusChange(d)});return wr(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?y.jsx(St.img,{...s,ref:e,src:r}):null});RB.displayName=CB;var MB="AvatarFallback",NB=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=AB(MB,n),[o,l]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),o&&s.imageLoadingStatus!=="loaded"?y.jsx(St.span,{...i,ref:e}):null});NB.displayName=MB;function $k(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hde(t,{referrerPolicy:e,crossOrigin:n}){const r=zde(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=C.useState(()=>$k(s,t));return wr(()=>{l($k(s,t))},[s,t]),wr(()=>{const u=p=>()=>{l(p)};if(!s)return;const d=u("loaded"),f=u("error");return s.addEventListener("load",d),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",f)}},[s,n,e]),o}var kB=IB,PB=RB,LB=NB;const XT=C.forwardRef(({className:t,...e},n)=>y.jsx(kB,{ref:n,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));XT.displayName=kB.displayName;const Kde=C.forwardRef(({className:t,...e},n)=>y.jsx(PB,{ref:n,className:ut("aspect-square h-full w-full",t),...e}));Kde.displayName=PB.displayName;const ZT=C.forwardRef(({className:t,...e},n)=>y.jsx(LB,{ref:n,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ZT.displayName=LB.displayName;const pi=C.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));pi.displayName="Input";const Gp=C.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Gp.displayName="Textarea";var Gde="Label",DB=C.forwardRef((t,e)=>y.jsx(St.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DB.displayName=Gde;var OB=DB;const Yde=b0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kn=C.forwardRef(({className:t,...e},n)=>y.jsx(OB,{ref:n,className:ut(Yde(),t),...e}));kn.displayName=OB.displayName;const Qde=()=>{const[t,e]=C.useState(""),[n,r]=C.useState({name:"",des:"",location:"",website:"",skills:[]}),[i,s]=C.useState(""),o=u=>{const{name:d,value:f}=u.target;r(p=>({...p,[d]:f}))};C.useEffect(()=>{l()},[]);const l=async()=>{const u=await fr("sql",{query:"SELECT * FROM users WHERE id = ?",params:[localStorage.getItem("id")]});e(u.rows[0].email),r(u.rows[0].json==null?{name:"",des:"",location:"",website:"",skills:[]}:u.rows[0].json)};return y.jsx("div",{className:"min-h-screen bg-background",children:y.jsx("div",{className:"pt-10 pb-10 px-4",children:y.jsxs("div",{className:"container mx-auto max-w-6xl",children:[y.jsx("div",{className:"mb-8 space-y-4 animate-fade-in",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(my,{className:"h-8 w-8 text-primary"}),y.jsx("h1",{className:"font-display text-4xl font-bold",children:"Profile & Settings"})]})}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx(nr,{className:"p-6 border-border bg-card",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(XT,{className:"h-24 w-24 mx-auto",children:y.jsx(ZT,{className:"bg-primary/20 text-primary text-3xl",children:"0x"})}),y.jsx("div",{children:y.jsx("div",{className:"font-mono text-sm text-muted-foreground mb-2",children:t})})]})}),y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[y.jsx(NP,{className:"h-5 w-5 text-primary"}),"Achievements"]}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{icon:gl,label:"Reliable",color:"text-green-400"},{icon:Qd,label:"Fast",color:"text-blue-400"},{icon:y_,label:"Top Rated",color:"text-yellow-400"},{icon:gy,label:"Team Player",color:"text-purple-400"},{icon:py,label:"Trusted",color:"text-primary"},{icon:g_,label:"High Earner",color:"text-green-400"}].map((u,d)=>y.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[y.jsx(u.icon,{className:`h-6 w-6 ${u.color} mb-1`}),y.jsx("span",{className:"text-xs text-center",children:u.label})]},d))})]})]}),y.jsx("div",{className:"lg:col-span-2",children:y.jsxs(Aw,{defaultValue:"info",className:"space-y-6",children:[y.jsx(Iw,{className:"bg-card border border-border",children:y.jsx(Cw,{value:"info",children:"Info"})}),y.jsx(Kp,{value:"info",className:"space-y-6",children:y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsx("h3",{className:"font-display font-semibold text-xl mb-4",children:"Basic Information"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"nickname",children:"Nickname (Optional)"}),y.jsx(pi,{id:"nickname",value:n.name,name:"name",onChange:o,placeholder:"Your display name",className:"bg-background border-border mt-1"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"bio",children:"Bio"}),y.jsx(Gp,{id:"bio",value:n.des,name:"des",onChange:o,placeholder:"Tell others about your experience and specialties...",className:"bg-background border-border mt-1 min-h-[100px]"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"location",children:"Location (Optional)"}),y.jsx(pi,{id:"location",name:"location",onChange:o,value:n.location,placeholder:"City, Country",className:"bg-background border-border mt-1"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"website",children:"Website / Portfolio"}),y.jsx(pi,{id:"website",name:"website",onChange:o,value:n.website,placeholder:"https://yourportfolio.com",className:"bg-background border-border mt-1"})]}),y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsx("h3",{className:"font-display font-semibold text-xl mb-4",children:"Your Skills"}),y.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add skills to help clients find you for relevant gigs"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.skills.map(u=>y.jsxs(So,{className:"bg-primary/20 text-primary border-primary/30 hover:bg-primary/30 cursor-pointer",children:[u,y.jsx("button",{className:"ml-2 hover:text-white",children:""})]},u))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(pi,{placeholder:"Add a new skill...",name:"skill",onChange:u=>{s(u.target.value)},className:"bg-background border-border"}),y.jsx(Jt,{className:"bg-primary hover:bg-primary/90",onClick:()=>{var u=n.skills;u.push(i),r(d=>({...d,skills:u}))},children:"Add"})]})]}),y.jsx(Jt,{onClick:async()=>{await fr("sql",{query:"UPDATE users SET json = ? WHERE email = ?",params:[JSON.stringify(n),t]}),hr.success("Profile Updated",{description:"Your Profile is updated"})},className:"bg-primary hover:bg-primary/90",children:"Save Changes"})]})]})})]})})]})]})})})},Xde=()=>{const[t,e]=C.useState(1);return y.jsx("div",{className:"min-h-screen bg-background",children:y.jsx("div",{className:"pt-24 pb-20 px-4",children:y.jsxs("div",{className:"container mx-auto max-w-5xl",children:[y.jsxs("div",{className:"mb-8 space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(db,{className:"h-8 w-8 text-primary"}),y.jsx("h1",{className:"font-display text-4xl font-bold",children:"Post a Gig"})]}),y.jsx("p",{className:"text-xl text-muted-foreground",children:"Find the perfect freelancer for your project"})]}),y.jsx("div",{className:"mb-8",children:y.jsx("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[{num:1,label:"Details"},{num:2,label:"Payment"},{num:3,label:"Requirements"},{num:4,label:"Review"}].map((n,r)=>y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${t>=n.num?"bg-primary text-white":"bg-muted text-muted-foreground"}`,children:t>n.num?y.jsx(gl,{className:"h-5 w-5"}):n.num}),y.jsx("span",{className:"text-xs mt-2 text-muted-foreground",children:n.label})]}),r<3&&y.jsx("div",{className:`h-0.5 w-16 md:w-24 mx-2 ${t>n.num?"bg-primary":"bg-border"}`})]},n.num))})}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-2",children:y.jsxs(nr,{className:"p-8 border-border bg-card",children:[t===1&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("h2",{className:"font-display text-2xl font-bold",children:"Gig Details"}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"title",children:"Gig Title*"}),y.jsx(pi,{id:"title",placeholder:"e.g., Build NFT Marketplace Landing Page",className:"bg-background border-border mt-1"}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Be specific and descriptive"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"description",children:"Description*"}),y.jsx(Gp,{id:"description",placeholder:"Describe your project, requirements, and deliverables...",className:"bg-background border-border mt-1 min-h-[150px]"})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Category*"}),y.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:["Development","Design","Marketing","Writing","Smart Contracts","Consulting","Other"].map(n=>y.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors",children:[y.jsx("input",{type:"radio",name:"category",className:"text-primary"}),y.jsx("span",{className:"text-sm",children:n})]},n))})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Skills Required"}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["React","TypeScript","Web3","Tailwind"].map(n=>y.jsxs(So,{className:"bg-primary/20 text-primary border-primary/30",children:[n,y.jsx("button",{className:"ml-2 hover:text-white",children:""})]},n))}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx(pi,{placeholder:"Add a skill...",className:"bg-background border-border"}),y.jsx(Jt,{variant:"outline",children:"Add"})]})]})]}),t===2&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("h2",{className:"font-display text-2xl font-bold",children:"Payment Details"}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"budget",children:"Budget*"}),y.jsxs("div",{className:"flex gap-3 mt-1",children:[y.jsx(pi,{id:"budget",type:"number",placeholder:"500",className:"bg-background border-border"}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"currency",className:"sr-only",children:"Currency"}),y.jsxs("select",{id:"currency","aria-label":"Currency",className:"px-4 py-2 rounded-md bg-background border border-border",children:[y.jsx("option",{children:"USDC"}),y.jsx("option",{children:"ETH"}),y.jsx("option",{children:"SOL"})]})]})]})]}),y.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{className:"text-muted-foreground",children:"Your Budget"}),y.jsx("span",{className:"font-semibold",children:"$500"})]}),y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{className:"text-muted-foreground",children:"Platform Fee (2%)"}),y.jsx("span",{className:"font-semibold",children:"$10"})]}),y.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border",children:[y.jsx("span",{className:"font-semibold",children:"Freelancer Receives"}),y.jsx("span",{className:"font-semibold text-green-400",children:"$490"})]})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Escrow Type*"}),y.jsxs("div",{className:"space-y-3 mt-2",children:[y.jsxs("label",{className:"flex items-start gap-3 p-4 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors",children:[y.jsx("input",{type:"radio",name:"escrow",className:"mt-1 text-primary",defaultChecked:!0}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:"Full Escrow"}),y.jsx("div",{className:"text-xs text-muted-foreground",children:"100% locked until completion (recommended)"})]})]}),y.jsxs("label",{className:"flex items-start gap-3 p-4 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors",children:[y.jsx("input",{type:"radio",name:"escrow",className:"mt-1 text-primary"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:"Milestone-Based"}),y.jsx("div",{className:"text-xs text-muted-foreground",children:"Release payment per milestone"})]})]})]})]})]}),t===3&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("h2",{className:"font-display text-2xl font-bold",children:"Requirements & Settings"}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"deadline",children:"Deadline*"}),y.jsx(pi,{id:"deadline",type:"date",className:"bg-background border-border mt-1"})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Minimum Trust Level"}),y.jsx("div",{className:"flex gap-3 mt-2",children:[1,2,3,4,5].map(n=>y.jsxs("label",{className:"flex-1 p-3 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors text-center",children:[y.jsx("input",{type:"radio",name:"trust",className:"sr-only"}),y.jsx(py,{className:"h-6 w-6 mx-auto mb-1 text-primary"}),y.jsxs("div",{className:"text-sm font-semibold",children:["Level ",n]})]},n))})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Gig Type"}),y.jsxs("div",{className:"space-y-3 mt-2",children:[y.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors",children:[y.jsx("input",{type:"radio",name:"type",className:"text-primary",defaultChecked:!0}),y.jsx(gy,{className:"h-5 w-5 text-muted-foreground"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:"Solo Freelancer"}),y.jsx("div",{className:"text-xs text-muted-foreground",children:"Hire one person"})]})]}),y.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg bg-muted/50 border border-border hover:border-primary/30 cursor-pointer transition-colors",children:[y.jsx("input",{type:"radio",name:"type",className:"text-primary"}),y.jsx(gy,{className:"h-5 w-5 text-primary"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:"Team/Group"}),y.jsx("div",{className:"text-xs text-muted-foreground",children:"Hire a whole team (recommended for complex projects)"})]})]})]})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"attachments",children:"Attachments (Optional)"}),y.jsxs("div",{className:"mt-2 p-8 rounded-lg border-2 border-dashed border-border hover:border-primary/30 cursor-pointer transition-colors text-center",children:[y.jsx(db,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload files or drag and drop"})]})]})]}),t===4&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("h2",{className:"font-display text-2xl font-bold",children:"Review Your Gig"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[y.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Title"}),y.jsx("div",{className:"font-semibold",children:"Build NFT Marketplace Landing Page"})]}),y.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[y.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Payment"}),y.jsx("div",{className:"text-2xl font-bold text-primary",children:"500 USDC"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[y.jsx(Qd,{className:"h-5 w-5 text-primary mb-2"}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Deadline"}),y.jsx("div",{className:"font-semibold",children:"7 days"})]}),y.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[y.jsx(py,{className:"h-5 w-5 text-primary mb-2"}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Trust Level"}),y.jsx("div",{className:"font-semibold",children:"Level 2+"})]})]}),y.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[y.jsx(gl,{className:"h-5 w-5 text-primary mb-2"}),y.jsx("div",{className:"font-semibold mb-1",children:"Ready to Post!"}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Your gig will be visible to all freelancers immediately"})]})]})]}),y.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-border",children:[t>1&&y.jsx(Jt,{variant:"outline",onClick:()=>e(t-1),className:"flex-1",children:"Back"}),t<4?y.jsxs(Jt,{onClick:()=>e(t+1),className:"flex-1 bg-primary hover:bg-primary/90",children:["Continue",y.jsx(HV,{className:"ml-2 h-4 w-4"})]}):y.jsxs(Jt,{className:"flex-1 bg-primary hover:bg-primary/90",children:[y.jsx(gl,{className:"mr-2 h-4 w-4"}),"Post Gig"]})]})]})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs(nr,{className:"p-6 border-primary/30 bg-gradient-to-br from-primary/10 to-transparent",children:[y.jsx("h3",{className:"font-semibold mb-4",children:"Posting Tips"}),y.jsx("div",{className:"space-y-3 text-sm",children:["Be specific about deliverables","Set realistic deadlines","Offer competitive rates","Require appropriate trust levels","Respond to questions quickly"].map((n,r)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(gl,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),y.jsx("span",{children:n})]},r))})]}),y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsxs("h3",{className:"font-semibold mb-4",children:[y.jsx(g_,{className:"inline h-5 w-5 text-primary mr-2"}),"Pricing Guide"]}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Simple Landing Page"}),y.jsx("span",{className:"font-semibold",children:"$300-600"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Smart Contract"}),y.jsx("span",{className:"font-semibold",children:"$1K-5K"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Full dApp"}),y.jsx("span",{className:"font-semibold",children:"$5K-20K"})]})]})]})]})]})]})})})};function qk(t,[e,n]){return Math.min(n,Math.max(e,t))}function Zde(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jde=[" ","Enter","ArrowUp","ArrowDown"],efe=[" ","Enter"],Qc="Select",[Rw,Mw,tfe]=w0(Qc),[mf]=Fs(Qc,[tfe,ef]),Nw=ef(),[nfe,Fl]=mf(Qc),[rfe,ife]=mf(Qc),jB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:p,disabled:v,required:x,form:T}=t,_=Nw(e),[E,N]=C.useState(null),[L,M]=C.useState(null),[Z,J]=C.useState(!1),re=vw(d),[q,U]=jc({prop:r,defaultProp:i??!1,onChange:s,caller:Qc}),[P,z]=jc({prop:o,defaultProp:l,onChange:u,caller:Qc}),H=C.useRef(null),k=E?T||!!E.closest("form"):!0,[S,g]=C.useState(new Set),I=Array.from(S).map(W=>W.props.value).join(";");return y.jsx(f4,{..._,children:y.jsxs(nfe,{required:x,scope:e,trigger:E,onTriggerChange:N,valueNode:L,onValueNodeChange:M,valueNodeHasChildren:Z,onValueNodeHasChildrenChange:J,contentId:go(),value:P,onValueChange:z,open:q,onOpenChange:U,dir:re,triggerPointerDownPosRef:H,disabled:v,children:[y.jsx(Rw.Provider,{scope:e,children:y.jsx(rfe,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(W=>{g(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:C.useCallback(W=>{g(Y=>{const K=new Set(Y);return K.delete(W),K})},[]),children:n})}),k?y.jsxs(a8,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:p,value:P,onChange:W=>z(W.target.value),disabled:v,form:T,children:[P===void 0?y.jsx("option",{value:""}):null,Array.from(S)]},I):null]})})};jB.displayName=Qc;var BB="SelectTrigger",FB=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Nw(n),o=Fl(BB,n),l=o.disabled||r,u=cn(e,o.onTriggerChange),d=Mw(n),f=C.useRef("touch"),[p,v,x]=c8(_=>{const E=d().filter(M=>!M.disabled),N=E.find(M=>M.value===o.value),L=u8(E,_,N);L!==void 0&&o.onValueChange(L.value)}),T=_=>{l||(o.onOpenChange(!0),x()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return y.jsx(C_,{asChild:!0,...s,children:y.jsx(St.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":l8(o.value)?"":void 0,...i,ref:u,onClick:qe(i.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&T(_)}),onPointerDown:qe(i.onPointerDown,_=>{f.current=_.pointerType;const E=_.target;E.hasPointerCapture(_.pointerId)&&E.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:qe(i.onKeyDown,_=>{const E=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&v(_.key),!(E&&_.key===" ")&&Jde.includes(_.key)&&(T(),_.preventDefault())})})})});FB.displayName=BB;var VB="SelectValue",UB=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,u=Fl(VB,n),{onValueNodeHasChildrenChange:d}=u,f=s!==void 0,p=cn(e,u.onValueNodeChange);return wr(()=>{d(f)},[d,f]),y.jsx(St.span,{...l,ref:p,style:{pointerEvents:"none"},children:l8(u.value)?y.jsx(y.Fragment,{children:o}):s})});UB.displayName=VB;var sfe="SelectIcon",zB=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return y.jsx(St.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});zB.displayName=sfe;var ofe="SelectPortal",WB=t=>y.jsx(mp,{asChild:!0,...t});WB.displayName=ofe;var Xc="SelectContent",$B=C.forwardRef((t,e)=>{const n=Fl(Xc,t.__scopeSelect),[r,i]=C.useState();if(wr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Zc.createPortal(y.jsx(qB,{scope:t.__scopeSelect,children:y.jsx(Rw.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),s):null}return y.jsx(HB,{...t,ref:e})});$B.displayName=Xc;var Ts=10,[qB,Vl]=mf(Xc),afe="SelectContentImpl",lfe=Oc("SelectContent.RemoveScroll"),HB=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:T,hideWhenDetached:_,avoidCollisions:E,...N}=t,L=Fl(Xc,n),[M,Z]=C.useState(null),[J,re]=C.useState(null),q=cn(e,ce=>Z(ce)),[U,P]=C.useState(null),[z,H]=C.useState(null),k=Mw(n),[S,g]=C.useState(!1),I=C.useRef(!1);C.useEffect(()=>{if(M)return fT(M)},[M]),dT();const W=C.useCallback(ce=>{const[_e,...Me]=k().map(tt=>tt.ref.current),[Ve]=Me.slice(-1),We=document.activeElement;for(const tt of ce)if(tt===We||(tt?.scrollIntoView({block:"nearest"}),tt===_e&&J&&(J.scrollTop=0),tt===Ve&&J&&(J.scrollTop=J.scrollHeight),tt?.focus(),document.activeElement!==We))return},[k,J]),Y=C.useCallback(()=>W([U,M]),[W,U,M]);C.useEffect(()=>{S&&Y()},[S,Y]);const{onOpenChange:K,triggerPointerDownPosRef:X}=L;C.useEffect(()=>{if(M){let ce={x:0,y:0};const _e=Ve=>{ce={x:Math.abs(Math.round(Ve.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(Ve.pageY)-(X.current?.y??0))}},Me=Ve=>{ce.x<=10&&ce.y<=10?Ve.preventDefault():M.contains(Ve.target)||K(!1),document.removeEventListener("pointermove",_e),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Me,{capture:!0})}}},[M,K,X]),C.useEffect(()=>{const ce=()=>K(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[K]);const[se,$]=c8(ce=>{const _e=k().filter(We=>!We.disabled),Me=_e.find(We=>We.ref.current===document.activeElement),Ve=u8(_e,ce,Me);Ve&&setTimeout(()=>Ve.ref.current.focus())}),b=C.useCallback((ce,_e,Me)=>{const Ve=!I.current&&!Me;(L.value!==void 0&&L.value===_e||Ve)&&(P(ce),Ve&&(I.current=!0))},[L.value]),R=C.useCallback(()=>M?.focus(),[M]),Q=C.useCallback((ce,_e,Me)=>{const Ve=!I.current&&!Me;(L.value!==void 0&&L.value===_e||Ve)&&H(ce)},[L.value]),ie=r==="popper"?QE:KB,ue=ie===QE?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:T,hideWhenDetached:_,avoidCollisions:E}:{};return y.jsx(qB,{scope:n,content:M,viewport:J,onViewportChange:re,itemRefCallback:b,selectedItem:U,onItemLeave:R,itemTextRefCallback:Q,focusSelectedItem:Y,selectedItemText:z,position:r,isPositioned:S,searchRef:se,children:y.jsx(tw,{as:lfe,allowPinchZoom:!0,children:y.jsx(J0,{asChild:!0,trapped:L.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:qe(i,ce=>{L.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:y.jsx(Yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:y.jsx(ie,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ce=>ce.preventDefault(),...N,...ue,onPlaced:()=>g(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:qe(N.onKeyDown,ce=>{const _e=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!_e&&ce.key.length===1&&$(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ve=k().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const We=ce.target,tt=Ve.indexOf(We);Ve=Ve.slice(tt+1)}setTimeout(()=>W(Ve)),ce.preventDefault()}})})})})})})});HB.displayName=afe;var cfe="SelectItemAlignedPosition",KB=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Fl(Xc,n),o=Vl(Xc,n),[l,u]=C.useState(null),[d,f]=C.useState(null),p=cn(e,q=>f(q)),v=Mw(n),x=C.useRef(!1),T=C.useRef(!0),{viewport:_,selectedItem:E,selectedItemText:N,focusSelectedItem:L}=o,M=C.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&_&&E&&N){const q=s.trigger.getBoundingClientRect(),U=d.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),z=N.getBoundingClientRect();if(s.dir!=="rtl"){const We=z.left-U.left,tt=P.left-We,Yt=q.left-tt,Dt=q.width+Yt,Wt=Math.max(Dt,U.width),xn=window.innerWidth-Ts,Pt=qk(tt,[Ts,Math.max(Ts,xn-Wt)]);l.style.minWidth=Dt+"px",l.style.left=Pt+"px"}else{const We=U.right-z.right,tt=window.innerWidth-P.right-We,Yt=window.innerWidth-q.right-tt,Dt=q.width+Yt,Wt=Math.max(Dt,U.width),xn=window.innerWidth-Ts,Pt=qk(tt,[Ts,Math.max(Ts,xn-Wt)]);l.style.minWidth=Dt+"px",l.style.right=Pt+"px"}const H=v(),k=window.innerHeight-Ts*2,S=_.scrollHeight,g=window.getComputedStyle(d),I=parseInt(g.borderTopWidth,10),W=parseInt(g.paddingTop,10),Y=parseInt(g.borderBottomWidth,10),K=parseInt(g.paddingBottom,10),X=I+W+S+K+Y,se=Math.min(E.offsetHeight*5,X),$=window.getComputedStyle(_),b=parseInt($.paddingTop,10),R=parseInt($.paddingBottom,10),Q=q.top+q.height/2-Ts,ie=k-Q,ue=E.offsetHeight/2,ce=E.offsetTop+ue,_e=I+W+ce,Me=X-_e;if(_e<=Q){const We=H.length>0&&E===H[H.length-1].ref.current;l.style.bottom="0px";const tt=d.clientHeight-_.offsetTop-_.offsetHeight,Yt=Math.max(ie,ue+(We?R:0)+tt+Y),Dt=_e+Yt;l.style.height=Dt+"px"}else{const We=H.length>0&&E===H[0].ref.current;l.style.top="0px";const Yt=Math.max(Q,I+_.offsetTop+(We?b:0)+ue)+Me;l.style.height=Yt+"px",_.scrollTop=_e-Q+_.offsetTop}l.style.margin=`${Ts}px 0`,l.style.minHeight=se+"px",l.style.maxHeight=k+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[v,s.trigger,s.valueNode,l,d,_,E,N,s.dir,r]);wr(()=>M(),[M]);const[Z,J]=C.useState();wr(()=>{d&&J(window.getComputedStyle(d).zIndex)},[d]);const re=C.useCallback(q=>{q&&T.current===!0&&(M(),L?.(),T.current=!1)},[M,L]);return y.jsx(dfe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:re,children:y.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Z},children:y.jsx(St.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KB.displayName=cfe;var ufe="SelectPopperPosition",QE=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ts,...s}=t,o=Nw(n);return y.jsx(R_,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QE.displayName=ufe;var[dfe,JT]=mf(Xc,{}),XE="SelectViewport",GB=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Vl(XE,n),o=JT(XE,n),l=cn(e,s.onViewportChange),u=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Rw.Slot,{scope:n,children:y.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=o;if(v?.current&&p){const x=Math.abs(u.current-f.scrollTop);if(x>0){const T=window.innerHeight-Ts*2,_=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),N=Math.max(_,E);if(N<T){const L=N+x,M=Math.min(T,L),Z=L-M;p.style.height=M+"px",p.style.bottom==="0px"&&(f.scrollTop=Z>0?Z:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});GB.displayName=XE;var YB="SelectGroup",[ffe,hfe]=mf(YB),pfe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=go();return y.jsx(ffe,{scope:n,id:i,children:y.jsx(St.div,{role:"group","aria-labelledby":i,...r,ref:e})})});pfe.displayName=YB;var QB="SelectLabel",XB=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hfe(QB,n);return y.jsx(St.div,{id:i.id,...r,ref:e})});XB.displayName=QB;var m0="SelectItem",[mfe,ZB]=mf(m0),JB=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=Fl(m0,n),u=Vl(m0,n),d=l.value===r,[f,p]=C.useState(s??""),[v,x]=C.useState(!1),T=cn(e,L=>u.itemRefCallback?.(L,r,i)),_=go(),E=C.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(mfe,{scope:n,value:r,disabled:i,textId:_,isSelected:d,onItemTextChange:C.useCallback(L=>{p(M=>M||(L?.textContent??"").trim())},[]),children:y.jsx(Rw.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:y.jsx(St.div,{role:"option","aria-labelledby":_,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:qe(o.onFocus,()=>x(!0)),onBlur:qe(o.onBlur,()=>x(!1)),onClick:qe(o.onClick,()=>{E.current!=="mouse"&&N()}),onPointerUp:qe(o.onPointerUp,()=>{E.current==="mouse"&&N()}),onPointerDown:qe(o.onPointerDown,L=>{E.current=L.pointerType}),onPointerMove:qe(o.onPointerMove,L=>{E.current=L.pointerType,i?u.onItemLeave?.():E.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,L=>{L.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:qe(o.onKeyDown,L=>{u.searchRef?.current!==""&&L.key===" "||(efe.includes(L.key)&&N(),L.key===" "&&L.preventDefault())})})})})});JB.displayName=m0;var vh="SelectItemText",e8=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Fl(vh,n),l=Vl(vh,n),u=ZB(vh,n),d=ife(vh,n),[f,p]=C.useState(null),v=cn(e,N=>p(N),u.onItemTextChange,N=>l.itemTextRefCallback?.(N,u.value,u.disabled)),x=f?.textContent,T=C.useMemo(()=>y.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:E}=d;return wr(()=>(_(T),()=>E(T)),[_,E,T]),y.jsxs(y.Fragment,{children:[y.jsx(St.span,{id:u.textId,...s,ref:v}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zc.createPortal(s.children,o.valueNode):null]})});e8.displayName=vh;var t8="SelectItemIndicator",n8=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZB(t8,n).isSelected?y.jsx(St.span,{"aria-hidden":!0,...r,ref:e}):null});n8.displayName=t8;var ZE="SelectScrollUpButton",r8=C.forwardRef((t,e)=>{const n=Vl(ZE,t.__scopeSelect),r=JT(ZE,t.__scopeSelect),[i,s]=C.useState(!1),o=cn(e,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?y.jsx(s8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});r8.displayName=ZE;var JE="SelectScrollDownButton",i8=C.forwardRef((t,e)=>{const n=Vl(JE,t.__scopeSelect),r=JT(JE,t.__scopeSelect),[i,s]=C.useState(!1),o=cn(e,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;s(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?y.jsx(s8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});i8.displayName=JE;var s8=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Vl("SelectScrollButton",n),o=C.useRef(null),l=Mw(n),u=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),wr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),y.jsx(St.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{u()})})}),gfe="SelectSeparator",o8=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(St.div,{"aria-hidden":!0,...r,ref:e})});o8.displayName=gfe;var e_="SelectArrow",yfe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Nw(n),s=Fl(e_,n),o=Vl(e_,n);return s.open&&o.position==="popper"?y.jsx(M_,{...i,...r,ref:e}):null});yfe.displayName=e_;var wfe="SelectBubbleInput",a8=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=cn(r,i),o=Zde(e);return C.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(p)}},[o,e]),y.jsx(St.select,{...n,style:{...lP,...n.style},ref:s,defaultValue:e})});a8.displayName=wfe;function l8(t){return t===""||t===void 0}function c8(t){const e=mi(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(o=>{const l=n.current+o;e(l),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function u8(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=vfe(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function vfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xfe=jB,d8=FB,bfe=UB,Efe=zB,_fe=WB,f8=$B,Sfe=GB,h8=XB,p8=JB,Tfe=e8,Afe=n8,m8=r8,g8=i8,y8=o8;const Ife=xfe,Cfe=bfe,w8=C.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(d8,{ref:r,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(Efe,{asChild:!0,children:y.jsx(PP,{className:"h-4 w-4 opacity-50"})})]}));w8.displayName=d8.displayName;const v8=C.forwardRef(({className:t,...e},n)=>y.jsx(m8,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(GV,{className:"h-4 w-4"})}));v8.displayName=m8.displayName;const x8=C.forwardRef(({className:t,...e},n)=>y.jsx(g8,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(PP,{className:"h-4 w-4"})}));x8.displayName=g8.displayName;const b8=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>y.jsx(_fe,{children:y.jsxs(f8,{ref:i,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(v8,{}),y.jsx(Sfe,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(x8,{})]})}));b8.displayName=f8.displayName;const Rfe=C.forwardRef(({className:t,...e},n)=>y.jsx(h8,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Rfe.displayName=h8.displayName;const E8=C.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(p8,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Afe,{children:y.jsx(kP,{className:"h-4 w-4"})})}),y.jsx(Tfe,{children:e})]}));E8.displayName=p8.displayName;const Mfe=C.forwardRef(({className:t,...e},n)=>y.jsx(y8,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));Mfe.displayName=y8.displayName;const Hk=[{value:"1-7",label:"1-7 days"},{value:"8-14",label:"1-2 weeks"},{value:"15-30",label:"2-4 weeks"},{value:"30+",label:"1+ months"}];function Nfe(){const[t,e]=C.useState("dashboard"),[n,r]=C.useState(1),[i,s]=C.useState([]),o=new OT("https://api.devnet.solana.com","confirmed"),[l,u]=C.useState([]),{publicKey:d,sendTransaction:f}=Bs(),[p,v]=C.useState(!1),[x,T]=C.useState(!1),{connected:_,disconnect:E}=Bs(),[N,L]=C.useState(!1),M=async g=>{const I=await fr("sql",{query:"INSERT INTO gigs (uid, title, description, payout, crypto, poster, trustLevel, skills,  deadline,sign) VALUES (?,?,?,?,?,?,?,?,?,?)",params:g});console.log(I)};C.useEffect(()=>{Z()},[]);const Z=async()=>{const g=await fr("sql",{query:"SELECT * FROM gigs WHERE uid = ?",params:[localStorage.getItem("id")]});s(g.rows),T(!1)},[J,re]=C.useState({title:"",category:"",description:"",requirements:[],budget:"",duration:"",deadline:"",skills:[],videoUrl:"",attachments:[]}),[q,U]=C.useState(""),P=()=>{q.trim()&&!J.skills.includes(q.trim())&&(re({...J,skills:[...J.skills,q.trim()]}),U(""))},z=g=>{re({...J,skills:J.skills.filter(I=>I!==g)})},H=g=>{switch(g){case 1:return J.title&&J.budget;case 2:return J.description;case 3:return J.duration&&J.skills.length>0;default:return!0}},k=()=>{H(n)?r(n+1):hr.error("Please fill in all required fields")},S=async()=>{T(!0);try{if(!d){alert("Connect your wallet first!");return}try{T(!0);const g=new Xe("4resgyMiKTYALdxfxLH869cf82RgsNEivwgfPabxjwCZ"),I=Number(J.budget)*1e9,W=new Ri().add(up.transfer({fromPubkey:d,toPubkey:g,lamports:I})),Y=await f(W,o),K=await o.getLatestBlockhash();await o.confirmTransaction({signature:Y,blockhash:K.blockhash,lastValidBlockHeight:K.lastValidBlockHeight},"processed"),hr.success(Y),M([localStorage.getItem("id"),J.title,J.description,J.budget,"SOL","",3,J.skills.join(","),J.duration,Y]),e("dashboard"),r(1)}catch(g){console.error(g),alert("Payment failed!")}finally{T(!1)}}catch(g){hr.error(g.message||"Failed to post job")}finally{T(!1)}};return t==="dashboard"?y.jsx("div",{className:"min-h-screen bg-black text-white",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-20",children:[y.jsxs("div",{className:"mb-12 animate-fade-in",children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between gap-4 animate-fade-in",children:[y.jsx("h1",{className:"font-display text-3xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-400 to-pink-600",children:"Your Jobs"}),y.jsx("div",{children:_?y.jsx("button",{className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsxs("h1",{className:"font-display text-l font-bold",children:[d?.toBase58().slice(0,4),"...",d?.toBase58().slice(-4)]})}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>L(!0),className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsx("h1",{className:"font-display text-l font-bold",children:"Connect Wallet"})}),y.jsx(Sw,{open:N,onClose:()=>L(!1)})]})})]}),y.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Manage your posted jobs and track applications"}),y.jsxs(Jt,{onClick:()=>{_?e("create"):hr.error("Connect Wallet First",{description:"You can't create a gig until your wallet is connected"})},className:"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",children:[y.jsx(db,{className:"w-4 h-4 mr-2"}),"Post New Job"]})]}),y.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-8"}),y.jsx(Aw,{defaultValue:"all",className:"animate-fade-in-up",style:{animationDelay:"200ms"},children:y.jsx(Kp,{value:"all",className:"space-y-4",children:i.map((g,I)=>y.jsx(nr,{className:"p-6 border-border bg-gradient-to-br from-card to-card/50 hover:shadow-lg hover:shadow-primary/10 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${I*50}ms`},children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"flex items-center gap-3 mb-2",children:y.jsx("h3",{className:"text-xl font-semibold",children:g.title})}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[y.jsx("span",{className:"flex items-center gap-1",children:y.jsx(KV,{className:"w-4 h-4"})}),y.jsxs("span",{className:"flex items-center gap-1",children:["SOL ",g.payout.toLocaleString()]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Qd,{className:"w-4 h-4"}),g.deadline.toLocaleString()," Days"]})]}),y.jsx("div",{className:"text-sm text-muted-foreground"})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx(M0,{to:`/gig/${g.id}`,children:y.jsx(Jt,{variant:"outline",size:"sm",children:y.jsx(ZV,{className:"w-4 h-4"})})})})]})},g.id))})})]})}):x?y.jsx(GT,{}):y.jsxs("div",{className:"min-h-screen bg-black text-white",children:[y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-10",children:[y.jsxs("div",{className:"mb-12 animate-fade-in",children:[y.jsx(Jt,{variant:"ghost",onClick:()=>e("dashboard"),className:"mb-4 hover:bg-card",children:" Back to Dashboard"}),y.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-400 to-pink-600",children:"Post a New Job"}),y.jsx("p",{className:"text-lg text-muted-foreground",children:"Find the perfect freelancer for your project"})]}),y.jsxs("div",{className:"mb-12",children:[y.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(g=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${g===n?"border-primary bg-primary text-white":g<n?"border-green-500 bg-green-500 text-white":"border-border bg-card text-muted-foreground"}`,children:g<n?y.jsx(TC,{className:"w-5 h-5"}):g}),g<4&&y.jsx("div",{className:`h-0.5 w-16 md:w-32 mx-2 transition-all ${g<n?"bg-green-500":"bg-border"}`})]},g))}),y.jsxs("div",{className:"flex justify-between mt-2",children:[y.jsx("span",{className:"text-xs text-muted-foreground",children:"Basics"}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"Details"}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"Preferences"}),y.jsx("span",{className:"text-xs text-muted-foreground",children:"Review"})]})]}),n===1&&y.jsxs(nr,{className:"p-8 border-border bg-gradient-to-br from-card to-card/50 animate-fade-in",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Job Basics"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"title",children:"Job Title *"}),y.jsx(pi,{id:"title",placeholder:"e.g., Build a responsive website with React",value:J.title,onChange:g=>re({...J,title:g.target.value}),className:"mt-2"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"budget",children:"Budget (SOL) *"}),y.jsx(pi,{id:"budget",type:"number",placeholder:"e.g., 5000",value:J.budget,onChange:g=>re({...J,budget:g.target.value}),className:"mt-2"})]})]}),y.jsx("div",{className:"flex justify-end mt-8",children:y.jsxs(Jt,{onClick:k,className:"bg-gradient-to-r from-primary to-purple-600",children:["Next Step",y.jsx(Ig,{className:"w-4 h-4 ml-2"})]})})]}),n===2&&y.jsxs(nr,{className:"p-8 border-border bg-gradient-to-br from-card to-card/50 animate-fade-in",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Job Details"}),y.jsx("div",{className:"space-y-6",children:y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"description",children:"Description *"}),y.jsx(Gp,{id:"description",placeholder:"Describe your project in detail...",value:J.description,onChange:g=>re({...J,description:g.target.value}),className:"mt-2 min-h-[150px]"})]})}),y.jsxs("div",{className:"flex justify-between mt-8",children:[y.jsx(Jt,{variant:"outline",onClick:()=>r(n-1),children:"Previous"}),y.jsxs(Jt,{onClick:k,className:"bg-gradient-to-r from-primary to-purple-600",children:["Next Step",y.jsx(Ig,{className:"w-4 h-4 ml-2"})]})]})]}),n===3&&y.jsxs(nr,{className:"p-8 border-border bg-gradient-to-br from-card to-card/50 animate-fade-in",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Preferences"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"duration",children:"Expected Duration *"}),y.jsxs(Ife,{value:J.duration,onValueChange:g=>re({...J,duration:g}),children:[y.jsx(w8,{className:"mt-2",children:y.jsx(Cfe,{placeholder:"Select duration"})}),y.jsx(b8,{children:Hk.map(g=>y.jsx(E8,{value:g.value,children:g.label},g.value))})]})]}),y.jsxs("div",{children:[y.jsx(kn,{children:"Required Skills *"}),y.jsxs("div",{className:"mt-2 flex gap-2",children:[y.jsx(pi,{placeholder:"Add a skill...",value:q,onChange:g=>U(g.target.value),onKeyPress:g=>g.key==="Enter"&&(g.preventDefault(),P())}),y.jsx(Jt,{onClick:P,type:"button",children:"Add"})]}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:J.skills.map((g,I)=>y.jsxs(So,{variant:"secondary",className:"px-3 py-1",children:[g,y.jsx(yp,{className:"w-3 h-3 ml-2 cursor-pointer",onClick:()=>z(g)})]},I))})]})]}),y.jsxs("div",{className:"flex justify-between mt-8",children:[y.jsx(Jt,{variant:"outline",onClick:()=>r(n-1),children:"Previous"}),y.jsxs(Jt,{onClick:k,className:"bg-gradient-to-r from-primary to-purple-600",children:["Review",y.jsx(Ig,{className:"w-4 h-4 ml-2"})]})]})]}),n===4&&y.jsxs(nr,{className:"p-8 border-border bg-gradient-to-br from-card to-card/50 animate-fade-in",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Review Your Job"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-2",children:J.title}),y.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[y.jsxs("span",{children:["SOL ",J.budget]}),y.jsx("span",{children:Hk.find(g=>g.value===J.duration)?.label})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),y.jsx("p",{className:"text-muted-foreground",children:J.description})]}),J.videoUrl&&y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-2",children:"Project Video"}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[y.jsx(lU,{className:"w-4 h-4"}),y.jsx("span",{className:"truncate",children:J.videoUrl})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-2",children:"Required Skills"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:J.skills.map((g,I)=>y.jsx(So,{variant:"secondary",children:g},I))})]}),J.attachments.length>0&&y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-2",children:"Attachments"}),y.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:J.attachments.map((g,I)=>y.jsxs("div",{children:[" ",g.name]},I))})]})]}),y.jsxs("div",{className:"flex justify-between mt-8",children:[y.jsx(Jt,{variant:"outline",onClick:()=>r(n-1),children:"Previous"}),y.jsx(Jt,{onClick:S,disabled:x,className:"bg-gradient-to-r from-primary to-purple-600",children:x?"Posting...":"Post Job"})]})]})]}),y.jsx(gT,{open:p,onOpenChange:v,children:y.jsxs(rw,{className:"max-w-4xl max-h-[80vh] overflow-y-auto bg-card border-border",children:[y.jsx(iw,{children:y.jsxs(sw,{className:"text-2xl flex items-center gap-2",children:[y.jsx(sU,{className:"w-6 h-6 text-primary"}),"Top Matched Candidates"]})}),y.jsx("div",{className:"grid gap-4 mt-4",children:l.length===0?y.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matched candidates found yet. Check back later!"}):l.map(g=>y.jsxs(nr,{className:"p-6 border-border bg-gradient-to-br from-card to-card/50 hover:shadow-lg hover:shadow-primary/10 transition-all",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold mb-1",children:g.candidateName}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(So,{variant:g.matchScore>=80?"default":"secondary",className:"bg-gradient-to-r from-primary to-purple-600",children:g.matchScore>=90?" Excellent Match":g.matchScore>=80?" Great Match":" Good Match"}),y.jsxs("span",{className:"text-sm text-muted-foreground",children:["Score: ",g.matchScore,"/100"]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-3xl font-bold text-primary",children:g.matchScore}),y.jsx("div",{className:"text-xs text-muted-foreground",children:"Match Score"})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[y.jsx(y_,{className:"w-4 h-4 text-primary"}),"Why this candidate matches:"]}),y.jsx("ul",{className:"space-y-1.5",children:g.matchReasons.map((I,W)=>y.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[y.jsx(TC,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),y.jsx("span",{children:I})]},W))})]}),y.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"Recommended Rate: "}),y.jsxs("span",{className:"font-semibold text-lg text-primary",children:["$",g.recommendedRate,"/hr"]})]}),y.jsx(Jt,{variant:"outline",size:"sm",children:"View Profile"})]})]})]},g.candidateId))}),y.jsx("div",{className:"flex justify-end mt-4",children:y.jsx(Jt,{onClick:()=>v(!1),children:"Close"})})]})})]})}const _8=new Xe("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Xe("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const kfe=new Xe("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Xe("So11111111111111111111111111111111111111112");new Xe("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const eA=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var cc={},Kk;function Pfe(){if(Kk)return cc;Kk=1,Object.defineProperty(cc,"__esModule",{value:!0});function t(i){{const s=Jn.from(i);s.reverse();const o=s.toString("hex");return o.length===0?BigInt(0):BigInt(`0x${o}`)}}cc.toBigIntLE=t;function e(i){{const s=i.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}cc.toBigIntBE=e;function n(i,s){{const o=i.toString(16),l=Jn.from(o.padStart(s*2,"0").slice(0,s*2),"hex");return l.reverse(),l}}cc.toBufferLE=n;function r(i,s){{const o=i.toString(16);return Jn.from(o.padStart(s*2,"0").slice(0,s*2),"hex")}}return cc.toBufferBE=r,cc}var Gk=Pfe();const Lfe=t=>e=>{const n=fe.blob(t,e),{encode:r,decode:i}=eA(n),s=n;return s.decode=(o,l)=>{const u=i(o,l);return Gk.toBigIntLE(Jn.from(u))},s.encode=(o,l,u)=>{const d=Gk.toBufferLE(o,t);return r(d,l,u)},s},S8=Lfe(8),Dfe=t=>{const e=fe.u8(t),{encode:n,decode:r}=eA(e),i=e;return i.decode=(s,o)=>!!r(s,o),i.encode=(s,o,l)=>{const u=Number(s);return n(u,o,l)},i},Yk=t=>{const e=fe.blob(32,t),{encode:n,decode:r}=eA(e),i=e;return i.decode=(s,o)=>{const l=r(s,o);return new Xe(l)},i.encode=(s,o,l)=>{const u=s.toBuffer();return n(u,o,l)},i};class Ofe extends Error{constructor(e){super(e)}}class jfe extends Ofe{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var t_;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension"})(t_||(t_={}));function Bfe(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof Xe?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}const Ffe=fe.struct([fe.u32("mintAuthorityOption"),Yk("mintAuthority"),S8("supply"),fe.u8("decimals"),Dfe("isInitialized"),fe.u32("freezeAuthorityOption"),Yk("freezeAuthority")]);Ffe.span;async function Qk(t,e,n=!1,r=_8,i=kfe){if(!n&&!Xe.isOnCurve(e.toBuffer()))throw new jfe;const[s]=await Xe.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return s}const Xk=fe.struct([fe.u8("instruction"),S8("amount")]);function Vfe(t,e,n,r,i=[],s=_8){const o=Bfe([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),l=Jn.alloc(Xk.span);return Xk.encode({instruction:t_.Transfer,amount:BigInt(r)},l),new ss({keys:o,programId:s,data:l})}function Ufe(){const{user:t}=Np(),[e,n]=C.useState(!0),[r,i]=C.useState(!0),[s,o]=C.useState([]),{publicKey:l,connected:u}=Bs(),d=Bs();C.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await fr("sql",{query:"SELECT * FROM payout WHERE uid = ?",params:[localStorage.getItem("id")]});o(p.rows||[])}catch(p){console.error("Error fetching NFTs:",p)}finally{n(!1)}};return y.jsx("div",{className:"min-h-screen bg-black text-white",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-20",children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between gap-4 animate-fade-in",children:[y.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary via-purple-400 to-pink-600",children:"Work History"}),y.jsx("div",{children:u?y.jsx("button",{className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsxs("h1",{className:"font-display text-l font-bold",children:[l?.toBase58().slice(0,4),"...",l?.toBase58().slice(-4)]})}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>i(!0),className:"bg-white text-black px-5 py-2 rounded-xl hover:bg-gray-800 transition",children:y.jsx("h1",{className:"font-display text-l font-bold",children:"Connect Wallet"})}),y.jsx(Sw,{open:r,onClose:()=>i(!1)})]})})]}),y.jsx("div",{className:"mb-12 animate-fade-in",children:y.jsx("p",{className:"text-lg text-muted-foreground",children:"Instant credit based on your work history and reputation  no identity verification required."})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsx("div",{className:"flex space-x-6 pb-4",children:e?y.jsx("p",{children:"Loading NFTs..."}):s.length===0?y.jsx("p",{className:"text-gray-400",children:"No NFTs found."}):s.map((p,v)=>y.jsxs("div",{className:"flex-none w-60 bg-gray-900 rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300",children:[y.jsx("img",{src:"https://earn.generiba.ai/logo.png",className:"w-full h-40 object-cover rounded-t-2xl"}),y.jsxs("div",{className:"p-4 space-y-2",children:[y.jsxs("h2",{className:"font-semibold text-lg truncate",children:["Gig Reward #",p.gid]}),y.jsxs("p",{className:"text-sm text-gray-400 truncate",children:["SOL ",p.payout]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-purple-400"}),p.status=="Started"?y.jsxs(Jt,{className:"bg-purple-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",onClick:async()=>{if(!d?.connected||!d?.publicKey){console.log(" Wallet not connected.");return}try{console.log(" Connected wallet:",d.publicKey.toBase58());const x=new OT("https://api.devnet.solana.com"),T=new Xe(p.nft_id),_=new Xe("4resgyMiKTYALdxfxLH869cf82RgsNEivwgfPabxjwCZ"),E=await Qk(T,d.publicKey),N=await Qk(T,_),L=Vfe(E,N,d.publicKey,1),M=new Ri().add(L),Z=await d.sendTransaction(M,x);await fr("transfer",{amount:p.payout*(20/100),transfer:d.publicKey}),await fr("sql",{query:"UPDATE payout SET `status`='loaned' WHERE id = ?",params:[p.id]}),hr.success(Z),console.log(" Tx Signature:",Z)}catch(x){console.error(" Error sending NFT:",x)}},children:["Avail Instant SOL ",p.payout-p.payout*(20/100)]}):y.jsx(Jt,{className:"bg-purple-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",onClick:async()=>{},children:p.status})]})]})]},v))})})]})})}const T8={setVisible(t){console.error(A8("call","setVisible"))},visible:!1};Object.defineProperty(T8,"visible",{get(){return console.error(A8("read","visible")),!1}});function A8(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const I8=C.createContext(T8);function zfe(){return C.useContext(I8)}const Wfe=t=>ve.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ve.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ve.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),$fe=({wallet:t,...e})=>t&&ve.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),Zk=({id:t,children:e,expanded:n=!1})=>{const r=C.useRef(null),i=C.useRef(!0),s="height 250ms ease-out",o=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.scrollHeight+"px"})},l=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.offsetHeight+"px",u.style.overflow="hidden",requestAnimationFrame(()=>{u.style.height="0"})})};return C.useLayoutEffect(()=>{n?o():l()},[n]),C.useLayoutEffect(()=>{const u=r.current;if(!u)return;function d(){u&&(u.style.overflow=n?"initial":"hidden",n&&(u.style.height="auto"))}function f(p){u&&p.target===u&&p.propertyName==="height"&&d()}return i.current&&(d(),i.current=!1),u.addEventListener("transitionend",f),()=>u.removeEventListener("transitionend",f)},[n]),ve.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},ob=({handleClick:t,tabIndex:e,wallet:n})=>ve.createElement("li",null,ve.createElement(Wfe,{onClick:t,startIcon:ve.createElement($fe,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Ut.Installed&&ve.createElement("span",null,"Detected"))),qfe=()=>ve.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ve.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ve.createElement("g",{clipPath:"url(#clip0_880_5115)"},ve.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ve.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ve.createElement("defs",null,ve.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ve.createElement("stop",{stopColor:"#9945FF"}),ve.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ve.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ve.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ve.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ve.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ve.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ve.createElement("stop",{stopColor:"#9945FF"}),ve.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ve.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ve.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ve.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ve.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ve.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ve.createElement("stop",{stopColor:"#9945FF"}),ve.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ve.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ve.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ve.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ve.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ve.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ve.createElement("stop",{stopColor:"#9945FF"}),ve.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ve.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ve.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ve.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ve.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ve.createElement("clipPath",{id:"clip0_880_5115"},ve.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Hfe=({className:t="",container:e="body"})=>{const n=C.useRef(null),{wallets:r,select:i}=Bs(),{setVisible:s}=zfe(),[o,l]=C.useState(!1),[u,d]=C.useState(!1),[f,p]=C.useState(null),[v,x]=C.useMemo(()=>{const M=[],Z=[];for(const J of r)J.readyState===Ut.Installed?M.push(J):Z.push(J);return M.length?[M,Z]:[Z,[]]},[r]),T=C.useCallback(()=>{d(!1),setTimeout(()=>s(!1),150)},[s]),_=C.useCallback(M=>{M.preventDefault(),T()},[T]),E=C.useCallback((M,Z)=>{i(Z),_(M)},[i,_]),N=C.useCallback(()=>l(!o),[o]),L=C.useCallback(M=>{const Z=n.current;if(!Z)return;const J=Z.querySelectorAll("button"),re=J[0],q=J[J.length-1];M.shiftKey?document.activeElement===re&&(q.focus(),M.preventDefault()):document.activeElement===q&&(re.focus(),M.preventDefault())},[n]);return C.useLayoutEffect(()=>{const M=J=>{J.key==="Escape"?T():J.key==="Tab"&&L(J)},{overflow:Z}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",M,!1),()=>{document.body.style.overflow=Z,window.removeEventListener("keydown",M,!1)}},[T,L]),C.useLayoutEffect(()=>p(document.querySelector(e)),[e]),f&&Zc.createPortal(ve.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${u&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ve.createElement("div",{className:"wallet-adapter-modal-container"},ve.createElement("div",{className:"wallet-adapter-modal-wrapper"},ve.createElement("button",{onClick:_,className:"wallet-adapter-modal-button-close"},ve.createElement("svg",{width:"14",height:"14"},ve.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),v.length?ve.createElement(ve.Fragment,null,ve.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ve.createElement("ul",{className:"wallet-adapter-modal-list"},v.map(M=>ve.createElement(ob,{key:M.adapter.name,handleClick:Z=>E(Z,M.adapter.name),wallet:M})),x.length?ve.createElement(Zk,{expanded:o,id:"wallet-adapter-modal-collapse"},x.map(M=>ve.createElement(ob,{key:M.adapter.name,handleClick:Z=>E(Z,M.adapter.name),tabIndex:o?0:-1,wallet:M}))):null),x.length?ve.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:N,tabIndex:0},ve.createElement("span",null,o?"Less ":"More ","options"),ve.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ve.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ve.createElement(ve.Fragment,null,ve.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ve.createElement("div",{className:"wallet-adapter-modal-middle"},ve.createElement(qfe,null)),x.length?ve.createElement(ve.Fragment,null,ve.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:N,tabIndex:0},ve.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),ve.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ve.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ve.createElement(Zk,{expanded:o,id:"wallet-adapter-modal-collapse"},ve.createElement("ul",{className:"wallet-adapter-modal-list"},x.map(M=>ve.createElement(ob,{key:M.adapter.name,handleClick:Z=>E(Z,M.adapter.name),tabIndex:o?0:-1,wallet:M}))))):null))),ve.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:_})),f)},Kfe=({children:t,...e})=>{const[n,r]=C.useState(!1);return ve.createElement(I8.Provider,{value:{visible:n,setVisible:r}},t,n&&ve.createElement(Hfe,{...e}))},Gfe="modulepreload",Yfe=function(t){return"/"+t},Jk={},C8=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=u(n.map(d=>{if(d=Yfe(d),d in Jk)return;Jk[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Gfe,f||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((x,T)=>{v.addEventListener("load",x),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Qfe="Phantom";class Xfe extends FT{constructor(e={}){super(),this.name=Qfe,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ut.Unsupported:Ut.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new jT),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Xe(n.toBytes())}catch(i){this.emit("error",new Gd(i?.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ut.Unsupported&&(IE()?(this._readyState=Ut.Loadable,this.emit("readyStateChange",this._readyState)):W6(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Ut.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ut.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Ut.Loadable){const r=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${i}`;return}if(this.readyState!==Ut.Installed)throw new Gc;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(r){throw new Yc(r?.message,r)}if(!e.publicKey)throw new Sc;let n;try{n=new Xe(e.publicKey.toBytes())}catch(r){throw new Gd(r?.message,r)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new BT(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new rr;try{const{signers:s,...o}=r;fa(e)?s?.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s?.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:l}=await i.signAndSendTransaction(e,o);return l}catch(s){throw s instanceof Nr?s:new da(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new rr;try{return await n.signTransaction(e)||e}catch(r){throw new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new rr;try{return await n.signAllTransactions(e)||e}catch(r){throw new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new rr;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new pw(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}const Zfe="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var gn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jfe=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},hy,Rc,n_,r_,i_,si,s_,R8,M8,o_,a_,l_,c_,u_;class ehe{constructor(){hy.add(this),Rc.set(this,{}),n_.set(this,"1.0.0"),r_.set(this,"MetaMask"),i_.set(this,Zfe),si.set(this,null),s_.set(this,(e,n)=>(gn(this,Rc,"f")[e]?.push(n)||(gn(this,Rc,"f")[e]=[n]),()=>gn(this,hy,"m",M8).call(this,e,n))),o_.set(this,async()=>{if(!gn(this,si,"f")){let e;try{e=(await C8(async()=>{const{default:n}=await import("./index-DxId50OI.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}Jfe(this,si,new e,"f"),gn(this,si,"f").on("standard_change",n=>gn(this,hy,"m",R8).call(this,"change",n))}return this.accounts.length||await gn(this,si,"f").connect(),{accounts:this.accounts}}),a_.set(this,async()=>{gn(this,si,"f")&&await gn(this,si,"f").disconnect()}),l_.set(this,async(...e)=>{if(!gn(this,si,"f"))throw new rr;return await gn(this,si,"f").standardSignAndSendTransaction(...e)}),c_.set(this,async(...e)=>{if(!gn(this,si,"f"))throw new rr;return await gn(this,si,"f").standardSignTransaction(...e)}),u_.set(this,async(...e)=>{if(!gn(this,si,"f"))throw new rr;return await gn(this,si,"f").standardSignMessage(...e)})}get version(){return gn(this,n_,"f")}get name(){return gn(this,r_,"f")}get icon(){return gn(this,i_,"f")}get chains(){return[fp,Y6,Q6]}get features(){return{[mw]:{version:"1.0.0",connect:gn(this,o_,"f")},[l0]:{version:"1.0.0",disconnect:gn(this,a_,"f")},[gw]:{version:"1.0.0",on:gn(this,s_,"f")},[fi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:gn(this,l_,"f")},[jn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:gn(this,c_,"f")},[sa]:{version:"1.0.0",signMessage:gn(this,u_,"f")}}}get accounts(){return gn(this,si,"f")?gn(this,si,"f").standardAccounts:[]}}Rc=new WeakMap,n_=new WeakMap,r_=new WeakMap,i_=new WeakMap,si=new WeakMap,s_=new WeakMap,o_=new WeakMap,a_=new WeakMap,l_=new WeakMap,c_=new WeakMap,u_=new WeakMap,hy=new WeakSet,R8=function(e,...n){gn(this,Rc,"f")[e]?.forEach(r=>r.apply(null,n))},M8=function(e,n){gn(this,Rc,"f")[e]=gn(this,Rc,"f")[e]?.filter(r=>n!==r)};let eP=!1;function the(){eP||(Tce(new ehe),eP=!0)}async function nhe(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){const i=r.data;i?.target==="metamask-inpage"&&i.data?.name==="metamask-provider"&&(i.data.data?.id===t?(window.removeEventListener("message",n),i.data.data.error||the()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const rhe="Solflare";class ihe extends FT{constructor(e={}){super(),this.name=rhe,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ut.Unsupported:Ut.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new jT),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Xe(n.toBytes())}catch(i){this.emit("error",new Gd(i?.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Ut.Unsupported&&(W6(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=Ut.Installed,this.emit("readyStateChange",this._readyState),!0):!1),nhe())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ut.Loadable&&IE()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ut.Loadable&&this._readyState!==Ut.Installed)throw new Gc;if(this.readyState===Ut.Loadable&&IE()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await C8(async()=>{const{default:i}=await import("./index-rYKTbTTO.js");return{default:i}},[])).default}catch(i){throw new Nae(i?.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new yd(i?.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new Yc(i?.message,i)}if(!n.publicKey)throw new Yc;let r;try{r=new Xe(n.publicKey.toBytes())}catch(i){throw new Gd(i?.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new BT(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new rr;try{const{signers:s,...o}=r;return fa(e)?s?.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s?.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,o)}catch(s){throw s instanceof Nr?s:new da(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new rr;try{return await n.signTransaction(e)||e}catch(r){throw new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new rr;try{return await n.signAllTransactions(e)||e}catch(r){throw new ks(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new rr;try{return await n.signMessage(e,"utf8")}catch(r){throw new pw(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}const she=()=>{const{id:t}=O4(),[e,n]=C.useState(""),[r,i]=C.useState({name:"",des:"",location:"",website:"",skills:[]}),[s,o]=C.useState("");C.useEffect(()=>{l()},[]);const l=async()=>{const u=await fr("sql",{query:"SELECT * FROM users WHERE id = ?",params:[t]});n(u.rows[0].email),i(u.rows[0].json==null?{name:"",des:"",location:"",website:"",skills:[]}:u.rows[0].json)};return y.jsx("div",{className:"min-h-screen bg-background",children:y.jsx("div",{className:"pt-10 pb-20 px-4",children:y.jsxs("div",{className:"container mx-auto max-w-6xl",children:[y.jsx("div",{className:"mb-8 space-y-4 animate-fade-in",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(my,{className:"h-8 w-8 text-primary"}),y.jsx("h1",{className:"font-display text-4xl font-bold",children:"Profile & Settings"})]})}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx(nr,{className:"p-6 border-border bg-card",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(XT,{className:"h-24 w-24 mx-auto",children:y.jsx(ZT,{className:"bg-primary/20 text-primary text-3xl",children:"0x"})}),y.jsx("div",{children:y.jsx("div",{className:"font-mono text-sm text-muted-foreground mb-2",children:e})})]})}),y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[y.jsx(NP,{className:"h-5 w-5 text-primary"}),"Achievements"]}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{icon:gl,label:"Reliable",color:"text-green-400"},{icon:Qd,label:"Fast",color:"text-blue-400"},{icon:y_,label:"Top Rated",color:"text-yellow-400"},{icon:gy,label:"Team Player",color:"text-purple-400"},{icon:py,label:"Trusted",color:"text-primary"},{icon:g_,label:"High Earner",color:"text-green-400"}].map((u,d)=>y.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[y.jsx(u.icon,{className:`h-6 w-6 ${u.color} mb-1`}),y.jsx("span",{className:"text-xs text-center",children:u.label})]},d))})]})]}),y.jsx("div",{className:"lg:col-span-2",children:y.jsxs(Aw,{defaultValue:"info",className:"space-y-6",children:[y.jsx(Iw,{className:"bg-card border border-border",children:y.jsx(Cw,{value:"info",children:"Info"})}),y.jsx(Kp,{value:"info",className:"space-y-6",children:y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsx("h3",{className:"font-display font-semibold text-xl mb-4",children:"Basic Information"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"nickname",children:"Nickname (Optional)"}),y.jsx(pi,{id:"nickname",value:r.name,name:"name",readOnly:!0,placeholder:"Your display name",className:"bg-background border-border mt-1"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"bio",children:"Bio"}),y.jsx(Gp,{id:"bio",value:r.des,name:"des",readOnly:!0,placeholder:"Tell others about your experience and specialties...",className:"bg-background border-border mt-1 min-h-[100px]"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"location",children:"Location (Optional)"}),y.jsx(pi,{id:"location",name:"location",readOnly:!0,value:r.location,placeholder:"City, Country",className:"bg-background border-border mt-1"})]}),y.jsxs("div",{children:[y.jsx(kn,{htmlFor:"website",children:"Website / Portfolio"}),y.jsx(pi,{id:"website",name:"website",readOnly:!0,value:r.website,placeholder:"https://yourportfolio.com",className:"bg-background border-border mt-1"})]}),y.jsxs(nr,{className:"p-6 border-border bg-card",children:[y.jsx("h3",{className:"font-display font-semibold text-xl mb-4",children:"Your Skills"}),y.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add skills to help clients find you for relevant gigs"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:r.skills.map(u=>y.jsxs(So,{className:"bg-primary/20 text-primary border-primary/30 hover:bg-primary/30 cursor-pointer",children:[u,y.jsx("button",{className:"ml-2 hover:text-white",children:""})]},u))})]})]})]})})]})})]})]})})})},ohe=new N7,ahe=()=>{const t="https://api.devnet.solana.com",e=[new Xfe,new ihe];return y.jsx(Iae,{endpoint:t,children:y.jsx(Qce,{wallets:e,autoConnect:!0,children:y.jsx(Kfe,{children:y.jsx(P7,{client:ohe,children:y.jsx(iX,{children:y.jsx(sX,{children:y.jsx(NW,{children:y.jsxs(a7,{children:[y.jsx($U,{}),y.jsx(E9,{}),y.jsx(ene,{}),y.jsx(Sde,{children:y.jsxs(SW,{children:[y.jsx(Zo,{path:"/",element:y.jsx(Uk,{})}),y.jsx(Zo,{path:"/create-job",element:y.jsx(Ju,{children:y.jsx(Nfe,{})})}),y.jsx(Zo,{path:"/get-loan",element:y.jsx(Ju,{children:y.jsx(Ufe,{})})}),y.jsx(Zo,{path:"/gig/:id",element:y.jsx(Ju,{children:y.jsx(Bde,{})})}),y.jsx(Zo,{path:"/profile",element:y.jsx(Ju,{children:y.jsx(Qde,{})})}),y.jsx(Zo,{path:"/viewprofile/:id",element:y.jsx(Ju,{children:y.jsx(she,{})})}),y.jsx(Zo,{path:"/post-gig",element:y.jsx(Ju,{children:y.jsx(Xde,{})})}),y.jsx(Zo,{path:"*",element:y.jsx(Uk,{})})]})})]})})})})})})})})};qF.createRoot(document.getElementById("root")).render(y.jsx(ahe,{}));export{Xe as P,fi as S,Ri as T,cp as V,jn as a,sa as b,Ol as g};
